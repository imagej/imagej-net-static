<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>Miji - ImageJ</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Miji","wgTitle":"Miji","wgCurRevisionId":25768,"wgRevisionId":25768,"wgArticleId":1325,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Tutorials","Matlab"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Miji","wgRelevantArticleId":1325,"wgRequestId":"a63e31e4245685e28941d0be","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgPreferredVariant":"en","fancytree_path":"/extensions/TreeAndMenu/fancytree"});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user.cssprefs":"ready","user":"ready","user.options":"loading","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","skins.erudite":"ready"});mw.loader.implement("user.options@0j3lz3q",function($,jQuery,require,module){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens@1ku9xth",function ( $, jQuery, require, module ) {
mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});/*@nomin*/;

});mw.loader.load(["mediawiki.page.startup"]);});</script>
<link rel="stylesheet" href="erudite14.css"/>
<link rel="stylesheet" href="extensions/TreeAndMenu/fancytree/fancytree.css"/><link rel="stylesheet" href="extensions/TreeAndMenu/suckerfish/suckerfish.css"/>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="erudite15.css"/>
<meta name="generator" content="MediaWiki 1.28.0"/>
<meta name="description" content="MIJ is a java package to exchange images between MATLAB and ImageJ. It is written by Daniel Sage (Biomedical Image Group (BIG), Ecole Polytechnique Fédérale de Lausanne (EPFL), Switzerland) and Dimiter Prodanov (Department of Physiology and Pharmacology, Université Catholique de Louvain (UCL), Brussels, Belgium). It allows to start a instance of ImageJ inside MATLAB and exchange images back and forth with it. It takes advantage of the fact that the user interface of MATLAB is written in Java."/>
<link rel="shortcut icon" href="skins/ij2.ico"/>

<script type="text/javascript" src="extensions/SyntaxHighlighter/syntaxhighlighter/scripts/shCore.js"></script>
<script type="text/javascript" src="extensions/SyntaxHighlighter/syntaxhighlighter/scripts/shBrushMatlab.js"></script>
<script type="text/javascript" src="extensions/SyntaxHighlighter/syntaxhighlighter/scripts/shBrushJScript.js"></script>
<script type="text/javascript">
SyntaxHighlighter.all();
</script>
<link rel="stylesheet" type="text/css" media="screen" href="extensions/SyntaxHighlighter/syntaxhighlighter/styles/shCoreMinit.css" />

	<meta property="og:type" content="article"/>

	<meta property="og:site_name" content="ImageJ"/>

	<meta property="og:title" content="Miji"/>

	<meta property="og:description" content="MIJ is a java package to exchange images between MATLAB and ImageJ. It is written by Daniel Sage (Biomedical Image Group (BIG), Ecole Polytechnique Fédérale de Lausanne (EPFL), Switzerland) and Dimiter Prodanov (Department of Physiology and Pharmacology, Université Catholique de Louvain (UCL), Brussels, Belgium). It allows to start a instance of ImageJ inside MATLAB and exchange images back and forth with it. It takes advantage of the fact that the user interface of MATLAB is written in Java."/>


<meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Miji rootpage-Miji skin-erudite action-view">
		<div id="top-wrap" role="banner">
			<h1><a href="Welcome" title="ImageJ" rel="home">ImageJ</a></h1>
			<div id="tagline">From ImageJ</div>

			<a id="menubutton" href="Miji.html#menu">Menu</a>
			<div id="nav" role="navigation">
			<ul id='menu'>
<li id="menu-item-n-About"><a href="ImageJ">About</a></li>
<li id="menu-item-n-Downloads"><a href="Downloads">Downloads</a></li>
<li id="menu-item-n-Learn"><a href="Learn">Learn</a></li>
<li id="menu-item-n-Develop"><a href="Development">Develop</a></li>
<li id="menu-item-n-News"><a href="News">News</a></li>
<li id="menu-item-n-Events"><a href="Events">Events</a></li>
<li id="menu-item-n-Help"><a href="Help">Help</a></li>
</ul>
			</div>
		</div>

		<div id="mw-js-message"></div>
		
		<div id="main" role="main">

			<div id="bodyContent">
				<div style="font-size: large; border: 1px solid black; padding: 1em; margin-bottom: 1em; text-align: center; background-color: #fda;">
					This is an archive of the old MediaWiki-based ImageJ wiki. The current website can be found at <a href="https://imagej.net/">imagej.net</a>.
				</div>

				<h1>Miji</h1>
				
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div style="overflow:hidden"><table class="metadata plainlinks ambox ambox-notice">
<tr>
<td class="ambox-image">
<p><a href="./File:Information-sign.png" class="image"><img alt="Information-sign.png" src="images/2/24/Information-sign.png" width="40" height="40" /></a>
</p>
</td>
<td> This page covers the original compatibility layer for running ImageJ 1.x within MATLAB.<br />The current library for ImageJ/MATLAB integration is <a href="MATLAB_Scripting" title="MATLAB Scripting">ImageJ-MATLAB</a>; it has many advantages over this legacy project. </td>
<p><br />
</p>
</tr>
</table></div>
<p><br />
<a rel="nofollow" class="external text" href="http://bigwww.epfl.ch/sage/soft/mij/">MIJ</a> is a java package to exchange images between <a href="MATLAB" class="mw-redirect" title="MATLAB">MATLAB</a> and ImageJ. It is written by <a href="./User:Sage" title="User:Sage">Daniel Sage</a> (Biomedical Image Group (BIG), Ecole Polytechnique Fédérale de Lausanne (EPFL), Switzerland) and <a href="./User:Dimiterpp" title="User:Dimiterpp">Dimiter Prodanov</a> (Department of Physiology and Pharmacology, Université Catholique de Louvain (UCL), Brussels, Belgium). It allows to start a instance of ImageJ inside <a href="MATLAB" class="mw-redirect" title="MATLAB">MATLAB</a> and exchange images back and forth with it. It takes advantage of the fact that the user interface of <a href="MATLAB" class="mw-redirect" title="MATLAB">MATLAB</a> is written in Java. 
</p><p>For your convenience, Jacques Pecreaux &amp; <a href="./User:Schindelin" title="User:Schindelin">Johannes Schindelin</a> wrote Miji.m, which makes it super-easy to use Fiji and the libraries and functions provided by <a href="Fiji" title="Fiji">Fiji</a>'s components from within <a href="MATLAB" class="mw-redirect" title="MATLAB">MATLAB</a>. Simply make sure that the <i>scripts/</i> directory of your <i>Fiji.app/</i> is in <a href="MATLAB" class="mw-redirect" title="MATLAB">MATLAB</a>'s search patch, via <span><em><span style="border-bottom:1px dotted #ccc;"> File </span>&#160;&#8250; <span style="border-bottom:1px dotted #ccc;"> Set Path...</span></em></span> (on Mac, the file chooser doesn't let you choose directories within .app packages, so you have to use the <a href="MATLAB" class="mw-redirect" title="MATLAB">MATLAB</a> command <i>addpath('/Applications/Fiji.app/scripts')</i> ). Then a simple
</p>
<pre class="brush:matlab">
Miji;
</pre>
<p>will start a Fiji inside <a href="MATLAB" class="mw-redirect" title="MATLAB">MATLAB</a>.
</p>
<div style="overflow:hidden"><table class="metadata plainlinks ambox ambox-content">
<tr>
<td class="ambox-image">
<p><a href="./File:Important-sign.png" class="image"><img alt="Important-sign.png" src="images/f/f0/Important-sign.png" width="40" height="40" /></a>
</p>
</td>
<td> There are over 300 jar and plugin files that ship with Fiji, and depending on your operating system and configuration, you may run into <b>too many files open</b> errors (for example, on OSX <a href="MATLAB" class="mw-redirect" title="MATLAB">MATLAB</a> seems to use the default soft limit for open files, which is typically 256). If this happens you will need to increase the open file limit per-session or system-wide. See <a rel="nofollow" class="external text" href="http://docs.basho.com/riak/latest/ops/tuning/open-files-limit/">this guide</a> for helpful instructions on doing so for OSX and Linux. </td>
<p><br />
</p>
</tr>
</table></div>
<p><br />
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="Miji.html#Getting_started"><span class="tocnumber">1</span> <span class="toctext">Getting started</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="Miji.html#Using_MATLAB_as_processing_core_and_sending_results_to_Fiji"><span class="tocnumber">1.1</span> <span class="toctext">Using MATLAB as processing core and sending results to Fiji</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="Miji.html#Running_ImageJ_commands"><span class="tocnumber">1.2</span> <span class="toctext">Running ImageJ commands</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="Miji.html#Opening_images"><span class="tocnumber">1.3</span> <span class="toctext">Opening images</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="Miji.html#Using_Fiji_as_a_3D_viewer_for_MATLAB"><span class="tocnumber">1.4</span> <span class="toctext">Using Fiji as a 3D viewer for MATLAB</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6"><a href="Miji.html#Getting_help"><span class="tocnumber">2</span> <span class="toctext">Getting help</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="./Miji.html#Alternative:_do_not_start_the_Fiji_GUI"><span class="tocnumber">3</span> <span class="toctext">Alternative: do not start the Fiji GUI</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="Miji.html#Links"><span class="tocnumber">4</span> <span class="toctext">Links</span></a></li>
</ul>
</div>

<h1><span class="mw-headline" id="Getting_started">Getting started</span></h1>
<h2><span class="mw-headline" id="Using_MATLAB_as_processing_core_and_sending_results_to_Fiji">Using MATLAB as processing core and sending results to Fiji</span></h2>
<p>An example how to work with MIJ is provided here:
</p>
<pre class="brush:matlab">
MIJ.run('Embryos (42K)');
I = MIJ.getCurrentImage;
E = imadjust(wiener2(im2double(I(:,:,1))));
imshow(E);
MIJ.createImage('result', E, true);
</pre>
<p>If you get an error saying that some Plugin related classes cannot be found, please update your Fiji with <span><em><span style="border-bottom:1px dotted #ccc;"> Help </span>&#160;&#8250; <span style="border-bottom:1px dotted #ccc;"> Update Fiji</span></em></span>!
</p>
<h2><span class="mw-headline" id="Running_ImageJ_commands">Running ImageJ commands</span></h2>
<p>In ImageJ, you can <a rel="nofollow" class="external text" href="http://mirror.imagej.net/docs/guide/146-31.html#sub:Record...">record macros</a>, one of the most powerful ways to use the program. Most of the recorded statements will look like this:
</p>
<pre class="brush:javascript">
run("Command", "key1=7 key2 key3=[C:\\Documents and Settings\\Fiji\\Test.png]");
</pre>
<p>The first parameter to the <i>run()</i> method is the menu item's label which identifies the plugin to run (in this example, the label would read: <i>Command</i>).
</p><p>The second parameter is a String containing values the user specified via an <a rel="nofollow" class="external text" href="http://jenkins.imagej.net/job/ImageJ1-javadoc/javadoc/ij/gui/GenericDialog.html">ImageJ dialog</a>. Every value is identified by a label, and except for checkboxes (such as <i>key2</i> in the example above), they have values. If the values contain spaces, you need to  enclose the value in square brackets (such as <i>key3</i> in the example above).
</p><p>Note that the backslash is a so-called <i>escape character</i>, i.e. it can be used to insert special characters such as line breaks or tabs. To insert a plain backslash, it has to be repeated therefore (as in the <i>key3</i> value: <b>C:\Documents and Settings</b> becomes <b>"C:\\Documents and Settings"</b>).
</p><p>You can use those recorded statements in a slightly modified form via MIJ:
</p>
<ol><li> replace the double quotes by single quotes</li>
<li> prefix the <i>run</i> name with <i>MIJ.</i></li></ol>
<p>The above example would read like this:
</p>
<pre class="brush:matlab">
MIJ.run('Command', 'key1=7 key2 key3=[C:\\Documents and Settings\\Fiji\\Test.png]');
</pre>
<p>Note: in <a href="MATLAB" class="mw-redirect" title="MATLAB">MATLAB</a>, it is not strictly necessary to end the <i>MIJ.run()</i> statement with a semicolon, because it does not return anything. However, it is good practice with MIJ to end all statements in semicolons: some functions return images, cluttering the output and taking a very long time to print if the statement does not end in a semicolon.
</p>
<h2><span class="mw-headline" id="Opening_images">Opening images</span></h2>
<p>Normally, the best way to use MIJ is to <a href="Miji.html#Running_ImageJ_commands">use ImageJ's macro recorder</a>. However, this procedure does not work when opening images because ImageJ records simply: <b>open("/path/to/image.png");</b>
</p><p>Instead, one needs to keep in mind how <i>run()</i> statements are constructed and imitate it for the <i>Open...</i> command:
</p>
<pre class="brush:matlab">
MIJ.run('Open...', 'path=[C:\\Documents and Settings\\Fiji\\Test.png]');
</pre>
<h2><span class="mw-headline" id="Using_Fiji_as_a_3D_viewer_for_MATLAB">Using Fiji as a 3D viewer for MATLAB</span></h2>
<p>A set of demos made for <a href="MATLAB" class="mw-redirect" title="MATLAB">MATLAB</a> users, and introducing how to install and use Fiji as a visualization tool for <a href="MATLAB" class="mw-redirect" title="MATLAB">MATLAB</a> is published on the <a rel="nofollow" class="external text" href="http://www.mathworks.com/matlabcentral/fileexchange/32344-hardware-accelerated-3d-viewer-for-matlab">fex</a>.
</p>
<h1><span class="mw-headline" id="Getting_help">Getting help</span></h1>
<p>To get a quick help on the available functions, call
</p>
<pre class="brush:matlab">
MIJ.help
</pre>
<p>Further descriptions and example code can be found on <a rel="nofollow" class="external text" href="http://bigwww.epfl.ch/sage/soft/mij/">the home page for MIJ</a>. Eventually, detailed documentation about the class MIJ can be found <a rel="nofollow" class="external text" href="http://bigwww.epfl.ch/sage/soft/mij/doc/index.html">here</a> (suitable if you have a bit of experience with Java). 
</p><p><br /> 
</p>
<div class="MediaTransformError" style="width: 800px; height: 0px; display:inline-block;">Error creating thumbnail: Unable to save thumbnail to destination</div> 
<h1><span class="mw-headline" id="Alternative:_do_not_start_the_Fiji_GUI">Alternative: do not start the Fiji GUI</span></h1>
<p>If you want to use the functions without starting Fiji's graphical interface, just call
</p>
<pre class="brush:matlab">
Miji(false);
</pre>
<p><br />
</p>
<h1><span class="mw-headline" id="Links">Links</span></h1>
<p>A related project is <a rel="nofollow" class="external text" href="http://code.google.com/p/matlabcontrol/">MatlabControl</a> which allows you to start <a href="MATLAB" class="mw-redirect" title="MATLAB">MATLAB</a> conveniently from within Java.
</p>
<!-- 
NewPP limit report
Cached time: 20200713073006
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.056 seconds
Real time usage: 0.054 seconds
Preprocessor visited node count: 571/1000000
Preprocessor generated node count: 4095/1000000
Post‐expand include size: 3213/2097152 bytes
Template argument size: 1599/2097152 bytes
Highest expansion depth: 6/40
Expensive parser function count: 0/3
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%   21.521      1 - -total
 53.03%   11.412      3 - Template:Person
 20.68%    4.451      2 - Template:Bc
 16.25%    3.498      1 - Template:Notice
 15.30%    3.292      2 - Template:Ambox
  6.81%    1.465      1 - Template:Warning
  5.74%    1.235      2 - Template:Arrow
-->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="index.php?title=Miji&amp;oldid=25768">http://imagej.net/index.php?title=Miji&amp;oldid=25768</a>"</div>
							</div>

			<div id="footer">
				<p> This page was last modified on 27 December 2016, at 13:08.</p><ul><li><a href="./ImageJ:Privacy_policy" title="ImageJ:Privacy policy">Privacy policy</a></li><li><a href="./ImageJ:About" class="mw-redirect" title="ImageJ:About">About ImageJ</a></li><li><a href="Imprint" title="Imprint">Imprint</a></li></ul>			</div>

			<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="./Special:Categories" title="Special:Categories">Categories</a>: <ul><li><a href="./Category:Tutorials" title="Category:Tutorials">Tutorials</a></li><li><a href="./Category:Matlab" title="Category:Matlab">Matlab</a></li></ul></div></div>		</div>

		<div id="bottom-wrap">
			<div id="footer-wrap-inner">
				<div id="ternary" class="footer">
					<ul>
						<li class="widget">
							<img id="logo" src="skins/imagej-128.png" alt="">
						</li>
					</ul>
				</div>
			</div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.loader.load(["ext.fancytree","ext.suckerfish","mediawiki.toc","mediawiki.action.view.postEdit","site","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","ext.SimpleTooltip"]);});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":218});});</script>
		</body>
		</html>
		
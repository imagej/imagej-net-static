<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>Distance Analysis - ImageJ</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Distance_Analysis","wgTitle":"Distance Analysis","wgCurRevisionId":45244,"wgRevisionId":45244,"wgArticleId":12183,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Plugins","Analysis","Colocalization","Citable"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Distance_Analysis","wgRelevantArticleId":12183,"wgRequestId":"d6c1699e1c5dcd5382c94d88","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgPreferredVariant":"en","fancytree_path":"/extensions/TreeAndMenu/fancytree"});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user.cssprefs":"ready","user":"ready","user.options":"loading","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","skins.erudite":"ready"});mw.loader.implement("user.options@0j3lz3q",function($,jQuery,require,module){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens@1ku9xth",function ( $, jQuery, require, module ) {
mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});/*@nomin*/;

});mw.loader.load(["mediawiki.page.startup"]);});</script>
<link rel="stylesheet" href="erudite14.css"/>
<link rel="stylesheet" href="extensions/TreeAndMenu/fancytree/fancytree.css"/><link rel="stylesheet" href="extensions/TreeAndMenu/suckerfish/suckerfish.css"/>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="erudite15.css"/>
<meta name="generator" content="MediaWiki 1.28.0"/>
<meta name="description" content="This plugin allows&amp;#160;:"/>
<link rel="shortcut icon" href="skins/ij2.ico"/>
	<meta property="og:type" content="article"/>

	<meta property="og:site_name" content="ImageJ"/>

	<meta property="og:title" content="Distance Analysis"/>

	<meta property="og:description" content="This plugin allows&amp;#160;:"/>


<meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Distance_Analysis rootpage-Distance_Analysis skin-erudite action-view">
		<div id="top-wrap" role="banner">
			<h1><a href="Welcome" title="ImageJ" rel="home">ImageJ</a></h1>
			<div id="tagline">From ImageJ</div>

			<a id="menubutton" href="Distance_Analysis.html#menu">Menu</a>
			<div id="nav" role="navigation">
			<ul id='menu'>
<li id="menu-item-n-About"><a href="ImageJ">About</a></li>
<li id="menu-item-n-Downloads"><a href="Downloads">Downloads</a></li>
<li id="menu-item-n-Learn"><a href="Learn">Learn</a></li>
<li id="menu-item-n-Develop"><a href="Development">Develop</a></li>
<li id="menu-item-n-News"><a href="News">News</a></li>
<li id="menu-item-n-Events"><a href="Events">Events</a></li>
<li id="menu-item-n-Help"><a href="Help">Help</a></li>
</ul>
			</div>
		</div>

		<div id="mw-js-message"></div>
		
		<div id="main" role="main">

			<div id="bodyContent">
				<div style="font-size: large; border: 1px solid black; padding: 1em; margin-bottom: 1em; text-align: center; background-color: #fda;">
					This is an archive of the old MediaWiki-based ImageJ wiki. The current website can be found at <a href="https://imagej.net/">imagej.net</a>.
				</div>

				<h1>Distance Analysis</h1>
				
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="Distance_Analysis.html#Distance_Analysis_.28DiAna.29"><span class="tocnumber">1</span> <span class="toctext">Distance Analysis (DiAna)</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="Distance_Analysis.html#Author"><span class="tocnumber">2</span> <span class="toctext">Author</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="Distance_Analysis.html#Features"><span class="tocnumber">3</span> <span class="toctext">Features</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="Distance_Analysis.html#Description"><span class="tocnumber">4</span> <span class="toctext">Description</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="Distance_Analysis.html#Images_to_analyse"><span class="tocnumber">4.1</span> <span class="toctext">Images to analyse</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="Distance_Analysis.html#Interactions_filters"><span class="tocnumber">4.2</span> <span class="toctext">Interactions filters</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="Distance_Analysis.html#Measures_.26_Analysis"><span class="tocnumber">4.3</span> <span class="toctext">Measures &amp; Analysis</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="./Distance_Analysis.html#The_plugin_retrieves_:"><span class="tocnumber">4.4</span> <span class="toctext">The plugin retrieves&#160;:</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="./Distance_Analysis.html#Batch_:"><span class="tocnumber">4.5</span> <span class="toctext">Batch&#160;:</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-10"><a href="Distance_Analysis.html#Installation"><span class="tocnumber">5</span> <span class="toctext">Installation</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="Distance_Analysis.html#Citation"><span class="tocnumber">6</span> <span class="toctext">Citation</span></a></li>
<li class="toclevel-1 tocsection-12"><a href="Distance_Analysis.html#License"><span class="tocnumber">7</span> <span class="toctext">License</span></a></li>
<li class="toclevel-1 tocsection-13"><a href="Distance_Analysis.html#Change_log"><span class="tocnumber">8</span> <span class="toctext">Change log</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Distance_Analysis_.28DiAna.29">Distance Analysis (DiAna)</span></h2>
<p>This plugin allows&#160;:
</p>
<ul><li> Calculating co-localization between objects in 3D</li>
<li> Measuring 3D distances between nearest object, co-localized or not</li>
<li> Getting some 3D measurements about each objects</li></ul>
<p>The plugin can be used with labelled images, but it also integrates tools for the segmentation of the objects.
</p>
<h2><span class="mw-headline" id="Author">Author</span></h2>
<p>Jean-François Gilles, Institute of Biology Paris Seine (France). jean-francois.gilles (at) upmc.fr
</p>
Thomas Boudier  <div class="MediaTransformError" style="width: 200px; height: 0px; display:inline-block;">Error creating thumbnail: Unable to save thumbnail to destination</div>, <a rel="nofollow" class="external text" href="https://www.sinica.edu.tw/en">Academia Sinica</a>, Taipei, Taiwan.
<h2><span class="mw-headline" id="Features">Features</span></h2>
<p><b>Denoise filter</b>
</p>
<ul><li> Mean, Median, Gaussian blur filters</li></ul>
<p><b>Segmentation of the objects</b>
</p>
<ul><li> Global thresholding</li></ul>
<ul><li> <a rel="nofollow" class="external text" href="https://imagejdocu.list.lu/plugin/segmentation/3d_spots_segmentation/start">3D Segmentation</a> (iterative thresholding, spots segmentation, ...)</li></ul>
<p><b>Object based co-localization and distance analysis</b>
</p>
<ul><li> Colocalization from objects in image A, B, and/or A+B</li>
<li> Distance center – center&#160;;</li>
<li> Distance center – edge&#160;;</li>
<li> Distance edge – center&#160;;</li>
<li> Surface in contact</li>
<li> Generates results representations such as:
<ul><li> Objects' map&#160;;</li>
<li> Colocalization object's map&#160;;</li></ul></li></ul>
<p><b>Counting and measurements on objects</b>
</p><p>Counts the number of 3D objects in two stacks.
</p><p>Quantifies for each found object the following parameters:
</p>
<ul><li> Volume</li>
<li> Mean of the gray values</li>
<li> Surface area</li>
<li> Standard deviation of the gray values</li>
<li> Minimum &amp; Maximum gray values</li>
<li> Centroid</li>
<li> Centre of mass</li>
<li> Feret's Diameter</li></ul>
<p><br />
</p>
<h2><span class="mw-headline" id="Description">Description</span></h2>
<p>
Note that when the mouse arrow passes on the items of the plugin, an explanation of each parameter is given<i>.</i>
</p><p>Open at least two images. This plugin does not support RGB and 32-bits images.
</p>
<h3><span class="mw-headline" id="Images_to_analyse">Images to analyse</span></h3>
<p>Select the image A and the image B. The image A is the reference image.
</p><p><b>Binary images:</b>
</p><p>Apply threshold with value 1
</p><p>Filter objects by size and remove objects from image edges is possible
</p><p><b>Gray level images:</b>
</p><p>Apply filter to suppress noise (optional)
</p><p>Segment the image with either threshold or spot segmentation method
</p><p>- Threshold method&#160;:
</p><p>choose a threshold value
</p><p>Filter objects by size and remove objects from image edges is possible
</p><p>- Spot segmentation method&#160;: a tutorial for this method is found <a href="index.php?title=Plugin:segmentation:3d_spots_segmentation:start&amp;action=edit&amp;redlink=1" class="new" title="Plugin:segmentation:3d spots segmentation:start (page does not exist)">here</a> 
</p><p>- Iterative segmentation method&#160;: a tutorial for this method is found <a href="index.php?title=Plugin:segmentation:3d_spots_segmentation:start&amp;action=edit&amp;redlink=1" class="new" title="Plugin:segmentation:3d spots segmentation:start (page does not exist)">here</a>
</p><p>- Filter objects by size is possible
</p><p><br />
</p>
<h3><span class="mw-headline" id="Interactions_filters">Interactions filters</span></h3>
<p>When unchecking «&#160;All objects touching&#160;» , the plugin will analyse the non co-localizing objects in addition to co-localizing objects.
</p><p><br />
</p>
<h3><span class="mw-headline" id="Measures_.26_Analysis">Measures &amp; Analysis</span></h3>
<p><b>Colocalisation</b>
</p><p>Choose the parameters that will be measured for co-localizing objects
</p><p><b>Distance</b>
</p><p>Choose the parameters that will be measured for non co-localizing objects
</p><p><b>Shuffle</b>
</p><p>Select to do a shuffle of the objects on all the image or inside a mask
</p><p><b>Other measures</b>
</p><p>Choose the parameters that will be measured for each objects
</p><p><b>Resolution infos</b>
Image calibration has to be given for the measurements to be calibrated. If images opened are already calibrated, the plugin reads the calibration (otherwise it will ask you to inter the values).
</p><p><br />
</p>
<h3><span class="mw-headline" id="The_plugin_retrieves_:">The plugin retrieves&#160;:</span></h3>
<ul><li> Objects from image A and B are listed in a ROI Manager.</li>
<li> Number of objects and number of co-localizing objects are given in the log window.</li>
<li> ColocResults gives measurements on co-localizing objects.</li>
<li> DistanceResults gives measurements on non co-localizing objects.</li>
<li> Curve of the shuffle (cumulative distances)</li>
<li> OtherMeasuresResults-A/B gives measurements on each objects from images A and B.</li></ul>
<h3><span class="mw-headline" id="Batch_:">Batch&#160;:</span></h3>
<p>if the recorder has a problem, here are some examples of macro line:
</p>
<ul><li> run("DiAna_Segment", "img=imageName.tif filter=median rad=1.0 thr=739-3-2000-true-false");</li>
<li> run("DiAna_Segment", "img=C0.tif peaks=2.0-2.0-50.0 spots=30-10-1.5-3-2000-true");</li>
<li> run("DiAna_Segment", "img=C0.tif iter=3-2000-20-30-true");</li>
<li> run("DiAna_Analyse", "img1=imageA.tif img2=imageB.tif lab1=segA.tif lab2=segB.tif coloc distc=50.0 adja kclosest=1 dista=50.0 measure");</li></ul>
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p>Download and copy the following jar in your plugins folder <a rel="nofollow" class="external text" href="https://drive.google.com/open?id=1aODVyqRjmU53wEM52lfLM74Yn9GP9PBl">Diana_1.48.jar</a>
</p><p>You have also to manually download and copy into your plugins directory the <a href="3D_ImageJ_Suite" title="3D ImageJ Suite">3D ImageJ Suite</a>.
</p><p><i>Note that this version works only with 3D ImageJ library <a rel="nofollow" class="external text" href="https://drive.google.com/open?id=1a83KAeDEcCk0Lio3xXebd7Fxk83cTjy-">mcib3d-core3.94.jar</a> and upper!"</i>
</p><p><br />
</p>
<h2><span class="mw-headline" id="Citation">Citation</span></h2>
<p>Gilles J-F, Dos Santos M, Boudier T, Bolte S, Heck N. DiAna, an ImageJ tool for object-based 3D co-localization and distance analysis. Methods 2016 Nov 24.  <a rel="nofollow" class="external autonumber" href="http://www.sciencedirect.com/science/article/pii/S1046202316304649">[1]</a>
</p><p>The spot segmentation method is based on&#160;:
Heck N, Dos Santos M, Amairi B, Salery M, Besnard A, Herzog E, Boudier T, Vanhoutte P, Caboche J. A new automated 3D detection of synaptic contacts reveals the formation of cortico-striatal synapses upon cocaine treatment in vivo. Brain Struct Funct. 2014 Jul 8. DOI 10.1007/s00429-014-0837-2.      <a rel="nofollow" class="external autonumber" href="http://link.springer.com/article/10.1007%2Fs00429-014-0837-2">[2]</a>
</p>
<h2><span class="mw-headline" id="License">License</span></h2>
<p>GPL distribution (see <a rel="nofollow" class="external autonumber" href="http://www.cecill.info/index.en.html%7Clicence">[3]</a>). Sources for plugins are available freely.
</p>
<h2><span class="mw-headline" id="Change_log">Change log</span></h2>
<ul><li> 14/12/2016 v1.0.1: bug fixed for retrieving the calibration, add "about" button</li>
<li> 16/12/2016 v1.1: add save 3D-ROIs button</li>
<li> 05/09/2017 v1.2: many improvements within the code. update possibility when initializing images in Analyse. macro enable for the labelling part</li>
<li> 25/01/2018 v1.3: 8bits bug fixed, add macro features</li>
<li> 05/07/2018 v1.4: bugs fixed</li>
<li> 19/12/2018 v.1.41: bugs fixed</li>
<li> 21/12/2018 v.1.42: show again info in the log</li>
<li> 17/01/2019 v.1.43: correct user interface and a bug with 2D images, thanks to Chin-Chun</li>
<li> 14/05/2019 v.1.44: bugs fixed and compatibility with the last version of 3D Suite.</li>
<li> 29/10/2019 v.1.45: bugs fixed and maven update. Thanks to N. Chiaruttini</li>
<li> 24/01/2020 v.1.46: bug fixed, add coloc image in the batch</li>
<li> 24/02/2020 v.1.47: bug fixed with the shuffle in macro line</li>
<li> 28/04/2020 v1.48: add integrated density measure</li></ul>

<!-- 
NewPP limit report
Cached time: 20200713065017
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.028 seconds
Real time usage: 0.026 seconds
Preprocessor visited node count: 50/1000000
Preprocessor generated node count: 56/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/3
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 - -total
-->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="index.php?title=Distance_Analysis&amp;oldid=45244">http://imagej.net/index.php?title=Distance_Analysis&amp;oldid=45244</a>"</div>
							</div>

			<div id="footer">
				<p> This page was last modified on 28 April 2020, at 07:19.</p><ul><li><a href="./ImageJ:Privacy_policy" title="ImageJ:Privacy policy">Privacy policy</a></li><li><a href="./ImageJ:About" class="mw-redirect" title="ImageJ:About">About ImageJ</a></li><li><a href="Imprint" title="Imprint">Imprint</a></li></ul>			</div>

			<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="./Special:Categories" title="Special:Categories">Categories</a>: <ul><li><a href="./Category:Plugins" title="Category:Plugins">Plugins</a></li><li><a href="./Category:Analysis" title="Category:Analysis">Analysis</a></li><li><a href="./Category:Colocalization" title="Category:Colocalization">Colocalization</a></li><li><a href="./Category:Citable" title="Category:Citable">Citable</a></li></ul></div></div>		</div>

		<div id="bottom-wrap">
			<div id="footer-wrap-inner">
				<div id="ternary" class="footer">
					<ul>
						<li class="widget">
							<img id="logo" src="skins/imagej-128.png" alt="">
						</li>
					</ul>
				</div>
			</div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.loader.load(["ext.fancytree","ext.suckerfish","mediawiki.toc","mediawiki.action.view.postEdit","site","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","ext.SimpleTooltip"]);});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":219});});</script>
		</body>
		</html>
		
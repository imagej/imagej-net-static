<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>BigStitcher AutoLoader - ImageJ</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"BigStitcher_AutoLoader","wgTitle":"BigStitcher AutoLoader","wgCurRevisionId":37704,"wgRevisionId":37704,"wgArticleId":10106,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"BigStitcher_AutoLoader","wgRelevantArticleId":10106,"wgRequestId":"2be50908553afe9c65720a11","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgPreferredVariant":"en","fancytree_path":"/extensions/TreeAndMenu/fancytree"});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user.cssprefs":"ready","user":"ready","user.options":"loading","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","skins.erudite":"ready"});mw.loader.implement("user.options@0j3lz3q",function($,jQuery,require,module){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens@1ku9xth",function ( $, jQuery, require, module ) {
mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});/*@nomin*/;

});mw.loader.load(["mediawiki.page.startup"]);});</script>
<link rel="stylesheet" href="erudite14.css"/>
<link rel="stylesheet" href="extensions/TreeAndMenu/fancytree/fancytree.css"/><link rel="stylesheet" href="extensions/TreeAndMenu/suckerfish/suckerfish.css"/>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="erudite15.css"/>
<meta name="generator" content="MediaWiki 1.28.0"/>
<meta name="description" content="In the first window, you can choose which files to include in the dataset."/>
<link rel="shortcut icon" href="skins/ij2.ico"/>
	<meta property="og:type" content="article"/>

	<meta property="og:site_name" content="ImageJ"/>

	<meta property="og:title" content="BigStitcher AutoLoader"/>

	<meta property="og:description" content="In the first window, you can choose which files to include in the dataset."/>


<meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-BigStitcher_AutoLoader rootpage-BigStitcher_AutoLoader skin-erudite action-view">
		<div id="top-wrap" role="banner">
			<h1><a href="Welcome" title="ImageJ" rel="home">ImageJ</a></h1>
			<div id="tagline">From ImageJ</div>

			<a id="menubutton" href="BigStitcher_AutoLoader.html#menu">Menu</a>
			<div id="nav" role="navigation">
			<ul id='menu'>
<li id="menu-item-n-About"><a href="ImageJ">About</a></li>
<li id="menu-item-n-Downloads"><a href="Downloads">Downloads</a></li>
<li id="menu-item-n-Learn"><a href="Learn">Learn</a></li>
<li id="menu-item-n-Develop"><a href="Development">Develop</a></li>
<li id="menu-item-n-News"><a href="News">News</a></li>
<li id="menu-item-n-Events"><a href="Events">Events</a></li>
<li id="menu-item-n-Help"><a href="Help">Help</a></li>
</ul>
			</div>
		</div>

		<div id="mw-js-message"></div>
		
		<div id="main" role="main">

			<div id="bodyContent">
				<div style="font-size: large; border: 1px solid black; padding: 1em; margin-bottom: 1em; text-align: center; background-color: #fda;">
					This is a read-only version of imagej.net, available during the transition to the new website, which you can preview <a href="https://imagej.github.io/">here</a>.
					<br>Please direct any questions or issues to <a href="https://forum.image.sc/t/imagej-wiki-is-down/39672">this Image.sc Forum thread</a>.
					<br>Thank you for your patience as we improve the website!
				</div>

				<h1>BigStitcher AutoLoader</h1>
				
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="BigStitcher_AutoLoader.html#Select_the_files_to_include_in_the_dataset"><span class="tocnumber">1</span> <span class="toctext">Select the files to include in the dataset</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="BigStitcher_AutoLoader.html#Assign_metadata"><span class="tocnumber">2</span> <span class="toctext">Assign metadata</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="BigStitcher_AutoLoader.html#Views_within_files"><span class="tocnumber">2.1</span> <span class="toctext">Views within files</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="BigStitcher_AutoLoader.html#Patterns_in_filenames"><span class="tocnumber">2.2</span> <span class="toctext">Patterns in filenames</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="BigStitcher_AutoLoader.html#Calibration_.28Voxel_size.29"><span class="tocnumber">2.3</span> <span class="toctext">Calibration (Voxel size)</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="BigStitcher_AutoLoader.html#Move_to_regular_grid"><span class="tocnumber">2.4</span> <span class="toctext">Move to regular grid</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7"><a href="BigStitcher_AutoLoader.html#.28Optional.29_Move_Tile_to_regular_grid_.28Macro-scriptable.29"><span class="tocnumber">3</span> <span class="toctext">(Optional) Move Tile to regular grid (Macro-scriptable)</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="BigStitcher_AutoLoader.html#Loading.2FRe-saving_option"><span class="tocnumber">4</span> <span class="toctext">Loading/Re-saving option</span></a>
<ul>
<li class="toclevel-2 tocsection-9"><a href="BigStitcher_AutoLoader.html#Options_for_re-saving_as_HDF5"><span class="tocnumber">4.1</span> <span class="toctext">Options for re-saving as HDF5</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-10"><a href="BigStitcher_AutoLoader.html#.28Optional.29_Move_Tiles_to_regular_grid_interactively"><span class="tocnumber">5</span> <span class="toctext">(Optional) Move Tiles to regular grid interactively</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Select_the_files_to_include_in_the_dataset">Select the files to include in the dataset</span></h2>
<p>In the first window, you can choose which files to include in the dataset.
</p>
<div class="thumb tright"><div class="thumbinner" style="width:302px;"><a href="./File:BigStitcherAutoLoader1.png" class="image"><img alt="" src="_images/1/13/BigStitcherAutoLoader1.png" width="300" height="192" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="./File:BigStitcherAutoLoader1.png" class="internal" title="Enlarge"></a></div>Select the files to include in the dataset.</div></div></div>
<p>You can either <b>Browse</b> for files or directories, drag and drop them to the <b>path</b>-field or enter a path manually.
</p><p>To include multiple files in the dataset you can:
</p>
<ul><li> Select a directory as the path - in that case, all files in that directory (except for the ones filtered out by size) will be included.</li>
<li> Use wildcards in the path. The Automatic loader supports <a rel="nofollow" class="external text" href="https://en.wikipedia.org/wiki/Glob_(programming)">glob-Syntax</a>:
<ul><li> a '*' can be used to specify any sequence of characters</li>
<li> a '?' can be used to specify a single, varying charcter</li></ul></li></ul>
<p>All files that match the pattern you enter will be included in the dataset.
</p><p>As you change the path and wildcards, a preview of the files to be included in the dataset will be displayed:
</p>
<div class="thumb tright"><div class="thumbinner" style="width:302px;"><a href="./File:BigStitcherAutoLoader2.png" class="image"><img alt="" src="_images/d/db/BigStitcherAutoLoader2.png" width="300" height="192" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="./File:BigStitcherAutoLoader2.png" class="internal" title="Enlarge"></a></div>Preview of selected files</div></div></div>
<p>To prevent the inclusion of small files like operating-system metadata, you can specify a <b>minimal size</b> for the files to include - smaller files will be ignored (the default of 10KB works fine in most cases).
</p>
<h2><span class="mw-headline" id="Assign_metadata">Assign metadata</span></h2>
<p>After you click <b>OK</b> in the previous window, the Automatic loader will investigate the specified files and try to assign metadata (channel, illumination direction, time point, view angle and tile) to the dataset automatically. This may take some time (typically a couple of minutes for multi-terabyte datasets).
</p><p>In the next window, you can review and correct the automatic metadata definition:
</p>
<div class="thumb tright"><div class="thumbinner" style="width:302px;"><a href="./File:BigStitcherAutoLoader3.png" class="image"><img alt="" src="_images/9/9d/BigStitcherAutoLoader3.png" width="300" height="313" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="./File:BigStitcherAutoLoader3.png" class="internal" title="Enlarge"></a></div>Defining metadata for Views.</div></div></div>
<h3><span class="mw-headline" id="Views_within_files">Views within files</span></h3>
<p>We are using <a href="Bio-Formats" title="Bio-Formats">Bio-Formats</a> under the hood. In Bio-Formats, files can include multiple <b>series</b>, each containing multiple <b>channels</b>, time points and z-slices.
</p><p>The automatic loader tries to assign the stacks to different channels, illuminations, tiles, angles and time points automatically and you can review the choices here.
</p>
<ul><li> if there are multiple Bio-Formats-"channels", but we could not find metadata for them, you will have the option to either assign them to channels or illumination directions.</li></ul>
<ul><li> if there are multiple "series", but we could not find metadata for them, you will have the option to manually assign them to angles or tiles here.</li></ul>
<ul><li> time points, if present within files, will be detected automatically.</li></ul>
<h3><span class="mw-headline" id="Patterns_in_filenames">Patterns in filenames</span></h3>
<p>In addition to metadata <i>within</i> the files, when the dataset consists of multiple files, we can also use <b>numerical</b> patterns in the filenames to represent view attributes. If we could detect patterns in the used files, they will be shown and you can decide what attribute they represent (or choose to ignore them).
</p>
<h3><span class="mw-headline" id="Calibration_.28Voxel_size.29">Calibration (Voxel size)</span></h3>
<p>We will try to automatically load voxel sizes from the data and display the result here (only the voxel sizes of the first stack in the dataset are displayed).
</p><p>If no metadata could be found, this will be set to (1x1x1 pixels).
</p><p>You have the option of manually setting the calibration by ticking the respective checkbox and providing pixel distances along the 3 axes and the unit they are specified in. This will be applied to all stacks in the dataset, so be careful if the calibrations of your stacks differ (a warning will be displayed here in that case).
</p>
<h3><span class="mw-headline" id="Move_to_regular_grid">Move to regular grid</span></h3>
<p>Finally, if we could not find the locations of the individual tiles in the metadata, you can choose to move the stacks into a regular grid here. Possible actions are:
</p>
<ul><li> <b>Do not move Tiles to Grid (use Metadata if available)</b></li></ul>
<p>Leaves the tiles where they are. This will be selected by default if we could find tile locations in the metadata.
</p>
<ul><li> <b>Move Tiles to Grid (interactive)</b></li></ul>
<p>Start <b>Move tiles to regular grid manually</b> once the dataset import has been completed. The process will be done <b>once per view angle</b>, if the angle contains more than one tile. This will be selected by default if we could not find tile loactions in the metadata.
</p>
<ul><li> <b>Move Tile to Grid (Macro-scriptable)</b></li></ul>
<p>A simpler and less interactive, but Macro-scriptable version of the above. You will be queried for the grid parameters for every view angle once you click <b>OK</b>.
</p><p><br />
</p>
<h2><span class="mw-headline" id=".28Optional.29_Move_Tile_to_regular_grid_.28Macro-scriptable.29">(Optional) Move Tile to regular grid (Macro-scriptable)</span></h2>
<p>If you selected to move tiles to a regular grid manually, you will be presented with a dialog to specify the parameters of the grid, i.e. the pattern of the tiles, how many tiles there are and by how much they overlap (<a href="BigStitcher_manual_translation#Move_Tiles_To_Regular_Grid_..." title="BigStitcher manual translation">details</a>).
</p><p>If there are multiple angles in the dataset, the dialog will be shown for each of them. 
</p><p>If you specify more than one layer in z, the x and y pattern will be repeated for every layer.
</p>
<div class="thumb tright"><div class="thumbinner" style="width:302px;"><a href="./File:BigStitcherAutoLoader6a.png" class="image"><img alt="" src="_images/0/01/BigStitcherAutoLoader6a.png" width="300" height="499" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="./File:BigStitcherAutoLoader6a.png" class="internal" title="Enlarge"></a></div>Options for manually moving tiles to a grid (macro-scriptable).</div></div></div>
<h2><span class="mw-headline" id="Loading.2FRe-saving_option">Loading/Re-saving option</span></h2>
<p>After you have assigned attributes to the images in your dataset, you will be presented with option for how you want to load the data.
</p><p>Under <b>how to load images</b>, you can choose how to load your dataset:
</p>
<ul><li> If you select <b>Load raw data</b>, images will be fully loaded every time you access them. You can use this for small datasets, but for large datasets this can become prohibitively slow.</li>
<li> If you select <b>Load raw data virtually (with caching)</b>, images will be loaded plane-by-plane as-needed (with caching of previously loaded planes if you have enough memory). This is useful if you want to have a quick look at a very large dataset, but will come with a slight performance hit. We recommend to re-save the dataset as multi-resolution HDF5 as you start to work on it (this can be done later on as well).</li>
<li> You can also choose to <b>Re-save as multiresolution HDF5</b> immediately. We recommend you do this unless you just want to have a quick look at the data. The data can also be resaved as multiresolution HDF5 later on. </li></ul>
<p>If your raw data are stored as multiple stacks per file, a bug in BioFormats will cause them to always have an equal number of z-slices. All stacks will have the size of the largest stack and smaller stacks will be filled up with zeroes.
Ticking <b>check stack sizes</b> will cause BigStitcher to load all stacks and remove the zero-valued volume at the end of each stack.
</p><p>You will also be able to specify the <b>dataset save path</b>, i.e. the directory the XML dataset definition (and HDF5 file if you choose to re-save immediately) will be saved to.
</p>
<div class="thumb tright"><div class="thumbinner" style="width:302px;"><a href="./File:BigStitcherAutoLoader4.png" class="image"><img alt="" src="_images/5/5a/BigStitcherAutoLoader4.png" width="300" height="139" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="./File:BigStitcherAutoLoader4.png" class="internal" title="Enlarge"></a></div>Options for loading or re-saving the dataset.</div></div></div>
<h3><span class="mw-headline" id="Options_for_re-saving_as_HDF5">Options for re-saving as HDF5</span></h3>
<p>If you chose to resave your dataset as HDF5 in the previous dialog, you will be presented with options for the creating the multi-resolution pyramid and saving it. For an in-depth explanation of the options, have a look at the <a href="BigDataViewer#Exporting_from_ImageJ_Stacks" title="BigDataViewer">BigDataViewer documentation</a>.
</p>
<ul><li> <b>manual mipmap setup</b> allows you to specify the subampling factors in the form <code>{subsampling factor in x, subsampling factor in y, subsampling factor in z}</code>, e.g. <code>{1,1,1}</code> for the original images. The multiple subsampling factors have to separated by commas and placed between brackets. Furthermore, the data will be split into <i>chunks</i>, e.g. 16x16x16 pixels. You can specify the chunk size per subsampling level in the same format as the subsampling factors. Generally, we try to pick meaningful defaults here, so <i>you should not have to change these settings</i>.</li></ul>
<ul><li> <b>split hdf5</b> allows saving the dataset to multiple files (by default, it is saved to one big file). You can choose the number of time points and setups (views within time points) per file here (<code>0</code> means no splitting). You can use this if your filesystem places limits on file sizes.</li></ul>
<ul><li> You can tick to <b>use deflate compression</b> for <b>lossless</b> compression of your output. If your original data are uncompressed, this may greatly reduce the size of the written files, to a point that the resaved data are actually smaller than the original data (on the other hand, not compressing when you have compressed raw data will increase the output size). Since the performance hit of decompressing data is small and IO bandwidth is much likelier to be a bottleneck, we recommend you compress the HDF5 file </li></ul>
<ul><li> Finally, you can choose the <b>export path</b>, i.e. the directory the .h5 file(s) are saved to.</li></ul>
<div style="overflow:hidden"><table class="metadata plainlinks ambox ambox-notice">
<tr>
<td class="ambox-image">
<p><a href="./File:Information-sign.png" class="image"><img alt="Information-sign.png" src="_images/2/24/Information-sign.png" width="40" height="40" /></a>
</p>
</td>
<td> Be aware that re-saving a multi-terabyte dataset <i>may take several hours</i>. However, since most processing steps of BigStitcher can be done on downsampled versions of the data, this will save you a lot of time down the road. </td>
<p><br />
</p>
</tr>
</table></div>
<p><br />
</p>
<div class="thumb tright"><div class="thumbinner" style="width:302px;"><a href="./File:BigStitcherAutoLoader5.png" class="image"><img alt="" src="_images/6/63/BigStitcherAutoLoader5.png" width="300" height="235" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="./File:BigStitcherAutoLoader5.png" class="internal" title="Enlarge"></a></div>Options for re-saving as multi-resolution HDF5.</div></div></div>
<h2><span class="mw-headline" id=".28Optional.29_Move_Tiles_to_regular_grid_interactively">(Optional) Move Tiles to regular grid interactively</span></h2>
<p>If you selected <b>Move Tiles to Grid (interactive)</b> earlier on, a <a href="BigDataViewer" title="BigDataViewer">BigDataViewer</a> window will open at this point and display the images in your dataset.
</p><p>You will be presented with a dialog to specify the parameters of the grid, i.e. the pattern of the tiles, how many tiles there are and by how much they overlap. The effects of your settings will be displayed in the BigDataViewer window and updated on-the-fly (<a href="BigStitcher_manual_translation#Move_Tiles_To_Regular_Grid_..." title="BigStitcher manual translation">details</a>). 
</p><p>As with the macro-scriptable version of this dialog, if there are multiple angles in the dataset, the dialog will be shown for each of them and if you specify more than one layer in z, the x and y pattern will be repeated for every layer. 
</p>
<div class="thumb tright"><div class="thumbinner" style="width:302px;"><a href="./File:BigStitcher_Arrange_Views004.png" class="image"><img alt="" src="_images/0/08/BigStitcher_Arrange_Views004.png" width="300" height="147" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="./File:BigStitcher_Arrange_Views004.png" class="internal" title="Enlarge"></a></div>Interactive grid alignment window.</div></div></div>
<p>Go back to the <a href="BigStitcher_Define_new_dataset" title="BigStitcher Define new dataset">dataset definition overview</a>
</p><p>Go back to the <a href="BigStitcher#Documentation" title="BigStitcher">main page</a>
</p>
<!-- 
NewPP limit report
Cached time: 20200713064609
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.036 seconds
Real time usage: 0.040 seconds
Preprocessor visited node count: 79/1000000
Preprocessor generated node count: 265/1000000
Post‐expand include size: 914/2097152 bytes
Template argument size: 451/2097152 bytes
Highest expansion depth: 5/40
Expensive parser function count: 0/3
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%    3.441      1 - -total
100.00%    3.441      1 - Template:Notice
 75.62%    2.602      1 - Template:Ambox
-->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="index.php?title=BigStitcher_AutoLoader&amp;oldid=37704">http://imagej.net/index.php?title=BigStitcher_AutoLoader&amp;oldid=37704</a>"</div>
							</div>

			<div id="footer">
				<p> This page was last modified on 2 May 2018, at 11:19.</p><ul><li><a href="./ImageJ:Privacy_policy" title="ImageJ:Privacy policy">Privacy policy</a></li><li><a href="./ImageJ:About" class="mw-redirect" title="ImageJ:About">About ImageJ</a></li><li><a href="Imprint" title="Imprint">Imprint</a></li></ul>			</div>

			<div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>		</div>

		<div id="bottom-wrap">
			<div id="footer-wrap-inner">
				<div id="ternary" class="footer">
					<ul>
						<li class="widget">
							<img id="logo" src="skins/imagej-128.png" alt="">
						</li>
					</ul>
				</div>
			</div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.loader.load(["ext.fancytree","ext.suckerfish","mediawiki.toc","mediawiki.action.view.postEdit","site","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","ext.SimpleTooltip"]);});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":187});});</script>
		</body>
		</html>
		
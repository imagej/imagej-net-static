<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>Calc dSpace - ImageJ</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Calc_dSpace","wgTitle":"Calc dSpace","wgCurRevisionId":40905,"wgRevisionId":40905,"wgArticleId":10390,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Calc_dSpace","wgRelevantArticleId":10390,"wgRequestId":"1da463e1d4898d5999f0c914","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgPreferredVariant":"en","fancytree_path":"/extensions/TreeAndMenu/fancytree"});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user.cssprefs":"ready","user":"ready","user.options":"loading","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","skins.erudite":"ready"});mw.loader.implement("user.options@0j3lz3q",function($,jQuery,require,module){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens@1ku9xth",function ( $, jQuery, require, module ) {
mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});/*@nomin*/;

});mw.loader.load(["mediawiki.page.startup"]);});</script>
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%252Cshared%257Cmediawiki.sectionAnchor%257Cskins.erudite&amp;only=styles&amp;skin=erudite.css"/>
<script async="" src="load.php%3Fdebug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=erudite"></script>
<link rel="stylesheet" href="extensions/TreeAndMenu/fancytree/fancytree.css"/><link rel="stylesheet" href="extensions/TreeAndMenu/suckerfish/suckerfish.css"/>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=erudite.css"/>
<meta name="generator" content="MediaWiki 1.28.0"/>
<meta name="description" content="This plugin can be used to quickly calculate the interplanar spacing values (d) directly within imageJ without copying the results table to another program like Excel to then convert measurements into d-values, which saves you time. It is also remarkably easy to use, accurate, and robust for both spot and ring electron diffraction patterns."/>
<link rel="shortcut icon" href="skins/ij2.ico"/>
	<meta property="og:type" content="article"/>

	<meta property="og:site_name" content="ImageJ"/>

	<meta property="og:title" content="Calc dSpace"/>

	<meta property="og:description" content="This plugin can be used to quickly calculate the interplanar spacing values (d) directly within imageJ without copying the results table to another program like Excel to then convert measurements into d-values, which saves you time. It is also remarkably easy to use, accurate, and robust for both spot and ring electron diffraction patterns."/>


<meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Calc_dSpace rootpage-Calc_dSpace skin-erudite action-view">
		<div class="mw-jump">
			<a href="Calc_dSpace.html#bodyContent">Skip to content</a>, 			<a href="Calc_dSpace.html#search">Skip to search</a>
		</div>

		<div id="top-wrap" role="banner">
			<h1><a href="Welcome" title="ImageJ" rel="home">ImageJ</a></h1>
			<div id="tagline">From ImageJ</div>

			<a id="menubutton" href="Calc_dSpace.html#menu">Menu</a>
			<div id="nav" role="navigation">
			<ul id='menu'>
<li id="menu-item-n-About"><a href="ImageJ">About</a></li>
<li id="menu-item-n-Downloads"><a href="Downloads">Downloads</a></li>
<li id="menu-item-n-Learn"><a href="Learn">Learn</a></li>
<li id="menu-item-n-Develop"><a href="Development">Develop</a></li>
<li id="menu-item-n-News"><a href="News">News</a></li>
<li id="menu-item-n-Events"><a href="Events">Events</a></li>
<li id="menu-item-n-Help"><a href="Help">Help</a></li>
</ul>
			</div>
		</div>

		<div id="mw-js-message"></div>
		
		<div id="main" role="main">
			<div id="nav-meta">
			<span id="ca-nstab-main" class="selected"><a href="Calc_dSpace" title="View the content page [c]" accesskey="c">Page</a></span><span class="meta-sep">|</span><span id="ca-talk" class="new"><a href="index.php?title=Talk:Calc_dSpace&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page [t]" accesskey="t">Discussion</a></span><span class="meta-sep">|</span><span id="ca-viewsource"><a href="index.php?title=Calc_dSpace&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span><span class="meta-sep">|</span><span id="ca-history"><a href="index.php?title=Calc_dSpace&amp;action=history" title="Past revisions of this page [h]" accesskey="h">History</a></span><span class="meta-sep">|</span>			</div>

			<div id="bodyContent">
				<h1>Calc dSpace</h1>
				
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="Calc_dSpace.html#Overview"><span class="tocnumber">1</span> <span class="toctext"><b>Overview</b></span></a></li>
<li class="toclevel-1 tocsection-2"><a href="Calc_dSpace.html#How_it_works"><span class="tocnumber">2</span> <span class="toctext"><b>How it works</b></span></a></li>
<li class="toclevel-1 tocsection-3"><a href="Calc_dSpace.html#Image_Requirements"><span class="tocnumber">3</span> <span class="toctext"><b>Image Requirements</b></span></a></li>
<li class="toclevel-1 tocsection-4"><a href="Calc_dSpace.html#Strontium_Titanate_Example"><span class="tocnumber">4</span> <span class="toctext"><b>Strontium Titanate Example</b></span></a></li>
<li class="toclevel-1 tocsection-5"><a href="Calc_dSpace.html#Tips"><span class="tocnumber">5</span> <span class="toctext"><b>Tips</b></span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Overview"><b>Overview</b></span></h2>
<p>This plugin can be used to quickly calculate the interplanar spacing values <i>(d)</i> directly within imageJ without copying the results table to another program like Excel to then convert measurements into d-values, which saves you time. It is also remarkably easy to use, accurate, and robust for both spot and ring electron diffraction patterns.
</p>
<h2><span class="mw-headline" id="How_it_works"><b>How it works</b></span></h2>
<p>Use imageJ’s circle tool (shift + oval tool) to measure the spot/ring patterns concentric to the (000) direct beam. From the area measurement, the radius (G) is found. From G = 1/d in reciprocal space, the d-spacing is calculated for each measurement made. This plugin has three different modes in which it can operate. 
</p>
<div class="center"><div class="floatnone"><a href="./File:Modes.jpeg" class="image"><img alt="Modes.jpeg" src="_images/6/6d/Modes.jpeg" width="300" height="117" /></a></div></div>
<p>The first, and most basic mode, is <b>calculate</b> where the calculated values for G and d are added to the imageJ Results window in new columns. G is in nanometers and d is in Angstroms. There is also a 2% error column, which is just 2&#160;% of d in angstroms.
</p><p><b>Overlay</b> is the second mode, which draws the positions of the measurements made back onto the diffraction pattern image, and displays an inset with the calculated d-spacing values for each ring. It also labels the rings and d-spacing measurements in the inset so that there is traceability between the calculated values and the measurements made using the circle tool. This visual correlation between d spacing and measured rings is useful for indexing diffraction patterns, because the TEM operator can subjectively take ring intensity into account. For example, you may be deciding between two phases that have similar d-spacing lists, but different ring intensities. This helps determine which rings are the most intense in the patterns adding a data component that is sometimes lost in SAD analysis.
</p><p>The final mode is <b>Overlay &amp; Crop</b>, which is more of a publication-ready mode that actually crops the diffraction pattern down to the size of the measured region. This is more suitable for publication, as it zooms to the measured region and makes the image square. This image is best saved as a jpeg first and then saved as a tiff if that is the preferred format.
</p>
<div class="center"><div class="floatnone"><a href="./File:CropExample.jpeg" class="image"><img alt="CropExample.jpeg" src="_images/6/6e/CropExample.jpeg" width="400" height="400" /></a></div></div>
<h2><span class="mw-headline" id="Image_Requirements"><b>Image Requirements</b></span></h2>
<p>You need to have a properly calibrated diffraction pattern for the calculations to work. Most TEMs use Gatan’s Digital Micrograph software for image collection. If you are using DM, then it is likely that this plugin will work right away, or will work with the help of your TEM technician. 
</p><p>The preferred image is a .dm3 file (Gatan’s format) that is properly calibrated in reciprocal space (see Gatan’s documentation). The easiest way to check this is that the scale bar in your images is displayed in DM with 1/nm units.
</p>
<h2><span class="mw-headline" id="Strontium_Titanate_Example"><b>Strontium Titanate Example</b></span></h2>
<p>The example below is from a single crystalline STO (strontium titanate) sample. It illustrates how the measurements should be made in order to ensure the plugin is calculating the d-spacing values accurately. Make your measurements working from the inner most spots/rings outwards. 
</p>
<div class="center"><div class="floatnone"><a href="./File:New_Fig_1.jpg" class="image"><img alt="New Fig 1.jpg" src="_images/3/31/New_Fig_1.jpg" width="800" height="199" /></a></div></div>
<p>The table on the left shows the raw imageJ measurements that were made by drawing a circle and pressing the "m" key on the keyboard. The table on the right is the result of the plugin. Just go to the TEM menu and select <i>calc dSpace</i>. The calculation is automatic.
</p>
<div class="center"><div class="floatnone"><a href="./File:New_Fig_2.jpg" class="image"><img alt="New Fig 2.jpg" src="_images/5/5a/New_Fig_2.jpg" width="800" height="138" /></a></div></div>
<p>There are 3 new columns in the Results window: G, d, 2% error. The scalar component of the G vector in reciprocal space is found and measured in 1/nm since these are the image units. The d-spacing is listed in Angstroms, and the 2% error is just 2% of the d-spacing. While it is <i>not</i> an actual uncertainty measurement, it can help you index your sample.
</p>
<h2><span class="mw-headline" id="Tips"><b>Tips</b></span></h2>
<ol><li> If you hold down both control and shift while clicking on one of the white squares on the circle and dragging, the circle expands and contracts concentrically.</li>
<li> The centroid is there to display the x and y position of the center of the circles you are drawing. Use it to make sure it is at the center of the direct spot (000), and that it stays there throughout your measurements.</li>
<li> Another way to verify your image calibrations have been done properly is to call up the image info window in imageJ (just type the letter “i”) and look for a line like this: <i>root.ImageList.1.ImageData.Calibrations.Dimension.0.Units = 1/nm</i>. If it = nm, then it won’t work.</li>
<li> You can enable a somewhat useful text window that summarizes your results by opening up the plugin in a text editor and deleting the leading slashes on line 29.</li>
<li> The plugin may not work right the first time you try to use it, this would be because you do not have the area measurement enabled. Running the plugin will set the measurements it needs, so if you redo your measurements with the circle tool, it should work the second time.</li></ol>

<!-- 
NewPP limit report
Cached time: 20200713064716
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.032 seconds
Real time usage: 0.036 seconds
Preprocessor visited node count: 19/1000000
Preprocessor generated node count: 24/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/3
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 - -total
-->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="index.php?title=Calc_dSpace&amp;oldid=40905">http://imagej.net/index.php?title=Calc_dSpace&amp;oldid=40905</a>"</div>
							</div>

			<div id="footer">
				<p> This page was last modified on 16 November 2019, at 18:24.</p><ul><li><a href="./ImageJ:Privacy_policy" title="ImageJ:Privacy policy">Privacy policy</a></li><li><a href="./ImageJ:About" class="mw-redirect" title="ImageJ:About">About ImageJ</a></li><li><a href="Imprint" title="Imprint">Imprint</a></li></ul>			</div>

			<div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>		</div>

		<div id="bottom-wrap">
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.loader.load(["ext.fancytree","ext.suckerfish","mediawiki.toc","mediawiki.action.view.postEdit","site","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","ext.SimpleTooltip"]);});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":223});});</script>
		</body>
		</html>
		
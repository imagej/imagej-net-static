<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>2015-06-15 - Major updates in the works - ImageJ</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"2015-06-15_-_Major_updates_in_the_works","wgTitle":"2015-06-15 - Major updates in the works","wgCurRevisionId":17370,"wgRevisionId":17370,"wgArticleId":2890,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["ImageJ2","News"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"2015-06-15_-_Major_updates_in_the_works","wgRelevantArticleId":2890,"wgRequestId":"85dd4bf17478539129c013ac","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgPreferredVariant":"en","fancytree_path":"/extensions/TreeAndMenu/fancytree"});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user.cssprefs":"ready","user":"ready","user.options":"loading","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","skins.erudite":"ready"});mw.loader.implement("user.options@0j3lz3q",function($,jQuery,require,module){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens@1ku9xth",function ( $, jQuery, require, module ) {
mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});/*@nomin*/;

});mw.loader.load(["mediawiki.page.startup"]);});</script>
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%252Cshared%257Cmediawiki.sectionAnchor%257Cskins.erudite&amp;only=styles&amp;skin=erudite.css"/>
<script async="" src="load.php%3Fdebug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=erudite"></script>
<link rel="stylesheet" href="extensions/TreeAndMenu/fancytree/fancytree.css"/><link rel="stylesheet" href="extensions/TreeAndMenu/suckerfish/suckerfish.css"/>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=erudite.css"/>
<meta name="generator" content="MediaWiki 1.28.0"/>
<meta name="description" content="In recent months, ImageJ has seen an increasing number of issues relating to application distribution, packaging and deployment."/>
<link rel="shortcut icon" href="skins/ij2.ico"/>
	<meta property="og:type" content="article"/>

	<meta property="og:site_name" content="ImageJ"/>

	<meta property="og:title" content="2015-06-15 - Major updates in the works"/>

	<meta property="og:description" content="In recent months, ImageJ has seen an increasing number of issues relating to application distribution, packaging and deployment."/>


<meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-2015-06-15_-_Major_updates_in_the_works rootpage-2015-06-15_-_Major_updates_in_the_works skin-erudite action-view">
		<div class="mw-jump">
			<a href="2015-06-15_-_Major_updates_in_the_works.html#bodyContent">Skip to content</a>, 			<a href="2015-06-15_-_Major_updates_in_the_works.html#search">Skip to search</a>
		</div>

		<div id="top-wrap" role="banner">
			<h1><a href="Welcome" title="ImageJ" rel="home">ImageJ</a></h1>
			<div id="tagline">From ImageJ</div>

			<a id="menubutton" href="2015-06-15_-_Major_updates_in_the_works.html#menu">Menu</a>
			<div id="nav" role="navigation">
			<ul id='menu'>
<li id="menu-item-n-About"><a href="ImageJ">About</a></li>
<li id="menu-item-n-Downloads"><a href="Downloads">Downloads</a></li>
<li id="menu-item-n-Learn"><a href="Learn">Learn</a></li>
<li id="menu-item-n-Develop"><a href="Development">Develop</a></li>
<li id="menu-item-n-News"><a href="News">News</a></li>
<li id="menu-item-n-Events"><a href="Events">Events</a></li>
<li id="menu-item-n-Help"><a href="Help">Help</a></li>
</ul>
			</div>
		</div>

		<div id="mw-js-message"></div>
		
		<div id="main" role="main">
			<div id="nav-meta">
			<span id="ca-nstab-main" class="selected"><a href="2015-06-15_-_Major_updates_in_the_works" title="View the content page [c]" accesskey="c">Page</a></span><span class="meta-sep">|</span><span id="ca-talk" class="new"><a href="index.php?title=Talk:2015-06-15_-_Major_updates_in_the_works&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page [t]" accesskey="t">Discussion</a></span><span class="meta-sep">|</span><span id="ca-viewsource"><a href="index.php?title=2015-06-15_-_Major_updates_in_the_works&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span><span class="meta-sep">|</span><span id="ca-history"><a href="index.php?title=2015-06-15_-_Major_updates_in_the_works&amp;action=history" title="Past revisions of this page [h]" accesskey="h">History</a></span><span class="meta-sep">|</span>			</div>

			<div id="bodyContent">
				<h1>2015-06-15 - Major updates in the works</h1>
				
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p>In recent months, ImageJ has seen an increasing number of issues relating to application distribution, packaging and deployment.
</p><p>This summer, the ImageJ team at <a href="LOCI" title="LOCI">LOCI</a> is taking several major steps to bring <a href="ImageJ2" title="ImageJ2">ImageJ2</a> and <a href="Fiji" title="Fiji">Fiji</a> up to the latest Java packaging and deployment standards.
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="2015-06-15_-_Major_updates_in_the_works.html#The_obsolescence_of_Java_6"><span class="tocnumber">1</span> <span class="toctext">The obsolescence of Java 6</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="2015-06-15_-_Major_updates_in_the_works.html#Java_on_OS_X"><span class="tocnumber">2</span> <span class="toctext">Java on OS X</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="2015-06-15_-_Major_updates_in_the_works.html#The_ImageJ_launcher"><span class="tocnumber">3</span> <span class="toctext">The ImageJ launcher</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="2015-06-15_-_Major_updates_in_the_works.html#Standalone_stable_downloads_of_ImageJ2"><span class="tocnumber">4</span> <span class="toctext">Standalone stable downloads of ImageJ2</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="2015-06-15_-_Major_updates_in_the_works.html#Deploying_ImageJ_with_industry_standard_tools"><span class="tocnumber">5</span> <span class="toctext">Deploying ImageJ with industry standard tools</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="2015-06-15_-_Major_updates_in_the_works.html#Java_3D"><span class="tocnumber">6</span> <span class="toctext">Java 3D</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="2015-06-15_-_Major_updates_in_the_works.html#Issue_reporting"><span class="tocnumber">7</span> <span class="toctext">Issue reporting</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="2015-06-15_-_Major_updates_in_the_works.html#Further_reading"><span class="tocnumber">8</span> <span class="toctext">Further reading</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="The_obsolescence_of_Java_6">The obsolescence of Java 6</span></h2>
<p>Fiji still ships with Java 6. However, Oracle ceased support for Java 6 in February 2013. Java 7 was released on July 28, 2011—almost four years ago. Java 8 was released on March 11, 2014—more than one year ago. An increasing number of people are using Java 8, and many ImageJ plugin developers want to start taking advantage of powerful new Java 8 language features.
</p><p>The main reason that ImageJ has not already switched over to Java 8 is the OS X platform: Java 7 requires OS X 10.7 "Lion" or later. Users running OS X 10.6 "Snow Leopard" cannot upgrade to Java 7 or 8, and users with sufficiently old Macs cannot upgrade past Snow Leopard because they do not meet the hardware requirements. Hence, an update of ImageJ to require Java 8 would discontinue support for ImageJ on those old Mac machines.
</p><p>However, at this point in time, there are an increasing number problems relating to Java 6 (especially on OS X—see next section):
</p>
<ul><li> Users experience hard crashes with Fiji's bundled version of Java 6 (1.6.0_24), which are avoided by using Java 7 or Java 8.</li>
<li> More and more libraries used by ImageJ are updating their version requirement to Java 7 in newer releases. E.g., Jython 1.7.0 now requires Java 7—as such, ImageJ is stuck with Jython 1.5.3 as long as it continues to run using Java 6.</li></ul>
<p>It seems inevitable that ImageJ will need to switch to Java 8 very soon. At minimum, the ImageJ2 and Fiji downloads offered on the <a href="Downloads" title="Downloads">Downloads</a> page will be updated to ship with Java 8 instead of Java 6. And we are strongly considering updating the core ImageJ2 components to simply require Java 8. The ImageJ <a href="Updater" title="Updater">Updater</a> will need to be updated to support these changes.
</p>
<h2><span class="mw-headline" id="Java_on_OS_X">Java on OS X</span></h2>
<p>The way Java works on OS X has undergone a radical shift. Apple no longer ships their own version of Java, but rather relies on users to install Java themselves, the same as on Windows and Linux. The last version of Apple Java is Java 6, which has been unsupported for over two years now (see above). OS X 10.9 "Mavericks" and OS X 10.10 "Yosemite" do not come with Apple Java 6 preinstalled, and in fact <i>uninstall</i> it when upgrading, if it is present. OS X 10.11 "El Capitan" will be the <a rel="nofollow" class="external text" href="https://developer.apple.com/library/prerelease/mac/releasenotes/General/rn-osx-10.11/">last OS X release to support Java 6</a>.
</p><p>Furthermore, there are substantial technical challenges with packaging a Java application that works properly on both Apple Java and OpenJDK (see next section).
</p>
<h2><span class="mw-headline" id="The_ImageJ_launcher">The ImageJ launcher</span></h2>
<p>The ImageJ project currently maintains the ImageJ <a href="Launcher" title="Launcher">Launcher</a> component, which is a complex piece of C code with many layers of case logic intended to support many different OS and Java versions. At the dawn of Fiji in early 2008, there was no suitable cross-platform alternative for launching Java applications. But these days, the story is different: Oracle provides a standard tool called <code>javapackager</code> along with a <a rel="nofollow" class="external text" href="https://docs.oracle.com/javase/8/docs/technotes/guides/deploy/toc.html">complete guide for Java application deployment</a>. It would greatly simplify continued ImageJ development to use the standard packaging tool, rather than continuing to maintain ImageJ's custom cross-platform launcher.
</p>
<h2><span class="mw-headline" id="Standalone_stable_downloads_of_ImageJ2">Standalone stable downloads of ImageJ2</span></h2>
<p>There are currently no stable downloads for the ImageJ2 project itself—only for the Fiji distribution. We want to change that: the flagship download on the <a href="Downloads" title="Downloads">Downloads</a> page should be vanilla ImageJ2, with the Fiji downloads offered on their own page. The following downloads need to be offered:
</p>
<ul><li> Application installers and bundles <i>including</i> Java runtime—for Windows, OS X and Linux.</li>
<li> Application installers and bundles <i>without</i> the Java runtime—for Windows, OS X and Linux.</li>
<li> Platform-agnostic "portable application" bundle (without the Java runtime), for use on thumb drives, and with other platforms such as Raspberry Pi.</li></ul>
<h2><span class="mw-headline" id="Deploying_ImageJ_with_industry_standard_tools">Deploying ImageJ with industry standard tools</span></h2>
<p>We are having good success packaging ImageJ via <a rel="nofollow" class="external text" href="https://docs.oracle.com/javase/8/docs/technotes/guides/deploy/toc.html">Oracle's Java packaging mechanism</a> as a self-contained application. This relatively new packaging mechanism (part of the JavaFX software suite) lets you deploy Java applications in four different ways:
</p>
<ul><li> As a self-contained application—i.e., platform native launcher (.exe on Windows, .app on OS X, etc.)</li>
<li> As a standalone application—i.e., double-clickable JAR file.</li>
<li> As a <a href="http://en.wikipedia.org/wiki/Java_Web_Start" class="extiw" title="wikipedia:Java Web Start">Java Web Start</a> application</li>
<li> As an embedded web page—i.e., a Java applet.</li></ul>
<p>The <b>self-contained application</b> bundles are the most relevant to ImageJ specifically (although all of the above may be useful to various niches of software development). With Java's built-in bundling tools, we will be able to provide:
</p>
<ul><li> Native .msi installer for Windows, and native .dmg and .pkg installers for OS X</li>
<li> A .exe launcher for Windows, and .app bundle for OS X</li>
<li> Continued support for Linux</li>
<li> Double-clickable JAR file entry point for developers and debugging</li></ul>
<p>With this new deployment scheme, the current ImageJ <a href="Launcher" title="Launcher">Launcher</a> will be retired. ImageJ will lose some features of that launcher, but the change will be worth it to avoid the high maintenance burden we currently incur from thousands of lines of native C code rife with platform-specific case logic. We will provide shell scripts to cover some of the most useful features, such as launching ImageJ in remote debugging mode.
</p>
<h2><span class="mw-headline" id="Java_3D">Java 3D</span></h2>
<p>The <a rel="nofollow" class="external text" href="https://java3d.java.net/">Java 3D</a> library is a great add-on to Java which provides support for 3D visualization and rendering. It is required for the <a href="3D_Viewer" title="3D Viewer">3D Viewer</a> plugin in particular. Unfortunately, historically, Java 3D has been distributed separately with its own installer that must modify the Java runtime itself. This scheme meant we could not distribute Java 3D as a simple JAR dependency, unlike other libraries used by ImageJ plugins. And as such, the 3D Viewer developed its own custom installer for Java 3D, to help users get up and running more easily. But the 3D Viewer downloads Java 3D from an external web site which has seen an increasing amount of downtime recently, which has prevented users from successfully using the 3D Viewer on new installations, resulting in repeated volleys of bug reports.
</p><p>Fortunately, in recent years, the <a rel="nofollow" class="external text" href="http://jogamp.org/">JogAmp</a> team has updated Java 3D to use the <a rel="nofollow" class="external text" href="http://jogamp.org/jogl/www/">JOGL</a> library under the hood, and in so doing, solved the deployment issues regarding native libraries needed for JOGL and Java 3D. We have a working prototype of a Java 3D 1.6 prerelease bundled with Fiji, which enables the 3D Viewer to work without the user needing to explicitly install Java 3D into their Java runtime. [<a rel="nofollow" class="external text" href="https://github.com/imagej/imagej/issues/120">imagej/imagej#120</a>]
</p>
<h2><span class="mw-headline" id="Issue_reporting">Issue reporting</span></h2>
<p>Fiji ships with a <a href="Report_a_Bug" title="Report a Bug">Report a Bug</a> plugin that sends a bug report to the Fiji BugZilla. Soon, we will be retiring that system in favor of GitHub Issues for all ImageJ and Fiji components. The "Report a Bug" plugin will be overhauled to send the report to the appropriate component on GitHub Issues, rather than BugZilla. (And as such, instead of the user needing to create a Fiji BugZilla account, they will need to have a GitHub account.) This will help integrate all our issue tracking, as well as seamlessly link to external issue trackers such as the Bio-Formats GH issues tracker. [<a rel="nofollow" class="external text" href="https://github.com/imagej/imagej/issues/122">imagej/imagej#122</a>]
</p>
<h2><span class="mw-headline" id="Further_reading">Further reading</span></h2>
<p>For a complete list of deployment-related issues we are tackling over the summer, see <a rel="nofollow" class="external text" href="https://github.com/issues?q=label%3Adeployment+is%3Aopen+user%3Abigdataviewer+user%3Afiji+user%3Aimagej+user%3Aimglib+user%3Ascifio+user%3Ascijava+user%3ATrakEM2+">the list on GitHub issues</a>.
</p><p>As you can see, it's going to be a busy summer. We will push hard to have a newer, stronger ImageJ ready to go for <a href="Conference_2015" title="Conference 2015">this fall's ImageJ conference</a>!
</p>
<!-- 
NewPP limit report
Cached time: 20200713064354
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.008 seconds
Real time usage: 0.011 seconds
Preprocessor visited node count: 31/1000000
Preprocessor generated node count: 36/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/3
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 - -total
-->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="index.php?title=2015-06-15_-_Major_updates_in_the_works&amp;oldid=17370">http://imagej.net/index.php?title=2015-06-15_-_Major_updates_in_the_works&amp;oldid=17370</a>"</div>
							</div>

			<div id="footer">
				<p> This page was last modified on 24 September 2015, at 13:52.</p><ul><li><a href="./ImageJ:Privacy_policy" title="ImageJ:Privacy policy">Privacy policy</a></li><li><a href="./ImageJ:About" class="mw-redirect" title="ImageJ:About">About ImageJ</a></li><li><a href="Imprint" title="Imprint">Imprint</a></li><li><a href="index.php?title=2015-06-15_-_Major_updates_in_the_works&amp;mobileaction=toggle_view_mobile" class="noprint stopMobileRedirectToggle">Mobile view</a></li></ul>			</div>

			<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="./Special:Categories" title="Special:Categories">Categories</a>: <ul><li><a href="./Category:ImageJ2" title="Category:ImageJ2">ImageJ2</a></li><li><a href="./Category:News" title="Category:News">News</a></li></ul></div></div>		</div>

		<div id="bottom-wrap">
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.loader.load(["ext.fancytree","ext.suckerfish","mediawiki.toc","mediawiki.action.view.postEdit","site","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","ext.SimpleTooltip"]);});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":202});});</script>
		</body>
		</html>
		
<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>3D Viewer: CustomBehavior - ImageJ</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"3D_Viewer:_CustomBehavior","wgTitle":"3D Viewer: CustomBehavior","wgCurRevisionId":40837,"wgRevisionId":40837,"wgArticleId":11043,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"3D_Viewer:_CustomBehavior","wgRelevantArticleId":11043,"wgRequestId":"d0c4f7041dddcf5c9a777e86","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgPreferredVariant":"en","fancytree_path":"/extensions/TreeAndMenu/fancytree"});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user.cssprefs":"ready","user":"ready","user.options":"loading","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","skins.erudite":"ready"});mw.loader.implement("user.options@0j3lz3q",function($,jQuery,require,module){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens@1ku9xth",function ( $, jQuery, require, module ) {
mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});/*@nomin*/;

});mw.loader.load(["mediawiki.page.startup"]);});</script>
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%252Cshared%257Cmediawiki.sectionAnchor%257Cskins.erudite&amp;only=styles&amp;skin=erudite.css"/>
<link rel="stylesheet" href="extensions/TreeAndMenu/fancytree/fancytree.css"/><link rel="stylesheet" href="extensions/TreeAndMenu/suckerfish/suckerfish.css"/>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=erudite.css"/>
<meta name="generator" content="MediaWiki 1.28.0"/>
<meta name="description" content="(Return to the Developer Documentation page)&#10;(Return to the main 3D_Viewer page)"/>
<link rel="shortcut icon" href="skins/ij2.ico"/>

<script type="text/javascript" src="extensions/SyntaxHighlighter/syntaxhighlighter/scripts/shCore.js"></script>
<script type="text/javascript" src="extensions/SyntaxHighlighter/syntaxhighlighter/scripts/shBrushJava.js"></script>
<script type="text/javascript">
SyntaxHighlighter.all();
</script>
<link rel="stylesheet" type="text/css" media="screen" href="extensions/SyntaxHighlighter/syntaxhighlighter/styles/shCoreMinit.css" />

	<meta property="og:type" content="article"/>

	<meta property="og:site_name" content="ImageJ"/>

	<meta property="og:title" content="3D Viewer: CustomBehavior"/>

	<meta property="og:description" content="(Return to the Developer Documentation page)&#10;(Return to the main 3D_Viewer page)"/>


<meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-3D_Viewer_CustomBehavior rootpage-3D_Viewer_CustomBehavior skin-erudite action-view">
		<div class="mw-jump">
			<a href="./3D_Viewer:_CustomBehavior.html#bodyContent">Skip to content</a>, 			<a href="./3D_Viewer:_CustomBehavior.html#search">Skip to search</a>
		</div>

		<div id="top-wrap" role="banner">
			<h1><a href="Welcome" title="ImageJ" rel="home">ImageJ</a></h1>
			<div id="tagline">From ImageJ</div>

			<a id="menubutton" href="./3D_Viewer:_CustomBehavior.html#menu">Menu</a>
			<div id="nav" role="navigation">
			<ul id='menu'>
<li id="menu-item-n-About"><a href="ImageJ">About</a></li>
<li id="menu-item-n-Downloads"><a href="Downloads">Downloads</a></li>
<li id="menu-item-n-Learn"><a href="Learn">Learn</a></li>
<li id="menu-item-n-Develop"><a href="Development">Develop</a></li>
<li id="menu-item-n-News"><a href="News">News</a></li>
<li id="menu-item-n-Events"><a href="Events">Events</a></li>
<li id="menu-item-n-Help"><a href="Help">Help</a></li>
</ul>
			</div>
		</div>

		<div id="mw-js-message"></div>
		
		<div id="main" role="main">

			<div id="bodyContent">
				<h1>3D Viewer: CustomBehavior</h1>
				
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p>(Return to the <a href="./3D_Viewer:_Developer_Documentation" title="3D Viewer: Developer Documentation">Developer Documentation</a> page)<br />
(Return to the main <a href="3D_Viewer" title="3D Viewer">3D_Viewer</a> page)
</p><p><br />
</p>
<h2><span class="mw-headline" id="How_to_catch_and_handle_events_on_the_3D_canvas">How to catch and handle events on the 3D canvas</span></h2>
<p>You can download example source code for this HowTo <a href="./3D_Viewer:_Example_code" title="3D Viewer: Example code">here</a>.
</p><p><br />
This howto shows how to catch and handle mouse or key events:
</p><p>Where you set up the universe, call <code>setInteractiveBehavior(...)</code>:
</p>
<pre class="brush:java; first-line:'40'">
	univ = new Image3DUniverse();
	univ.show();
	Content c = univ.addCustomMesh(...);

	// this is necessary for catching the mouse events
	univ.setInteractiveBehavior(new CustomBehavior(univ, c));
</pre>
<p>Then create a new (maybe inner) class that extends <code>ij3d.behaviors.InteractiveBehavior</code>.
</p>
<pre class="brush: java; first-line: 51; font-size: '100%';">
private class CustomBehavior extends InteractiveBehavior {

	private Content c;
	
	CustomBehavior(Image3DUniverse univ, Content c) {
		super(univ);
		this.c = c;
	}

	public void doProcess(MouseEvent e) {
		if(!e.isControlDown() ||
			e.getID()&#160;!= MouseEvent.MOUSE_PRESSED) {
			super.doProcess(e);
			return;
		}
		// Get the point on the geometry where the mouse
		// press occurred
		Point3d p = univ.getPicker().
			getPickPointGeometry(c, e.getX(), e.getY());
		if(p == null)
			return;

		IJ.showMessage("Picked " + new Point3f(p));
	}
}
</pre>
<p>In the example shown above, mouse presses with hold-down control key are captured. The universe's Picker object is used to obtain the picked point (i.e. the point where the mouse ray intersects the object). In the example, the point's coordinates are just displayed on the screen then.
</p><p><b>Important:</b><br />
Be careful to call <code>super.process(...)</code> when necessary to retain normal (rotating, translating) behavior as desired.
</p>
<!-- 
NewPP limit report
Cached time: 20200713064436
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.008 seconds
Real time usage: 0.007 seconds
Preprocessor visited node count: 9/1000000
Preprocessor generated node count: 48/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/3
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 - -total
-->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="index.php?title=3D_Viewer:_CustomBehavior&amp;oldid=40837">http://imagej.net/index.php?title=3D_Viewer:_CustomBehavior&amp;oldid=40837</a>"</div>
							</div>

			<div id="footer">
				<p> This page was last modified on 22 October 2019, at 07:01.</p><ul><li><a href="./ImageJ:Privacy_policy" title="ImageJ:Privacy policy">Privacy policy</a></li><li><a href="./ImageJ:About" class="mw-redirect" title="ImageJ:About">About ImageJ</a></li><li><a href="Imprint" title="Imprint">Imprint</a></li></ul>			</div>

			<div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>		</div>

		<div id="bottom-wrap">
			<div id="footer-wrap-inner">
				<div id="ternary" class="footer">
					<ul>
						<li class="widget">
							<img id="logo" src="skins/imagej-128.png" alt="">
						</li>
					</ul>
				</div>
			</div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.loader.load(["ext.fancytree","ext.suckerfish","mediawiki.action.view.postEdit","site","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","ext.SimpleTooltip"]);});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":181});});</script>
		</body>
		</html>
		
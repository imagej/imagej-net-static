<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>2011-10-05 - The relation between ImageJA and ImageJ - ImageJ</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"2011-10-05_-_The_relation_between_ImageJA_and_ImageJ","wgTitle":"2011-10-05 - The relation between ImageJA and ImageJ","wgCurRevisionId":19934,"wgRevisionId":19934,"wgArticleId":3469,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["News","ImageJ2","Fiji"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"2011-10-05_-_The_relation_between_ImageJA_and_ImageJ","wgRelevantArticleId":3469,"wgRequestId":"769c988206e56d1790047646","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgPreferredVariant":"en","fancytree_path":"/extensions/TreeAndMenu/fancytree"});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user.cssprefs":"ready","user":"ready","user.options":"loading","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","skins.erudite":"ready"});mw.loader.implement("user.options@0j3lz3q",function($,jQuery,require,module){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens@1ku9xth",function ( $, jQuery, require, module ) {
mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});/*@nomin*/;

});mw.loader.load(["mediawiki.page.startup"]);});</script>
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%252Cshared%257Cmediawiki.sectionAnchor%257Cskins.erudite&amp;only=styles&amp;skin=erudite.css"/>
<script async="" src="load.php%3Fdebug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=erudite"></script>
<link rel="stylesheet" href="extensions/TreeAndMenu/fancytree/fancytree.css"/><link rel="stylesheet" href="extensions/TreeAndMenu/suckerfish/suckerfish.css"/>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=erudite.css"/>
<meta name="generator" content="MediaWiki 1.28.0"/>
<meta name="description" content="ImageJA started out as a two-pronged project:"/>
<link rel="shortcut icon" href="skins/ij2.ico"/>
	<meta property="og:type" content="article"/>

	<meta property="og:site_name" content="ImageJ"/>

	<meta property="og:title" content="2011-10-05 - The relation between ImageJA and ImageJ"/>

	<meta property="og:description" content="ImageJA started out as a two-pronged project:"/>


<meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-2011-10-05_-_The_relation_between_ImageJA_and_ImageJ rootpage-2011-10-05_-_The_relation_between_ImageJA_and_ImageJ skin-erudite action-view">
		<div class="mw-jump">
			<a href="2011-10-05_-_The_relation_between_ImageJA_and_ImageJ.html#bodyContent">Skip to content</a>, 			<a href="2011-10-05_-_The_relation_between_ImageJA_and_ImageJ.html#search">Skip to search</a>
		</div>

		<div id="top-wrap" role="banner">
			<h1><a href="Welcome" title="ImageJ" rel="home">ImageJ</a></h1>
			<div id="tagline">From ImageJ</div>

			<a id="menubutton" href="2011-10-05_-_The_relation_between_ImageJA_and_ImageJ.html#menu">Menu</a>
			<div id="nav" role="navigation">
			<ul id='menu'>
<li id="menu-item-n-About"><a href="ImageJ">About</a></li>
<li id="menu-item-n-Downloads"><a href="Downloads">Downloads</a></li>
<li id="menu-item-n-Learn"><a href="Learn">Learn</a></li>
<li id="menu-item-n-Develop"><a href="Development">Develop</a></li>
<li id="menu-item-n-News"><a href="News">News</a></li>
<li id="menu-item-n-Events"><a href="Events">Events</a></li>
<li id="menu-item-n-Help"><a href="Help">Help</a></li>
</ul>
			</div>
		</div>

		<div id="mw-js-message"></div>
		
		<div id="main" role="main">

			<div id="bodyContent">
				<h1>2011-10-05 - The relation between ImageJA and ImageJ</h1>
				
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p><a href="ImageJA" title="ImageJA">ImageJA</a> started out as a two-pronged project:
</p>
<ol>
<li>We wanted to have a source code management system so that we could contribute and update patches to <a href="ImageJ" title="ImageJ">ImageJ</a>.

Originally, this was CVS, now it is <a href="Git" title="Git">Git</a>, and in the meantime <a href="Wayne_Rasband" title="Wayne Rasband">Wayne Rasband</a>, the author of ImageJ, also adopted a routine involving Git. So basically, this goal was reached.</li>
<li>We wanted to provide support for in-browser applets that do not "pop out".

In other words, we wanted an applet version of ImageJ which would be embedded into the webpage without having an extra main window. This code is basically working, but there are still many places where extra windows are popping up (e.g. the results table, or error messages). Plus, it has not made it back into upstream ImageJ. So this goal was not reached.</li>
</ol>
<p>To stay up-to-date, ImageJA is synchronized with ImageJ. There are three (actually four) scripts involved in this synchronization.
</p><p>The real first script is a notifier which scrapes the <a rel="nofollow" class="external text" href="http://imagej.nih.gov/ij/notes.html">News section of the ImageJ 1.x site</a> every hour or so and sends me an email when it changed. Whenever I get such a mail I run three scripts in succession, which are all stored in the 'tools' branch of ImageJA.git:
</p>
<ol>
<li><code>commit-new-version.sh</code>

This script downloads the News section, detects the current version, downloads the -src package, changes line endings to standard (Unix) line endings, deletes Mac-specific files (e.g. Finder-related files which have nothing to do with Java source files) and finally commits that as new state in the 'imagej' branch.
</li>
<li><code>merge-imagej.sh</code>

This script tries to make sure that my current working directory is an up-to-date version of ImageJA, then merges the 'imagej' branch.

</li>
<li><code>upload-imageja.sh</code>

This script builds the current commit, determines which ImageJ version it is based on, adds an appropriate tag and uploads -src and signed release jar to ImageJA's sourceforge download site, to ImageJA's website, to Fiji's ImageJA site, and then pushes the 'master' and 'imagej' branches as well as the new tag to all kinds of remote repositories, including repo.or.cz, fiji.sc and dev.loci.wisc.edu.
</li>
</ol>
<p>These scripts have gone through a long history (<a href="./User:Schindelin" title="User:Schindelin">I</a> started the stuff in October 2005, when I tried to get ahold of as many as possible previous source packages and committed them as history of ImageJ to document as much as possible how things developed).
</p><p>Typically, the merge step ends in a merge conflict since we have quite some changes in ImageJA vs ImageJ which did not make it to the upstream for one reason or other.
</p><p>In the future, my plan is to make these changes obsolete, and basically change the merge script into one that takes the current imagej state and puts the stuff into the appropriate src/main/* subdirectories, and adjusts the version in the pom.xml. It might even be so automated that we can let Hudson perform the job.
</p><p>The changes fall into three categories, with different strategies how to "make them obsolete":
</p>
<ol>
<li>Changes that we provided for traditional reasons but that will be obsolete with IJ2, such as the "convert to 8-bit" in the <span><em><span style="border-bottom:1px dotted #ccc;">File</span>&#160;&#8250; <span style="border-bottom:1px dotted #ccc;">Import</span>&#160;&#8250; <span style="border-bottom:1px dotted #ccc;">Image Sequence...</span></em></span> support code or the "fuzzy matching" in the Command Finder.

Roughly half of these changes I will just forget, while the other half of changes will persist in the IJ1-based Fiji through <a href="Javassist" title="Javassist">Javassist</a>.
</li>
<li>Changes that actually should live as add-ons to ImageJ, such as the <span><em><span style="border-bottom:1px dotted #ccc;">Plugins&gt;Install Plugin...</span></em></span> plugin. Of course, having it as a Fiji plugin will move its position in the menu, but that does not matter that much.</li>
<li>The headless stuff. I'll try to make that available both as javassist-enabled runtime adjustment as well as rewritten-by-javassist end-user packages (on demand only, for cases when you cannot have javassist do its job due to security restraints).</li>
</ol>
<p>Some cases are hybrids, where the code will be moved outside ij.jar and be available as a plugin, but I'll use javassist to make it available from the appropriate places within IJ1.
</p><p>In general, this should clean up a lot of unnecessary modifications in IJ1 and let us (read: <a href="./User:Schindelin" title="User:Schindelin">me</a>) concentrate much more on IJ2.
</p>
<!-- 
NewPP limit report
Cached time: 20200713064252
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.016 seconds
Real time usage: 0.018 seconds
Preprocessor visited node count: 101/1000000
Preprocessor generated node count: 582/1000000
Post‐expand include size: 662/2097152 bytes
Template argument size: 108/2097152 bytes
Highest expansion depth: 6/40
Expensive parser function count: 0/3
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%    6.960      1 - -total
 98.48%    6.854      2 - Template:Bc
 23.73%    1.652      2 - Template:Arrow
-->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="index.php?title=2011-10-05_-_The_relation_between_ImageJA_and_ImageJ&amp;oldid=19934">http://imagej.net/index.php?title=2011-10-05_-_The_relation_between_ImageJA_and_ImageJ&amp;oldid=19934</a>"</div>
							</div>

			<div id="footer">
				<p> This page was last modified on 18 April 2016, at 15:58.</p><ul><li><a href="./ImageJ:Privacy_policy" title="ImageJ:Privacy policy">Privacy policy</a></li><li><a href="./ImageJ:About" class="mw-redirect" title="ImageJ:About">About ImageJ</a></li><li><a href="Imprint" title="Imprint">Imprint</a></li></ul>			</div>

			<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="./Special:Categories" title="Special:Categories">Categories</a>: <ul><li><a href="./Category:News" title="Category:News">News</a></li><li><a href="./Category:ImageJ2" title="Category:ImageJ2">ImageJ2</a></li><li><a href="./Category:Fiji" title="Category:Fiji">Fiji</a></li></ul></div></div>		</div>

		<div id="bottom-wrap">
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.loader.load(["ext.fancytree","ext.suckerfish","mediawiki.action.view.postEdit","site","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","ext.SimpleTooltip"]);});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":233});});</script>
		</body>
		</html>
		
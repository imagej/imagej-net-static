<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>Wavelet Denoise - ImageJ</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Wavelet_Denoise","wgTitle":"Wavelet Denoise","wgCurRevisionId":45835,"wgRevisionId":45835,"wgArticleId":12343,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Plugins","Filtering"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Wavelet_Denoise","wgRelevantArticleId":12343,"wgRequestId":"8d4be8209536c8efcb2d81c2","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgPreferredVariant":"en","fancytree_path":"/extensions/TreeAndMenu/fancytree"});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user.cssprefs":"ready","user":"ready","user.options":"loading","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","skins.erudite":"ready"});mw.loader.implement("user.options@0j3lz3q",function($,jQuery,require,module){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens@1ku9xth",function ( $, jQuery, require, module ) {
mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});/*@nomin*/;

});mw.loader.load(["mediawiki.page.startup"]);});</script>
<link rel="stylesheet" href="erudite14.css"/>
<link rel="stylesheet" href="extensions/TreeAndMenu/fancytree/fancytree.css"/><link rel="stylesheet" href="extensions/TreeAndMenu/suckerfish/suckerfish.css"/>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="erudite15.css"/>
<meta name="generator" content="MediaWiki 1.28.0"/>
<meta name="description" content="When starting the plugin, pictures and Sync Wins dialog appear, like in the picture above, together with the plugin dialog. The first picture is the input image, the second one is the filtered picture (“Filtered-” prefix), the third one contains the wavelet coefficients (“WT-“ prefix), that are converted to 8-bit and are intensity scaled for good visualization, the fourth picture (“WT-NoStretch-” prefix) contains float values of the wavelet coefficients without intensity scaling. The third and fourth pictures appear only after checking corresponding boxes in the main dialog. Applying Synchronize All in the Sync Wins dialog is helpful when navigating through image stacks."/>
<link rel="shortcut icon" href="skins/ij2.ico"/>
	<meta property="og:type" content="article"/>

	<meta property="og:site_name" content="ImageJ"/>

	<meta property="og:title" content="Wavelet Denoise"/>

	<meta property="og:description" content="When starting the plugin, pictures and Sync Wins dialog appear, like in the picture above, together with the plugin dialog. The first picture is the input image, the second one is the filtered picture (“Filtered-” prefix), the third one contains the wavelet coefficients (“WT-“ prefix), that are converted to 8-bit and are intensity scaled for good visualization, the fourth picture (“WT-NoStretch-” prefix) contains float values of the wavelet coefficients without intensity scaling. The third and fourth pictures appear only after checking corresponding boxes in the main dialog. Applying Synchronize All in the Sync Wins dialog is helpful when navigating through image stacks."/>


<meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Wavelet_Denoise rootpage-Wavelet_Denoise skin-erudite action-view">
		<div id="top-wrap" role="banner">
			<h1><a href="Welcome" title="ImageJ" rel="home">ImageJ</a></h1>
			<div id="tagline">From ImageJ</div>

			<a id="menubutton" href="Wavelet_Denoise.html#menu">Menu</a>
			<div id="nav" role="navigation">
			<ul id='menu'>
<li id="menu-item-n-About"><a href="ImageJ">About</a></li>
<li id="menu-item-n-Downloads"><a href="Downloads">Downloads</a></li>
<li id="menu-item-n-Learn"><a href="Learn">Learn</a></li>
<li id="menu-item-n-Develop"><a href="Development">Develop</a></li>
<li id="menu-item-n-News"><a href="News">News</a></li>
<li id="menu-item-n-Events"><a href="Events">Events</a></li>
<li id="menu-item-n-Help"><a href="Help">Help</a></li>
</ul>
			</div>
		</div>

		<div id="mw-js-message"></div>
		
		<div id="main" role="main">

			<div id="bodyContent">
				<div style="font-size: large; border: 1px solid black; padding: 1em; margin-bottom: 1em; text-align: center; background-color: #fda;">
					This is a read-only version of imagej.net, available during the transition to the new website, which you can preview <a href="https://imagej.github.io/">here</a>.
					<br>Please direct any questions or issues to <a href="https://forum.image.sc/t/imagej-wiki-is-down/39672">this Image.sc Forum thread</a>.
					<br>Thank you for your patience as we improve the website!
				</div>

				<h1>Wavelet Denoise</h1>
				
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><table class="infobox" cellspacing="5" style="max-width: 31em; font-size: 90%; text-align: left; float: right; border: 1px solid #a0a0a0;">
<tr>
<th colspan="2" style="text-align: center; font-size: 130%;"> <div style="float: left"></div>Wavelet_Denoise (ImageJ/Fiji)<div style="clear: left;"></div>
</th></tr>
<tr>
<th> Author
</th>
<td> <a rel="nofollow" class="external text" href="./User:LMCF-IMG">Martin Čapek</a>
</td></tr>




<tr>
<th> Maintainer
</th>
<td> Martin Čapek
</td></tr>


<tr>
<th> Source
</th>
<td> <a rel="nofollow" class="external text" href="https://github.com/LMCF-IMG/Wavelet_Denoise/">on GitHub</a>
</td></tr>
<tr>
<th> Initial release
</th>
<td> 04/09/2020
</td></tr>
<tr>
<th> Latest version
</th>
<td> 05/21/2020
</td></tr>



</table>
<p><br />
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="Wavelet_Denoise.html#Plugin_for_wavelet-based_denoising.2Ffiltering_image_data"><span class="tocnumber">1</span> <span class="toctext">Plugin for wavelet-based denoising/filtering image data</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="Wavelet_Denoise.html#Description_of_functionality_of_items_in_the_plugin_window"><span class="tocnumber">2</span> <span class="toctext">Description of functionality of items in the plugin window</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="Wavelet_Denoise.html#Additional_remarks"><span class="tocnumber">3</span> <span class="toctext">Additional remarks</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="Wavelet_Denoise.html#Step-by-step_manuals"><span class="tocnumber">4</span> <span class="toctext">Step-by-step manuals</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="Wavelet_Denoise.html#Installation"><span class="tocnumber">5</span> <span class="toctext">Installation</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="Wavelet_Denoise.html#References"><span class="tocnumber">6</span> <span class="toctext">References</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Plugin_for_wavelet-based_denoising.2Ffiltering_image_data">Plugin for wavelet-based denoising/filtering image data</span></h2>
<p><a href="./File:Wavelet_Denoise_Pics_ImageJ_SyncWins.jpg" class="image"><img alt="Wavelet Denoise Pics ImageJ SyncWins.jpg" src="_images/0/0b/Wavelet_Denoise_Pics_ImageJ_SyncWins.jpg" width="800" height="405" /></a>
</p><p>When starting the plugin, pictures and <i>Sync Wins</i> dialog appear, like in the picture above, together with the plugin dialog. The first picture is the input image, the second one is the filtered picture (“Filtered-” prefix), the third one contains the wavelet coefficients (“WT-“ prefix), that are converted to 8-bit and are intensity scaled for good visualization, the fourth picture (“WT-NoStretch-” prefix) contains float values of the wavelet coefficients without intensity scaling. The third and fourth pictures appear only after checking corresponding boxes in the main dialog. <i>Applying Synchronize All</i> in the <i>Sync Wins</i> dialog is helpful when navigating through image stacks.
</p><p>We should mention here that sizes of input image matrices must be of power of 2, common sizes are: 64, 128, 256, 512, 1024, 2048 etc., otherwise the plugin will not start and a warning message appears again. This is due to the proper computation of levels of wavelet decomposition of images, see below.
</p>
<div class="floatright"><a href="./File:Wavelet_Denoise_dialog.jpg" class="image"><img alt="Wavelet Denoise dialog.jpg" src="_images/9/9e/Wavelet_Denoise_dialog.jpg" width="350" height="618" /></a></div>
<h2><span class="mw-headline" id="Description_of_functionality_of_items_in_the_plugin_window">Description of functionality of items in the plugin window</span></h2>
<p><b>Refresh button</b> – returns all items in the dialog to default values.
</p><p><b>Level of Details</b> – number of levels of decomposition of images.
</p><p><b>Wavelet Filter</b> – wavelet family and a kind of the applied filter (Haar 1, Daubechies 1-20, Symlets 2-20, Coiflets 1-5, Biorthogonal 1.1-6.8, Reverse Biorthogonal 1.1-6.8, Discrete Meyer 1).
</p><p><b>Filtration Method:</b>
</p><p>• <i>Nothing</i> – no filtration applied.
</p><p>• <i>Suppress Approx. &amp; Detail. Coeffs. (AC &amp; DC)</i> – suppresses some amount of the smallest coefficients, i.e. coefficients are ranked according to absolute value of their amplitude. User can set the level of suppression that equals the percentage of the coefficients to be removed (i.e., 0% means no values are suppressed, 100% means all the values are suppressed). Here, both Approximation and Detailed Coefficients are taken together as a one set when doing suppression.
</p><p>• <i>Soft Thresholding</i> – soft VisuShrink thresholding;
</p><p>• <i>Hard Thresholding</i> – hard VisuShrink thresholding: These two tools demonstrate another use of wavelet transform for image denoising/filtering. It is accomplished using VisuShrink thresholding method and the user defines the threshold by selecting the level of denoising (that equals Sigma value of the Universal threshold; Sigma takes values 1-128) in the dialog. It can also be selected to do either Soft Thresholding or Hard Thresholding [1-2]. Soft thresholding generally gives a smoother image.
</p><p>• <i>Suppress Approx. Coeffs. (AC) – applied with “Suppress DC”</i>;
</p><p>• <i>Suppress Detail. Coeffs. (DC) – applied with “Suppress AC”</i>:
Here the plugin suppresses coefficients separately, i.e. only Approximation Coefficients can be suppressed (0-100%) or only Detailed Coefficients (0-100%). However, it is possible to combine settings of both coefficients together, i.e. to set, e.g., AC to 5% and DC to 50% and both suppressions will be applied to the image simultaneously.
</p><p>Explanation of details of the wavelet transform and parameters mentioned can be found in the text below [2].
</p><p><b>Show WT Coefficients</b>
</p><p>If user wants to inspect values of wavelet coefficients, checking this checkbox shows a picture depicting the coefficients that are converted to 8-bit and are intensity scaled for good visualization (the image with the “WT-” prefix).
</p><p><b>Show Float WT Coefficients (For Experts)</b>
</p><p>If user wants to see real values of wavelet coefficients, checking this checkbox shows another picture depicting the coefficients in float precision (the image with the “WT-NoStretch-” prefix). That can be used, e.g., for analysis in Matlab.
</p><p><b>Enable 1 Slice Preview – Use “Synchronize All Windows”</b>
</p><p>In a standard way, when changing any parameter or method in the dialog, “Filtered” images, and also “WT” and “WT-NoStretch-” pictures if these are opened, are <b>recomputed instantly</b>. This may become time-consuming when filtering big stacks with large image matrices. Then checking this box stops immediate recomputation of the stacks and <i>Preview 1 Slice</i> button is enabled. Now, after changing a parameter and/or a method these are applied to the data only after pressing this button. But only a slice that is active in the original stack is updated. 
</p><p>After pressing <i>Preview 1 Slice</i> another <i>Recomputing All Data Required</i> button becomes active as well. After pressing this button parameters that were previously applied to one slice only are used for updating the whole stack of images. This button is active only if parameters set were not applied to the whole stack. It is highly useful here to apply <i>Synchronize All</i> in the <i>Sync Wins</i> dialog when going through the stack to see corresponding slices in all image stack windows.
</p><p>When unchecking this checkbox, the whole stack, is also recomputed according to the method and parameters set. Then plugin returns to the mode of immediate recomputation of the whole image/stack after changing parameters and both buttons (<i>Preview 1 Slice</i>, <i>Recomputing All Data Required</i>) are disabled.
</p><p><b>Status Message</b>
</p><p>Below the buttons (<i>Preview 1 Slice</i>, <i>Recomputing All Data Required</i>) there is a status message showing the progress of computation or warning messages from the plugin.
</p><p><b>Done!</b> button closes the dialog, but all image windows stay open for possible next processing.
</p>
<h2><span class="mw-headline" id="Additional_remarks">Additional remarks</span></h2>
<p>• Plugin dialog is modeless. It is possible to process the input image prior applying any wavelet denoising/filtration, e.g., by smoothing, sharpening, contrast. In such cases the <i>Refresh</i> button can be useful. However, the size of the input image matrix, number of slices and the bit depth cannot be changed.
</p><p>• When you close any image window joined with the dialog (Input, WT, Filtered, WT-NoStretch) during running, the dialog will not continue and a warning message appears.
</p><p>• If you do not see data in image windows well, use <span><em><span style="border-bottom:1px dotted #ccc;"> Image </span>&#160;&#8250; <span style="border-bottom:1px dotted #ccc;"> Adjust-Brightness/Contrast </span>&#160;&#8250; <span style="border-bottom:1px dotted #ccc;"> Auto</span></em></span>. Do not press <i>Apply</i> for pixel intensity value recomputation.
</p>
<h2><span class="mw-headline" id="Step-by-step_manuals">Step-by-step manuals</span></h2>
<p><b><u>How to use the plugin for denoising/filtering small data:</u></b>
</p><p>(<a rel="nofollow" class="external text" href="_images/c/ce/SIM_Lamina_32bit_488_Honeycomb_StrongBckg_Scale-0_25.zip">SIM_Lamina_32bit_488_Honeycomb_StrongBckg_Scale-0_25.tif - 7 MB</a>)
</p><p>1. Open an image/stack.
</p><p>2. Run <span><em><span style="border-bottom:1px dotted #ccc;"> Plugins </span>&#160;&#8250; <span style="border-bottom:1px dotted #ccc;"> Wavelet_Denoise</span></em></span>.
</p><p>3. Arrange positions of <i>Wavelet_Denoise</i> main window and <i>Synchronize Windows</i> dialog in the screen.
</p><p>4. Run <span><em><span style="border-bottom:1px dotted #ccc;"> Window </span>&#160;&#8250; <span style="border-bottom:1px dotted #ccc;"> Tile</span></em></span>.
</p><p>5. Press <i>Synchronize All</i> in <i>Synchronize Windows</i> dialog. Or select the input image and its “WT-“ and “Filtered-“ versions for syncing if more images are opened in Fiji/Imagej.
</p><p>6. Find a slice of interest in a stack image with multiple slices (if such is opened).
</p><p>7. By CTRL+SHIFT+C and pressing <i>Auto</i> adjust contrast in all images if it is useful. Do not press <i>Apply</i>.
</p><p>8. Apply denoising/filtration of your data. If any method or parameter is changed, “Filtered-“ (and “WT-“ and “WT-NoStretch-” if these are opened) image windows are <b>immediately recomputed</b>.
</p><p>9. Play iteratively with parameters until you are satisfied with the result of denoising/filtration. It is possible to return back to default values of the dialog by pressing <i>Refresh</i>.
</p><p>10. If you are satisfied with the result, press <i>Done!</i> This closes the dialog, but all image windows stay open for possible next processing.
</p><p><b><u>How to use the plugin for denoising/filtering big data:</u></b>
</p><p>(<a rel="nofollow" class="external text" href="_images/e/e8/SIM_Lamina_32bit_488_Honeycomb_StrongBckg.zip">SIM_Lamina_32bit_488_Honeycomb_StrongBckg.tif - 73 MB</a>)
</p><p>1. Open an image/stack.
</p><p>2. Run <span><em><span style="border-bottom:1px dotted #ccc;"> Plugins </span>&#160;&#8250; <span style="border-bottom:1px dotted #ccc;"> Wavelet_Denoise</span></em></span>.
</p><p>3. Arrange positions of <i>Wavelet_Denoise</i> main window and <i>Synchronize Windows</i> dialog in the screen.
</p><p>4. Run <span><em><span style="border-bottom:1px dotted #ccc;"> Window </span>&#160;&#8250; <span style="border-bottom:1px dotted #ccc;"> Tile</span></em></span>.
</p><p>5. Press <i>Synchronize All</i> in <i>Synchronize Windows</i> dialog. Or select the input image and its “WT-“ and “Filtered-“ versions for syncing if more images are opened in Fiji/Imagej.
</p><p>6. Find a slice of interest in a stack image with multiple slices (if such is opened).
</p><p>7. By CTRL+SHIFT+C and pressing <i>Auto</i> adjust contrast in all images if it is useful. Do not press <i>Apply</i>.
</p><p>8. Mark <i>Enable 1 Slice Preview</i> to <b>avoid immediate recomputation</b> of images after changing any parameter in the main dialog.
</p><p>9. Choose a filtration method and its power by using a corresponding slider.
</p><p>10. Press <i>Preview</i> button. The method and its power are applied to the data, but only to a selected slice!
</p><p>11. Play iteratively with parameters until you are satisfied with the result of denoising/filtration. It is also possible to go to various slices to check the quality of filtering there.
</p><p>12. <b>Important:</b> If you are satisfied with the result, <b>press <i>Recomputing All Data Required</i></b> button (or uncheck <i>Enable 1 Slice Preview</i>). This recomputes the whole data according to active set method and its power.
</p><p>13. If you are satisfied with the result, press <i>Done!</i> This closes the dialog, but all image windows stay open for possible next processing.
</p>
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p>Two possibilities, how to do it:
</p><p>1. Use LMCF-IMG update site in Fiji. More about installing Fiji plugins using update sites can be found <a rel="nofollow" class="external text" href="Following_an_update_site">here</a>. 
</p><p>2. Download Wavelet_Denoise.jar file from <a rel="nofollow" class="external text" href="https://github.com/LMCF-IMG/Wavelet_Denoise">GitHub</a> and put it into plugins in ImageJ/Fiji folder.
</p>
<h2><span class="mw-headline" id="References">References</span></h2>
<p>1. Rangarajan, P. et al. Image Denoising Using Wavelets: Wavelets &amp; Time Frequency. University of Michigan, 2002.
</p><p>2. <a rel="nofollow" class="external free" href="https://dsp.stackexchange.com/questions/15464/wavelet-thresholding">https://dsp.stackexchange.com/questions/15464/wavelet-thresholding</a>
</p><p>3. Čapek, M., Efenberková, M., Novotný, I., Horváth, O. <a rel="nofollow" class="external text" href="_images/5/5f/2019_AinDM_Capek_et_al_Wavelet_Denoising_Fiji.pdf">The wavelet-based denoising of images in Fiji/ImageJ, with example applications in structured illumination microscopy.</a> In: Advances in Disease Models, Edited by Petr Bartůněk, Institute of Molecular Genetics AS CR, 2019, 1th publication, ISBN 978-80-88011-06-4
Publisher: OPTIO CZ.
</p>
<!-- 
NewPP limit report
Cached time: 20200713074424
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.056 seconds
Real time usage: 0.058 seconds
Preprocessor visited node count: 389/1000000
Preprocessor generated node count: 1521/1000000
Post‐expand include size: 2684/2097152 bytes
Template argument size: 622/2097152 bytes
Highest expansion depth: 10/40
Expensive parser function count: 0/3
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%   14.429      1 - -total
 57.73%    8.330      5 - Template:Bc
 38.95%    5.620      1 - Template:Infobox
 15.80%    2.280      6 - Template:Arrow
 12.67%    1.828      1 - Template:GitHub
-->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="index.php?title=Wavelet_Denoise&amp;oldid=45835">http://imagej.net/index.php?title=Wavelet_Denoise&amp;oldid=45835</a>"</div>
							</div>

			<div id="footer">
				<p> This page was last modified on 26 June 2020, at 08:55.</p><ul><li><a href="./ImageJ:Privacy_policy" title="ImageJ:Privacy policy">Privacy policy</a></li><li><a href="./ImageJ:About" class="mw-redirect" title="ImageJ:About">About ImageJ</a></li><li><a href="Imprint" title="Imprint">Imprint</a></li></ul>			</div>

			<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="./Special:Categories" title="Special:Categories">Categories</a>: <ul><li><a href="./Category:Plugins" title="Category:Plugins">Plugins</a></li><li><a href="./Category:Filtering" title="Category:Filtering">Filtering</a></li></ul></div></div>		</div>

		<div id="bottom-wrap">
			<div id="footer-wrap-inner">
				<div id="ternary" class="footer">
					<ul>
						<li class="widget">
							<img id="logo" src="skins/imagej-128.png" alt="">
						</li>
					</ul>
				</div>
			</div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.loader.load(["ext.fancytree","ext.suckerfish","mediawiki.toc","mediawiki.action.view.postEdit","site","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","ext.SimpleTooltip"]);});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":282});});</script>
		</body>
		</html>
		
<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>BigStitcher Interest point management - ImageJ</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"BigStitcher_Interest_point_management","wgTitle":"BigStitcher Interest point management","wgCurRevisionId":37421,"wgRevisionId":37421,"wgArticleId":10355,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"BigStitcher_Interest_point_management","wgRelevantArticleId":10355,"wgRequestId":"7f5a29341086b7a3f3ce2c94","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgPreferredVariant":"en","fancytree_path":"/extensions/TreeAndMenu/fancytree"});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user.cssprefs":"ready","user":"ready","user.options":"loading","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","skins.erudite":"ready"});mw.loader.implement("user.options@0j3lz3q",function($,jQuery,require,module){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens@1ku9xth",function ( $, jQuery, require, module ) {
mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});/*@nomin*/;

});mw.loader.load(["mediawiki.page.startup"]);});</script>
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%252Cshared%257Cmediawiki.sectionAnchor%257Cskins.erudite&amp;only=styles&amp;skin=erudite.css"/>
<script async="" src="load.php%3Fdebug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=erudite"></script>
<link rel="stylesheet" href="extensions/TreeAndMenu/fancytree/fancytree.css"/><link rel="stylesheet" href="extensions/TreeAndMenu/suckerfish/suckerfish.css"/>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=erudite.css"/>
<meta name="generator" content="MediaWiki 1.28.0"/>
<meta name="description" content="While the Interest Point-based registration is quite resistant to outliers and will typically work even with few actually corresponding points, there are situations in which you might want to manually curate the detected interest points:"/>
<link rel="shortcut icon" href="skins/ij2.ico"/>
	<meta property="og:type" content="article"/>

	<meta property="og:site_name" content="ImageJ"/>

	<meta property="og:title" content="BigStitcher Interest point management"/>

	<meta property="og:description" content="While the Interest Point-based registration is quite resistant to outliers and will typically work even with few actually corresponding points, there are situations in which you might want to manually curate the detected interest points:"/>


<meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-BigStitcher_Interest_point_management rootpage-BigStitcher_Interest_point_management skin-erudite action-view">
		<div class="mw-jump">
			<a href="BigStitcher_Interest_point_management.html#bodyContent">Skip to content</a>, 			<a href="BigStitcher_Interest_point_management.html#search">Skip to search</a>
		</div>

		<div id="top-wrap" role="banner">
			<h1><a href="Welcome" title="ImageJ" rel="home">ImageJ</a></h1>
			<div id="tagline">From ImageJ</div>

			<a id="menubutton" href="BigStitcher_Interest_point_management.html#menu">Menu</a>
			<div id="nav" role="navigation">
			<ul id='menu'>
<li id="menu-item-n-About"><a href="ImageJ">About</a></li>
<li id="menu-item-n-Downloads"><a href="Downloads">Downloads</a></li>
<li id="menu-item-n-Learn"><a href="Learn">Learn</a></li>
<li id="menu-item-n-Develop"><a href="Development">Develop</a></li>
<li id="menu-item-n-News"><a href="News">News</a></li>
<li id="menu-item-n-Events"><a href="Events">Events</a></li>
<li id="menu-item-n-Help"><a href="Help">Help</a></li>
</ul>
			</div>
		</div>

		<div id="mw-js-message"></div>
		
		<div id="main" role="main">

			<div id="bodyContent">
				<h1>BigStitcher Interest point management</h1>
				
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="BigStitcher_Interest_point_management.html#Overview"><span class="tocnumber">1</span> <span class="toctext">Overview</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="BigStitcher_Interest_point_management.html#Interest_Point_Explorer"><span class="tocnumber">2</span> <span class="toctext">Interest Point Explorer</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="BigStitcher_Interest_point_management.html#Manage_Interest_Points"><span class="tocnumber">3</span> <span class="toctext">Manage Interest Points</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="BigStitcher_Interest_point_management.html#New_interest_points_from_correspondences"><span class="tocnumber">3.1</span> <span class="toctext">New interest points from correspondences</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="BigStitcher_Interest_point_management.html#Show_distance_histogram"><span class="tocnumber">3.2</span> <span class="toctext">Show distance histogram</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="BigStitcher_Interest_point_management.html#Remove_by_distance"><span class="tocnumber">3.3</span> <span class="toctext">Remove by distance</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="BigStitcher_Interest_point_management.html#Remove_interactively"><span class="tocnumber">3.4</span> <span class="toctext">Remove interactively</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-8"><a href="BigStitcher_Interest_point_management.html#Visualize_Interest_Points"><span class="tocnumber">4</span> <span class="toctext">Visualize Interest Points</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Overview">Overview</span></h2>
<p>While the <a href="BigStitcher_Registration" title="BigStitcher Registration">Interest Point-based registration</a> is quite resistant to outliers and will typically work even with few actually corresponding points, there are situations in which you might want to manually curate the detected interest points:
</p>
<ul><li> in very heterogeneous samples you might have a lot of spurious detections that you want to exclude.</li>
<li> for extracting <a href="BigStitcher_PSF" title="BigStitcher PSF">Point Spread Functions (PSFs)</a> for <a href="BigStitcher_Deconvolution" title="BigStitcher Deconvolution">Deconvolution</a>, you want to only use detected beads, but not detections in the sample itself.</li></ul>
<p>We offer a variety of ways to manage interest points in <b>MultiView mode</b>, which can be found in the main menu under <code>Interest Points</code>. 
</p>
<div class="center"><div class="floatnone"><a href="./File:BigStitcher_ips_menu.png" class="image"><img alt="BigStitcher ips menu.png" src="_images/d/d9/BigStitcher_ips_menu.png" width="800" height="277" /></a></div></div>
<h2><span class="mw-headline" id="Interest_Point_Explorer">Interest Point Explorer</span></h2>
<p>If you click <b>Interest Point Explorer (on/off)</b>, a new window will open that shows the different interest points that were detected in the <b>selected view(s)</b>. The table will list:
</p>
<ul><li> the <b>Name</b> of the interest points</li>
<li> the <b>Number</b> of interest points</li>
<li> if you already performed registration using the points, the <b>Number of Corresponding points</b>, i.e. the number of points that were found in at least one other view, and the <b>Number of Correspondences</b>, i.e. the number of points in other views that could be matched to the selected points (note that this number can be larger as one point might have correspondences in multiple other views).</li>
<li> in how many of the selected views points <b>are present</b></li>
<li> the <b>Parameters</b> used for detection</li></ul>
<p>You can right-click on a line in the list and click <b>Delete</b> to delete the interest points.
</p>
<div class="thumb tright"><div class="thumbinner" style="width:302px;"><a href="./File:BigStitcher_ips_explorer_bdv_all.png" class="image"><img alt="" src="_images/5/5b/BigStitcher_ips_explorer_bdv_all.png" width="300" height="241" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="./File:BigStitcher_ips_explorer_bdv_all.png" class="internal" title="Enlarge"></a></div>all interest points as an overlay in BigDataViewer</div></div></div>
<div class="thumb tright"><div class="thumbinner" style="width:302px;"><a href="./File:BigStitcher_ips_explorer_bdv_corresponding.png" class="image"><img alt="" src="_images/b/b5/BigStitcher_ips_explorer_bdv_corresponding.png" width="300" height="241" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="./File:BigStitcher_ips_explorer_bdv_corresponding.png" class="internal" title="Enlarge"></a></div><b>corresponding</b> interest points as an overlay in BigDataViewer</div></div></div>
<div class="center"><div class="floatnone"><a href="./File:BigStitcher_ips_explorer_panel.png" class="image"><img alt="BigStitcher ips explorer panel.png" src="_images/d/de/BigStitcher_ips_explorer_panel.png" width="600" height="360" /></a></div></div>
<p>If the BigDataViewer is open, clicking on <b>#Detections</b> or <b>#Corresponding</b> will overly the detected or corresponding interest points in the BigDataViewer. All points will be displayed at once, with the points in the currently displayed image plane drawn in <b>red</b> and the points from other planes in <b>green</b>.
</p>
<h2><span class="mw-headline" id="Manage_Interest_Points">Manage Interest Points</span></h2>
<p>In the <b>Manage Interest Points</b> sub-menu, we offer a few ways of filtering and managing interest points:
</p>
<h3><span class="mw-headline" id="New_interest_points_from_correspondences">New interest points from correspondences</span></h3>
<p>This allows you to select <b>just the corresponding interest points</b> with a given label and save them under a new name. Clicking this opens a dialog allowing you to select for which points to extract correspondences <b>(Corresponding interest points)</b> and give a name to the copied points <b>(New label)</b>. 
</p>
<div class="center"><div class="floatnone"><a href="./File:BigStitcher_ips_new_from_corresponding.png" class="image"><img alt="BigStitcher ips new from corresponding.png" src="_images/2/2f/BigStitcher_ips_new_from_corresponding.png" width="400" height="215" /></a></div></div>
<h3><span class="mw-headline" id="Show_distance_histogram">Show distance histogram</span></h3>
<p>Selecting <b>Show Distance Histogram ...</b> and clicking on an interest point label in the sub-menu will display the distribution of <b>distances to the nearest neighbour</b> for all interest points with the selected label in the selected views.
</p>
<div class="center"><div class="floatnone"><a href="./File:BigStitcher_ips_dist_hist.png" class="image"><img alt="BigStitcher ips dist hist.png" src="_images/9/90/BigStitcher_ips_dist_hist.png" width="600" height="340" /></a></div></div>
<p><b>Show Relative Distance Histogram ...</b> allows you to plot the distribution of distances from points with one label <b>to the nearest neighbor among points of another label</b>. You will be asked for which <b>Interest points</b> to use and <b>Relative to</b> which other set distances should be computed.
</p>
<div class="center"><div class="floatnone"><a href="./File:BigStitcher_ips_dist_hist_relative.png" class="image"><img alt="BigStitcher ips dist hist relative.png" src="_images/4/44/BigStitcher_ips_dist_hist_relative.png" width="400" height="285" /></a></div></div>
<h3><span class="mw-headline" id="Remove_by_distance">Remove by distance</span></h3>
<p>Using <b>Remove by Distance</b> or <b>Remove by relative Distance</b>, you can filter interest points by their distance to the nearest neighbor in the same point set or in another point set (relative distance). Clicking this opens a new dialog asking for:
</p>
<ul><li> <b>Interest points:</b> the interest points to filter by (relative) distance</li>
<li> (when using relative distances) <b>Relative to:</b> which other points to compute relative distances to.</li>
<li> <b>New label:</b> under which name to save the new, thinned-out interest points</li>
<li> <b>Lower threshold</b> and <b>Upper threshold</b>: the range of distances to keep or remove</li>
<li> <b>Defined range:</b> whether to <b>Remove</b> points with a nearest-neighbor-distance in the given range or <b>Keep</b> them (removes all otside the range).</li></ul>
<div class="center"><div class="floatnone"><a href="./File:BigStitcher_ips_dist_remove_dist.png" class="image"><img alt="BigStitcher ips dist remove dist.png" src="_images/d/d6/BigStitcher_ips_dist_remove_dist.png" width="400" height="391" /></a></div></div>
<h3><span class="mw-headline" id="Remove_interactively">Remove interactively</span></h3>
<p>Using <b>Remove Interactively (XY-Projection)...</b>, <b>Remove Interactively (XZ-Projection)...</b> or <b>Remove Interactively (YZ-Projection)...</b>, you can manually select areas in a projection of you images from which to remove or keep interest points.
</p><p>Clicking one of these will first ask for the name of the <b>Interest Points</b> to filter and a <b>New Label</b> to give to the result.
</p><p>Clicking <b>OK</b> will open the selected projection in a new ImageJ window with the interest points highlighted in <b>green</b>. You can then select ROIs using the default tools of ImageJ and <b>Remove all detections INside ROI</b> or <b>Remove all detections OUTside ROI</b> in the new <b>Remove detections</b>-window. You can repeat the process if you want.  When you are happy with the result, click <b>Done</b> to create the new, thinned-out interest points.
</p><p><br />
</p>
<div class="center"><div class="floatnone"><a href="./File:BigStitcher_ips_manual_remove_example.png" class="image"><img alt="BigStitcher ips manual remove example.png" src="_images/3/3b/BigStitcher_ips_manual_remove_example.png" width="1000" height="243" /></a></div></div>
<h2><span class="mw-headline" id="Visualize_Interest_Points">Visualize Interest Points</span></h2>
<p>Finally, the <b>Visualize Interest Points...</b> menu item allows you to render interest points as Gaussian spots and display the result as a new image stack in ImageJ.
</p><p>In the dialog, you can set the following parameters:
</p>
<ul><li> <b>Interest points:</b> which interest points to visualize</li>
<li> <b>Display:</b> whether to display <b>All detections</b> or only <b>Corresponding detections</b> (see above for details).</li>
<li> <b>Downsample detections rendering:</b> by how much to downsample the resulting rendered stack (e.g. a full-resolution rendering will have the same size as the corresponding image stack).</li>
<li> <b>Display input images:</b> click to also display the corresponding input images as ImageJ-images.</li></ul>
<p>Clicking <b>OK</b> will produce an interest point rendering <i>for each selected view</i>.
</p>
<div class="center"><div class="floatnone"><a href="./File:BigStitcher_ips_vis_dialog.png" class="image"><img alt="BigStitcher ips vis dialog.png" src="_images/2/23/BigStitcher_ips_vis_dialog.png" width="600" height="345" /></a></div></div>
<p><br />
Go back to the <a href="BigStitcher#Documentation" title="BigStitcher">main page</a>
</p>
<!-- 
NewPP limit report
Cached time: 20200713064618
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.044 seconds
Real time usage: 0.045 seconds
Preprocessor visited node count: 30/1000000
Preprocessor generated node count: 36/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/3
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 - -total
-->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="index.php?title=BigStitcher_Interest_point_management&amp;oldid=37421">http://imagej.net/index.php?title=BigStitcher_Interest_point_management&amp;oldid=37421</a>"</div>
							</div>

			<div id="footer">
				<p> This page was last modified on 26 March 2018, at 11:10.</p><ul><li><a href="./ImageJ:Privacy_policy" title="ImageJ:Privacy policy">Privacy policy</a></li><li><a href="./ImageJ:About" class="mw-redirect" title="ImageJ:About">About ImageJ</a></li><li><a href="Imprint" title="Imprint">Imprint</a></li></ul>			</div>

			<div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>		</div>

		<div id="bottom-wrap">
			<div id="footer-wrap-inner">
				<div id="ternary" class="footer">
					<ul>
						<li class="widget">
							<img id="logo" src="skins/imagej-128.png" alt="">
						</li>
					</ul>
				</div>
			</div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.loader.load(["ext.fancytree","ext.suckerfish","mediawiki.toc","mediawiki.action.view.postEdit","site","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","ext.SimpleTooltip"]);});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":262});});</script>
		</body>
		</html>
		
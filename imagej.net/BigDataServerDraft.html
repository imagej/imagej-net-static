<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>BigDataServerDraft - ImageJ</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"BigDataServerDraft","wgTitle":"BigDataServerDraft","wgCurRevisionId":18354,"wgRevisionId":18354,"wgArticleId":3207,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"BigDataServerDraft","wgRelevantArticleId":3207,"wgRequestId":"12c7257bdfd6deeae86e6027","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgPreferredVariant":"en","fancytree_path":"/extensions/TreeAndMenu/fancytree"});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user.cssprefs":"ready","user":"ready","user.options":"loading","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","skins.erudite":"ready"});mw.loader.implement("user.options@0j3lz3q",function($,jQuery,require,module){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens@1ku9xth",function ( $, jQuery, require, module ) {
mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});/*@nomin*/;

});mw.loader.load(["mediawiki.page.startup"]);});</script>
<link rel="stylesheet" href="erudite14.css"/>
<link rel="stylesheet" href="extensions/TreeAndMenu/fancytree/fancytree.css"/><link rel="stylesheet" href="extensions/TreeAndMenu/suckerfish/suckerfish.css"/>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="erudite15.css"/>
<meta name="generator" content="MediaWiki 1.28.0"/>
<meta name="description" content="BigDataServer is a minimalistic HTTP server that serves XML/HDF5 datasets to the BigDataViewer Fiji plugin for visualisation."/>
<link rel="shortcut icon" href="skins/ij2.ico"/>
	<meta property="og:type" content="article"/>

	<meta property="og:site_name" content="ImageJ"/>

	<meta property="og:title" content="BigDataServerDraft"/>

	<meta property="og:description" content="BigDataServer is a minimalistic HTTP server that serves XML/HDF5 datasets to the BigDataViewer Fiji plugin for visualisation."/>


<meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-BigDataServerDraft rootpage-BigDataServerDraft skin-erudite action-view">
		<div class="mw-jump">
			<a href="BigDataServerDraft.html#bodyContent">Skip to content</a>, 			<a href="BigDataServerDraft.html#search">Skip to search</a>
		</div>

		<div id="top-wrap" role="banner">
			<h1><a href="Welcome" title="ImageJ" rel="home">ImageJ</a></h1>
			<div id="tagline">From ImageJ</div>

			<a id="menubutton" href="BigDataServerDraft.html#menu">Menu</a>
			<div id="nav" role="navigation">
			<ul id='menu'>
<li id="menu-item-n-About"><a href="ImageJ">About</a></li>
<li id="menu-item-n-Downloads"><a href="Downloads">Downloads</a></li>
<li id="menu-item-n-Learn"><a href="Learn">Learn</a></li>
<li id="menu-item-n-Develop"><a href="Development">Develop</a></li>
<li id="menu-item-n-News"><a href="News">News</a></li>
<li id="menu-item-n-Events"><a href="Events">Events</a></li>
<li id="menu-item-n-Help"><a href="Help">Help</a></li>
</ul>
			</div>
		</div>

		<div id="mw-js-message"></div>
		
		<div id="main" role="main">

			<div id="bodyContent">
				<h1>BigDataServerDraft</h1>
				
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><table class="infobox" cellspacing="5" style="max-width: 31em; font-size: 90%; text-align: left; float: right; border: 1px solid #a0a0a0;">
<tr>
<th colspan="2" style="text-align: center; font-size: 130%;"> <div style="float: left"></div>BigDataServer (Fiji)<div style="clear: left;"></div>
</th></tr>
<tr>
<th> Author
</th>
<td> <a href="./User:Pietzsch" title="User:Pietzsch">Tobias Pietzsch</a>, <a href="./User:Moon" title="User:Moon">HongKee Moon</a>, <a href="./User:Tomancak" title="User:Tomancak">Pavel Tomancak</a>
</td></tr>




<tr>
<th> Maintainer
</th>
<td> <a href="./User:Pietzsch" title="User:Pietzsch">Tobias Pietzsch</a>
</td></tr>


<tr>
<th> Source
</th>
<td> <a rel="nofollow" class="external text" href="https://github.com/bigdataviewer/bigdataviewer-server/">on GitHub</a>
</td></tr>

<tr>
<th> Latest version
</th>
<td> 1.0.5
</td></tr>
<tr>
<th> Development status
</th>
<td> experimental
</td></tr>
<tr>
<th> Category
</th>
<td> <a href="./Category:Visualization" title="Category:Visualization">Visualization</a>, <a href="./Category:Transform" title="Category:Transform">Transform</a>
</td></tr>

</table>
<p><br />
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="BigDataServerDraft.html#Description"><span class="tocnumber">1</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="BigDataServerDraft.html#Installing_and_running_the_BigDataServer"><span class="tocnumber">2</span> <span class="toctext">Installing and running the BigDataServer</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="BigDataServerDraft.html#Connecting_to_a_running_BigDataServer_from_Fiji"><span class="tocnumber">3</span> <span class="toctext">Connecting to a running BigDataServer from Fiji</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Description">Description</span></h2>
<p>BigDataServer is a minimalistic HTTP server that serves XML/HDF5 datasets to the <a href="BigDataViewer" title="BigDataViewer">BigDataViewer</a> Fiji plugin for visualisation.
</p><p>The BigDataServer is running on a remote machine which hosts the XML/HDF5 datasets.
A client running Fiji connects to the server, chooses the dataset that the server offers and then the data are efficiently delivered to the BigDataViewer.
In this way, it is possible to seamlessly navigate very large datasets that reside in a remote location.
</p><p><br />
</p>
<h2><span class="mw-headline" id="Installing_and_running_the_BigDataServer">Installing and running the BigDataServer</span></h2>
<p>BigDataServer is packaged as a single "batteries-included" jar file with all required dependencies.
It is run from the command line using Java 7 or higher.
Copy <a rel="nofollow" class="external text" href="http://fly.mpi-cbg.de/~pietzsch/bigdataserver.jar">bigdataserver.jar</a> onto your webserver (probably running Linux).
Run the BigDataServer using this command:
</p>
<pre>$ java -Xmx4G -jar bigdataserver.jar PARAMETERS
</pre>
<p>The <tt style="font-size: 1.25em;">-Xmx4G</tt> option gives the server 4GB of RAM.
The server is built on the same caching architecture as BigDataViewer and does not require a lot of RAM to run (1GB or less should be sufficient).
However, running with more RAM means that more of the data can be cached in RAM (on the server).
This will improve performance, because client requests can be handled rapidly from cached data.
</p><p>Running the above command without parameters will print this help:
</p>
<pre>$ java -Xmx4G -jar bigdataserver.jar
usage: BigDataServer [OPTIONS] [NAME XML] ...

Serves one or more XML/HDF5 datasets for remote access over HTTP.
Provide (NAME XML) pairs on the command line or in a dataset file, where
NAME is the name under which the dataset should be made accessible and XML
is the path to the XML file of the dataset.
-d &lt;FILE&gt;           Dataset file: A plain text file specifying one dataset
                    per line. Each line is formatted as "NAME &lt;TAB&gt; XML".
-m &lt;SECURE_PORT&gt;    Manager context HTTPS port. The manager context is automatically enabled.
                    (default: 8443)
-p &lt;PORT&gt;           Listening port.
                    (default: 8080)
-s &lt;HOSTNAME&gt;       Hostname of the server.
                    (default: localhost)
-t &lt;DIRECTORY&gt;      Directory to store thumbnails. (new temporary directory
                    by default.)
</pre>
<p>A typical command to start the server will look like this:
</p>
<pre>$ java -Xmx4G -jar bigdataserver.jar -d datasets.txt -s fly.mpi-cbg.de -p 8081
2015-02-14 14:02:52.696:INFO::main: Logging initialized @421ms
...
2015-02-14 14:03:12.316:INFO:oejs.Server:main: Started @20046ms
</pre>
<p>where <i>dataset.txt</i> is a TAB delimited list of names and XML paths to the locally accessible datasets (comprising the XML and HDF5 files). Optionally, users can add [Category], [Description], [Priority] after the XML path.
For example <i>dataset.txt</i> could look like this:
</p>
<pre>drosophila_original_test	/mnt/export/hdf5_dataset.xml
drosophila_registered_test	/mnt/export/registered_dataset.xml	drosophila	This experiment set is registered.	1
</pre>
<p>When the manager context is enabled, the keystore password and manager password should be provided. Those prompts appear when the server starts. If the server starts at the first time, it will create the keystore.jks (for HTTPS connection) and realm.properties (for accessing the manager context) containing the manager's password that the user provide. Whenever the server process starts, it will ask the keystore password to open the keystore.jks.
</p><p>A common way to start the server with the manager context looks like below:
</p>
<pre>$ java -Xmx4G -jar bigdataserver.jar -d datasets.txt -s fly.mpi-cbg.de -p 8081 -m 8443
2015-02-14 14:02:52.696:INFO::main: Logging initialized @421ms
...
Please, enter your keystore password:
2015-02-14 14:02:53.626:INFO:bdv.server.BigDataServer.main(): Set handler: org.eclipse.jetty.server.handler.HandlerList
2015-02-14 15:34:53.304:INFO:bdv.server.BigDataServer.main(): Started ServerConnector{HTTP/1.1}{fly.mpi-cbg.de:8081}
2015-02-14 15:34:53.420:INFO:bdv.server.BigDataServer.main(): Started ServerConnector{SSL-http/1.1}{fly.mpi-cbg.de:8443}
</pre>
<p>The keystore password should be provided when the server starts. Then, the /manager context enables users to handle the datasets with the web interface. 
</p><p>The web interface of /manager context looks like this:
<a href="./File:BigDataServer_Manager.png" class="image"><img alt="BigDataServer Manager.png" src="_images/0/0c/BigDataServer_Manager.png" width="600" height="371" /></a>
</p><p>The server will keep running until you cancel it with <kbd class="keyboard-key nowrap" style="border: 1px solid #aaa; -moz-border-radius: 0.2em; -webkit-border-radius: 0.2em; border-radius: 0.2em; -moz-box-shadow: 0.1em 0.2em 0.2em #ddd; -webkit-box-shadow: 0.1em 0.2em 0.2em #ddd; box-shadow: 0.1em 0.2em 0.2em #ddd; background-color: #f9f9f9; background-image: -moz-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -o-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -webkit-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: linear-gradient(&#91;&#91;:Template:Linear-gradient/legacy]], #eee, #f9f9f9, #eee); padding: 0.1em 0.3em; font-family: inherit; font-size: 0.85em;"><span class="Unicode">^</span> Ctrl</kbd>+<kbd class="keyboard-key nowrap" style="border: 1px solid #aaa; -moz-border-radius: 0.2em; -webkit-border-radius: 0.2em; border-radius: 0.2em; -moz-box-shadow: 0.1em 0.2em 0.2em #ddd; -webkit-box-shadow: 0.1em 0.2em 0.2em #ddd; box-shadow: 0.1em 0.2em 0.2em #ddd; background-color: #f9f9f9; background-image: -moz-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -o-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -webkit-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: linear-gradient(&#91;&#91;:Template:Linear-gradient/legacy]], #eee, #f9f9f9, #eee); padding: 0.1em 0.3em; font-family: inherit; font-size: 0.85em;">C</kbd> or close the shell.
To start the server in the background run it in a screen session:
</p>
<pre>$ screen
$ java -Xmx4G -jar bigdataserver.jar -d datasets.txt
2015-02-14 14:02:52.696:INFO::main: Logging initialized @421ms
...
2015-02-14 14:03:12.316:INFO:oejs.Server:main: Started @20046ms
</pre>
<p>and detach the screen with <kbd class="keyboard-key nowrap" style="border: 1px solid #aaa; -moz-border-radius: 0.2em; -webkit-border-radius: 0.2em; border-radius: 0.2em; -moz-box-shadow: 0.1em 0.2em 0.2em #ddd; -webkit-box-shadow: 0.1em 0.2em 0.2em #ddd; box-shadow: 0.1em 0.2em 0.2em #ddd; background-color: #f9f9f9; background-image: -moz-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -o-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -webkit-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: linear-gradient(&#91;&#91;:Template:Linear-gradient/legacy]], #eee, #f9f9f9, #eee); padding: 0.1em 0.3em; font-family: inherit; font-size: 0.85em;"><span class="Unicode">^</span> Ctrl</kbd>+<kbd class="keyboard-key nowrap" style="border: 1px solid #aaa; -moz-border-radius: 0.2em; -webkit-border-radius: 0.2em; border-radius: 0.2em; -moz-box-shadow: 0.1em 0.2em 0.2em #ddd; -webkit-box-shadow: 0.1em 0.2em 0.2em #ddd; box-shadow: 0.1em 0.2em 0.2em #ddd; background-color: #f9f9f9; background-image: -moz-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -o-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -webkit-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: linear-gradient(&#91;&#91;:Template:Linear-gradient/legacy]], #eee, #f9f9f9, #eee); padding: 0.1em 0.3em; font-family: inherit; font-size: 0.85em;">A</kbd> <kbd class="keyboard-key nowrap" style="border: 1px solid #aaa; -moz-border-radius: 0.2em; -webkit-border-radius: 0.2em; border-radius: 0.2em; -moz-box-shadow: 0.1em 0.2em 0.2em #ddd; -webkit-box-shadow: 0.1em 0.2em 0.2em #ddd; box-shadow: 0.1em 0.2em 0.2em #ddd; background-color: #f9f9f9; background-image: -moz-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -o-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -webkit-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: linear-gradient(&#91;&#91;:Template:Linear-gradient/legacy]], #eee, #f9f9f9, #eee); padding: 0.1em 0.3em; font-family: inherit; font-size: 0.85em;">D</kbd>.
</p><p>To add new datasets edit the <i>dataset.txt</i> and add new XML paths.
After that you have to currently restart the server.
(Re-attach the screen session with <tt style="font-size: 1.25em;">screen -r</tt>, cancel the server with <kbd class="keyboard-key nowrap" style="border: 1px solid #aaa; -moz-border-radius: 0.2em; -webkit-border-radius: 0.2em; border-radius: 0.2em; -moz-box-shadow: 0.1em 0.2em 0.2em #ddd; -webkit-box-shadow: 0.1em 0.2em 0.2em #ddd; box-shadow: 0.1em 0.2em 0.2em #ddd; background-color: #f9f9f9; background-image: -moz-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -o-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -webkit-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: linear-gradient(&#91;&#91;:Template:Linear-gradient/legacy]], #eee, #f9f9f9, #eee); padding: 0.1em 0.3em; font-family: inherit; font-size: 0.85em;"><span class="Unicode">^</span> Ctrl</kbd>+<kbd class="keyboard-key nowrap" style="border: 1px solid #aaa; -moz-border-radius: 0.2em; -webkit-border-radius: 0.2em; border-radius: 0.2em; -moz-box-shadow: 0.1em 0.2em 0.2em #ddd; -webkit-box-shadow: 0.1em 0.2em 0.2em #ddd; box-shadow: 0.1em 0.2em 0.2em #ddd; background-color: #f9f9f9; background-image: -moz-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -o-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -webkit-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: linear-gradient(&#91;&#91;:Template:Linear-gradient/legacy]], #eee, #f9f9f9, #eee); padding: 0.1em 0.3em; font-family: inherit; font-size: 0.85em;">C</kbd> and repeat the above).
</p><p>Note that the server port needs to be open.
</p><p><br />
</p>
<h2><span class="mw-headline" id="Connecting_to_a_running_BigDataServer_from_Fiji">Connecting to a running BigDataServer from Fiji</span></h2>
<p>In order to connect to a BigDataServer from Fiji and view the data go to <span><em><span style="border-bottom:1px dotted #ccc;"> Plugins </span>&#160;&#8250; <span style="border-bottom:1px dotted #ccc;"> BigDataViewer </span>&#160;&#8250; <span style="border-bottom:1px dotted #ccc;"> Browse BigDataServer</span></em></span>.
You will be presented with the following dialog box:
</p><p><a href="./File:Bdv-browse-bigdataserver-1.png" class="image"><img alt="Bdv-browse-bigdataserver-1.png" src="_images/7/76/Bdv-browse-bigdataserver-1.png" width="500" height="269" /></a>
</p><p>Enter the URL (including port) of a BigDataServer.
For example, the Drosophila timelapse dataset described in 
<a href="BigDataViewer_Example_Datasets#Remote_HDF5" title="BigDataViewer Example Datasets">BigDataViewer_Example_Datasets#Remote_HDF5</a> is available through this address:
<a rel="nofollow" class="external free" href="http://fly.mpi-cbg.de:8081">http://fly.mpi-cbg.de:8081</a>. Click OK.
The following window will pop up showing a list of datasets offered by the server:
</p><p><a href="./File:Bdv-browse-bigdataserver-2.png" class="image"><img alt="Bdv-browse-bigdataserver-2.png" src="_images/f/fd/Bdv-browse-bigdataserver-2.png" width="500" height="269" /></a>
</p><p>In the example, the server offers only a single dataset called <i>Drosophila</i>.
Double-clicking on a dataset in the list will launch it in the BigDataViewer.
</p>
<div class="MediaTransformError" style="width: 700px; height: 0px; display:inline-block;">Error creating thumbnail: Unable to save thumbnail to destination</div>

<!-- 
NewPP limit report
Cached time: 20200713064605
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.140 seconds
Real time usage: 0.140 seconds
Preprocessor visited node count: 3370/1000000
Preprocessor generated node count: 10015/1000000
Post‐expand include size: 17237/2097152 bytes
Template argument size: 1950/2097152 bytes
Highest expansion depth: 10/40
Expensive parser function count: 0/3
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%  106.391      1 - -total
 75.93%   80.778      4 - Template:Key_press
 70.90%   75.427      7 - Template:Key_press/core
 19.95%   21.228      1 - Template:Infobox
 15.19%   16.156      4 - Template:Person
  3.66%    3.896      1 - Template:Bc
  3.22%    3.425      7 - Template:Linear-gradient
  3.17%    3.376      7 - Template:Box-shadow
  1.50%    1.594      7 - Template:Border-radius
  1.48%    1.577      1 - Template:GitHub
-->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="index.php?title=BigDataServerDraft&amp;oldid=18354">http://imagej.net/index.php?title=BigDataServerDraft&amp;oldid=18354</a>"</div>
							</div>

			<div id="footer">
				<p> This page was last modified on 3 November 2015, at 09:50.</p><ul><li><a href="./ImageJ:Privacy_policy" title="ImageJ:Privacy policy">Privacy policy</a></li><li><a href="./ImageJ:About" class="mw-redirect" title="ImageJ:About">About ImageJ</a></li><li><a href="Imprint" title="Imprint">Imprint</a></li></ul>			</div>

			<div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>		</div>

		<div id="bottom-wrap">
			<div id="footer-wrap-inner">
				<div id="ternary" class="footer">
					<ul>
						<li class="widget">
							<img id="logo" src="skins/imagej-128.png" alt="">
						</li>
					</ul>
				</div>
			</div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.loader.load(["ext.fancytree","ext.suckerfish","mediawiki.toc","mediawiki.action.view.postEdit","site","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","ext.SimpleTooltip"]);});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":327});});</script>
		</body>
		</html>
		
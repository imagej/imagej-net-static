<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>ImgLib2 - Getting Started - ImageJ</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"ImgLib2_-_Getting_Started","wgTitle":"ImgLib2 - Getting Started","wgCurRevisionId":36850,"wgRevisionId":36850,"wgArticleId":1536,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"ImgLib2_-_Getting_Started","wgRelevantArticleId":1536,"wgRequestId":"fa9afd0ad3aa2fb3bfeacc77","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgPreferredVariant":"en","fancytree_path":"/extensions/TreeAndMenu/fancytree"});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user.cssprefs":"ready","user":"ready","user.options":"loading","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","skins.erudite":"ready"});mw.loader.implement("user.options@0j3lz3q",function($,jQuery,require,module){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens@1ku9xth",function ( $, jQuery, require, module ) {
mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});/*@nomin*/;

});mw.loader.load(["mediawiki.page.startup"]);});</script>
<link rel="stylesheet" href="erudite14.css"/>
<link rel="stylesheet" href="extensions/TreeAndMenu/fancytree/fancytree.css"/><link rel="stylesheet" href="extensions/TreeAndMenu/suckerfish/suckerfish.css"/>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="erudite15.css"/>
<meta name="generator" content="MediaWiki 1.28.0"/>
<meta name="description" content="Before you dive into ImgLib2 for&#10;real, you should know how to create and display an image, so that you can&#10;visually enjoy the fruits of your labor."/>
<link rel="shortcut icon" href="skins/ij2.ico"/>

<script type="text/javascript" src="extensions/SyntaxHighlighter/syntaxhighlighter/scripts/shCore.js"></script>
<script type="text/javascript" src="extensions/SyntaxHighlighter/syntaxhighlighter/scripts/shBrushJava.js"></script>
<script type="text/javascript">
SyntaxHighlighter.all();
</script>
<link rel="stylesheet" type="text/css" media="screen" href="extensions/SyntaxHighlighter/syntaxhighlighter/styles/shCoreMinit.css" />

	<meta property="og:type" content="article"/>

	<meta property="og:site_name" content="ImageJ"/>

	<meta property="og:title" content="ImgLib2 - Getting Started"/>

	<meta property="og:description" content="Before you dive into ImgLib2 for&#10;real, you should know how to create and display an image, so that you can&#10;visually enjoy the fruits of your labor."/>


<meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-ImgLib2_-_Getting_Started rootpage-ImgLib2_-_Getting_Started skin-erudite action-view">
		<div class="mw-jump">
			<a href="ImgLib2_-_Getting_Started.html#bodyContent">Skip to content</a>, 			<a href="ImgLib2_-_Getting_Started.html#search">Skip to search</a>
		</div>

		<div id="top-wrap" role="banner">
			<h1><a href="Welcome" title="ImageJ" rel="home">ImageJ</a></h1>
			<div id="tagline">From ImageJ</div>

			<a id="menubutton" href="ImgLib2_-_Getting_Started.html#menu">Menu</a>
			<div id="nav" role="navigation">
			<ul id='menu'>
<li id="menu-item-n-About"><a href="ImageJ">About</a></li>
<li id="menu-item-n-Downloads"><a href="Downloads">Downloads</a></li>
<li id="menu-item-n-Learn"><a href="Learn">Learn</a></li>
<li id="menu-item-n-Develop"><a href="Development">Develop</a></li>
<li id="menu-item-n-News"><a href="News">News</a></li>
<li id="menu-item-n-Events"><a href="Events">Events</a></li>
<li id="menu-item-n-Help"><a href="Help">Help</a></li>
</ul>
			</div>
		</div>

		<div id="mw-js-message"></div>
		
		<div id="main" role="main">

			<div id="bodyContent">
				<div style="font-size: large; border: 1px solid black; padding: 1em; margin-bottom: 1em; text-align: center; background-color: #fda;">
					This is a read-only version of imagej.net, available during the transition to a new site.
					<br>Please direct any questions or issues to <a href="https://forum.image.sc/t/imagej-wiki-is-down/39672">this Image.sc Forum thread</a>.
					<br>Thank you for your patience as we improve the website!
				</div>

				<h1>ImgLib2 - Getting Started</h1>
				
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><table class="infobox" cellspacing="5" style="text-align: left; float: right; border: 1px solid #a0a0a0; font-size: 80%;">
<tr>
<th colspan="2" style="font-size: 130%;">  ImgLib2
</th></tr>
<tr>
<td>
</td></tr>
<tr>
<td>
<table class="infobox mw-collapsible" cellspacing="5" data-collapsetext="-" data-expandtext="+" style="width: 100%; text-align: left; border-top: 1px solid #336699; border-right: none; border-left: none; border-bottom: none;">
<tr>
<th>  Topics
</th></tr>


<tr>
<td>  <a href="ImgLib2" title="ImgLib2">Overview</a>
</td></tr>
<tr>
<td>  <a href="ImgLib2_Benchmarks" title="ImgLib2 Benchmarks">Benchmarks</a>
</td></tr>
<tr>
<td>  <a href="ImgLib2_FAQ" title="ImgLib2 FAQ">FAQ</a>
</td></tr></table>
</td></tr>
<tr>
<td>
<table class="infobox mw-collapsible" cellspacing="5" data-collapsetext="-" data-expandtext="+" style="width: 100%; text-align: left; border-top: 1px solid #336699; border-right: none; border-left: none; border-bottom: none;">
<tr>
<th>  Tutorials
</th></tr>


<tr>
<td>  <strong class="selflink">Getting Started</strong>
</td></tr>
<tr>
<td>  <a href="ImgLib2_-_Accessors" title="ImgLib2 - Accessors">Accessors</a>
</td></tr>
<tr>
<td>  <a href="ImgLib2_-_Accessibles" title="ImgLib2 - Accessibles">Accessibles</a>
</td></tr>
<tr>
<td>  <a href="ImgLib2_Examples" title="ImgLib2 Examples">ImgLib2 Examples</a>
</td></tr>
<tr>
<td>  <a href="ImgLib2_-_Introductory_Workshop" title="ImgLib2 - Introductory Workshop">Introductory Workshop</a>
</td></tr>
<tr>
<td>  <a href="ImgLib2_-_Advanced_Programming_Workshop" title="ImgLib2 - Advanced Programming Workshop">Advanced Programming Workshop</a>
</td></tr>
<tr>
<td>  <a href="Into_ImgLib_-_Generic_Image_Processing_in_Java" title="Into ImgLib - Generic Image Processing in Java">Into ImgLib - Generic Image Processing in Java</a>
</td></tr>
<tr>
<td>  <a href="Creating_Imglib2_images_in_MATLAB" title="Creating Imglib2 images in MATLAB">Creating Imglib2 images in MATLAB</a>
</td></tr></table>
</td></tr>
<tr>
<td>
<table class="infobox mw-collapsible" cellspacing="5" data-collapsetext="-" data-expandtext="+" style="width: 100%; text-align: left; border-top: 1px solid #336699; border-right: none; border-left: none; border-bottom: none;">
<tr>
<th>  Development
</th></tr>


<tr>
<td>  <a href="Developing_ImgLib2" title="Developing ImgLib2">Developing ImgLib2</a>
</td></tr>
<tr>
<td>  <a href="ImgLib2_Discussion" title="ImgLib2 Discussion">ImgLib2 Discussion</a>
</td></tr></table>
</td></tr></table>
<div class="project-info">
<span class="project-logo"><a href="ImgLib2" title="ImgLib2"><img class="simple-tooltip simple-tooltip-img" data-simple-tooltip="This page describes content which is part of the ImgLib2 multidimensional image processing library. Click the logo for details." src="_images/0/0a/Imglib2-icon.png"></img></a></span></div>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="ImgLib2_-_Getting_Started.html#Creating_and_Displaying_an_Image"><span class="tocnumber">1</span> <span class="toctext">Creating and Displaying an Image</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="ImgLib2_-_Getting_Started.html#Opening_And_Displaying_Image_Files"><span class="tocnumber">2</span> <span class="toctext">Opening And Displaying Image Files</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="ImgLib2_-_Getting_Started.html#Notes"><span class="tocnumber">3</span> <span class="toctext">Notes</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Creating_and_Displaying_an_Image">Creating and Displaying an Image</span></h2>
<p>Before you dive into ImgLib2 for
real, you should know how to create and display an image, so that you can
visually enjoy the fruits of your labor.
</p><p>The following piece of code creates and displays an 400x320 8bit gray-level image:
</p>
<pre class="brush:java">
import net.imglib2.img.Img;
import net.imglib2.img.array.ArrayImgFactory;
import net.imglib2.img.display.imagej.ImageJFunctions;
import net.imglib2.type.numeric.integer.UnsignedByteType;

public class CreateAndDisplay
{
	public static void main( final String[] args )
	{
		final Img&lt; UnsignedByteType &gt; img = new ArrayImgFactory&lt; UnsignedByteType &gt;()
			.create( new long[] { 400, 320 }, new UnsignedByteType() );
		ImageJFunctions.show( img );
	}
}
</pre>
<p>When you run this example, you should get a window showing a black 400x320 image.
In lines <i>10-11</i>, the image is created. In line <i>12</i> it is displayed.
Now, that is one awfully long line just to create a black image.  Let's break it down into smaller parts.
</p>
<pre class="brush:java">
final ImgFactory&lt; UnsignedByteType &gt; factory = new ArrayImgFactory&lt; UnsignedByteType &gt;();
final long[] dimensions = new long[] { 400, 320 };
final UnsignedByteType type = new UnsignedByteType();
final Img&lt; UnsignedByteType &gt; img = factory.create( dimensions, type );
</pre>
<p>Pixel images in ImgLib2 are created using an <a rel="nofollow" class="external text" href="http://javadoc.scijava.org/ImgLib2/net/imglib2/img/ImgFactory.html"><code>ImgFactory</code></a>.
There are different ImgFactories, that create pixel containers with different memory layouts.
Here, we create an <a rel="nofollow" class="external text" href="http://javadoc.scijava.org/ImgLib2/net/imglib2/img/array/ArrayImgFactory.html"><code>ArrayImgFactory</code></a>.
This factory creates in containers that map to a single flat Java array:
</p>
<pre class="brush:java">
final ImgFactory&lt; UnsignedByteType &gt; factory
		= new ArrayImgFactory&lt; UnsignedByteType &gt;();
</pre>
<p>The type parameter of the factory that specifies the value type of the image we want to create.
We want to create a 8-bit gray-level image, thus we use <a rel="nofollow" class="external text" href="http://javadoc.scijava.org/ImgLib2/net/imglib2/type/numeric/integer/UnsignedByteType.html"><code>UnsignedByteType</code></a>.
</p><p>Next we create a <code>long[]</code> array that specifies the image size in every dimension.
The length of the array specifies the number of dimensions.
Here, we state that we want to create 400x320 2D image:
</p>
<pre class="brush:java">
final long[] dimensions = new long[] { 400, 320 };
</pre>
<p>Finally, we need to provide a type variable, that is a variable having the type that is to be stored in the image.
This must match the generic type parameter of the <code>ImgFactory</code>.
Thus we create an <code>UnsignedByteType</code>:
</p>
<pre class="brush:java">
final UnsignedByteType type = new UnsignedByteType();
</pre>
<p>Then we can create the image, using the factory, dimensions, and type variable:
</p>
<pre class="brush:java">
final Img&lt; UnsignedByteType &gt; img = factory.create( dimensions, type );
</pre>
<p>We store the result of the <code>create()</code> method in an <a rel="nofollow" class="external text" href="http://javadoc.scijava.org/ImgLib2/net/imglib2/img/Img.html"><code>Img</code></a> variable.
<code>Img</code> is a convenience interface that gathers properties of pixel image containers
such as having a number of dimensions, being able to iterate it's pixels, etc.
</p><p>This image is then displayed using:
</p>
<pre class="brush:java">
ImageJFunctions.show( img );
</pre>
<p><a rel="nofollow" class="external text" href="http://javadoc.scijava.org/ImgLib2/net/imglib2/img/display/imagej/ImageJFunctions.html"><code>ImageJFunctions</code></a> provides convenience methods
to wrap ImgLib2 constructs into ImageJ containers and display them.
It works with 2D and 3D images and can handle most of the pixel types supported by ImgLib2.
ImgLib2 provides more sophisticated ways of getting image data to your screen, but we will not go into that now.
As a rule of thumb, if you have something remotely resembling a pixel grid, usually you can <code>ImageJFunctions.show()</code> it.
</p>
<h2><span class="mw-headline" id="Opening_And_Displaying_Image_Files">Opening And Displaying Image Files</span></h2>
<p>You can open image files with <a rel="nofollow" class="external text" href="http://javadoc.scijava.org/SCIFIO/io/scif/img/ImgOpener.html"><code>ImgOpener</code></a> which is using <a rel="nofollow" class="external text" href="http://loci.wisc.edu/software/bio-formats">LOCI Bio-Formats</a>.
The following opens and displays an image file:
</p>
<pre class="brush:java">
import net.imglib2.img.Img;
import net.imglib2.img.array.ArrayImgFactory;
import net.imglib2.img.display.imagej.ImageJFunctions;
import io.scif.img.ImgIOException;
import io.scif.img.ImgOpener;
import net.imglib2.type.numeric.integer.UnsignedByteType;

public class OpenAndDisplay
{
	public static void main( final String[] args )
	{
		try
		{
			final Img&lt; UnsignedByteType &gt; img = new ImgOpener().openImg( "graffiti.tif",
				new ArrayImgFactory&lt; UnsignedByteType &gt;(), new UnsignedByteType() );
			ImageJFunctions.show( img );
		}
		catch ( final ImgIOException e )
		{
			e.printStackTrace();
		}
	}
}
</pre>
<p>The image is loaded in lines <i>14-15</i>. Lets look the steps in more detail.
We create an <a rel="nofollow" class="external text" href="http://javadoc.scijava.org/SCIFIO/io/scif/img/ImgOpener.html"><code>ImgOpener</code></a>:
</p>
<pre class="brush:java">
final ImgOpener opener = new ImgOpener();
</pre>
<p>When opening an image, we can specify which memory layout to use and as which value type we want to load the image.
We want to use the <code>ArrayImg</code> layout again, and we want to have <code>UnsignedByteType</code> values again.
</p><p>Similar to the <a href="ImgLib2_-_Getting_Started#Creating_and_Displaying_an_Image" title="ImgLib2 - Getting Started"> above example</a> we need an <code>ImgFactory</code> and an instance of the value type:
</p>
<pre class="brush:java">
final ImgFactory&lt; UnsignedByteType &gt; factory = new ArrayImgFactory&lt; UnsignedByteType &gt;();
final UnsignedByteType type = new UnsignedByteType();
</pre>
<p>Then we can use the <code>openImg()</code> method, giving a filename, <code>ImgFactory</code>, and type instance:
</p>
<pre class="brush:java">
final Img&lt; UnsignedByteType &gt; img = opener.openImg( "graffiti.tif", factory, type );
</pre>
<p>If there is a problem reading the image, <code>openImg()</code> throws an <a rel="nofollow" class="external text" href="http://javadoc.scijava.org/SCIFIO/io/scif/img/ImgIOException.html"><code>ImgIOException</code></a>.
If all goes well, we store the result in an <a rel="nofollow" class="external text" href="http://javadoc.scijava.org/ImgLib2/net/imglib2/img/Img.html"><code>Img</code></a> variable for convenience.
(Actually the result is an <a rel="nofollow" class="external text" href="http://javadoc.imagej.net/ImageJ1/ij/ImagePlus.html"><code>ImgPlus</code></a> wrapping an <code>ArrayImg</code>.)
</p>
<h2><span class="mw-headline" id="Notes">Notes</span></h2>
<ul><li> Note that <code>Img</code> is just convenience interface.  When you get more proficient with ImgLib2 you will find yourself using it less and less.  You will either be more concrete or more general than that.  In the above example, we could be more concrete -- the result of the <code>ArrayImgFactory&lt; UnsignedByteType &gt;.create()</code> is actually an <code>ArrayImg&lt; UnsignedByteType, ByteArray &gt;</code>.  In algorithm implementations, you want to be as generic as possible to not constrain yourself to specific image types.  You will specify only the super-interfaces of <code>Img</code> that you really need. For instance, if you need something which has boundaries and can be iterated you would use <code>IterableInterval</code>.</li>
<li> There are more <a href="ImgLib2_Examples" title="ImgLib2 Examples">ImgLib2 Examples</a> on <a href="ImgLib2_Examples#Example_1_-_Opening.2C_creating_and_displaying_images" title="ImgLib2 Examples"> Opening, creating and displaying images</a>.</li></ul>

<!-- 
NewPP limit report
Cached time: 20200713072611
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.024 seconds
Real time usage: 0.025 seconds
Preprocessor visited node count: 245/1000000
Preprocessor generated node count: 722/1000000
Post‐expand include size: 5171/2097152 bytes
Template argument size: 2439/2097152 bytes
Highest expansion depth: 7/40
Expensive parser function count: 0/3
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%   11.362      1 - Template:ImgLibMenu
100.00%   11.362      1 - -total
 71.67%    8.143      1 - Template:Menu
 58.52%    6.649      3 - Template:Submenu
 26.34%    2.993     13 - Template:MenuItem
 15.09%    1.714      1 - Template:Project
-->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="index.php?title=ImgLib2_-_Getting_Started&amp;oldid=36850">http://imagej.net/index.php?title=ImgLib2_-_Getting_Started&amp;oldid=36850</a>"</div>
							</div>

			<div id="footer">
				<p> This page was last modified on 26 December 2017, at 14:24.</p><ul><li><a href="./ImageJ:Privacy_policy" title="ImageJ:Privacy policy">Privacy policy</a></li><li><a href="./ImageJ:About" class="mw-redirect" title="ImageJ:About">About ImageJ</a></li><li><a href="Imprint" title="Imprint">Imprint</a></li></ul>			</div>

			<div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>		</div>

		<div id="bottom-wrap">
			<div id="footer-wrap-inner">
				<div id="ternary" class="footer">
					<ul>
						<li class="widget">
							<img id="logo" src="skins/imagej-128.png" alt="">
						</li>
					</ul>
				</div>
			</div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.loader.load(["ext.fancytree","ext.suckerfish","mediawiki.toc","mediawiki.action.view.postEdit","site","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","ext.SimpleTooltip"]);});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":237});});</script>
		</body>
		</html>
		
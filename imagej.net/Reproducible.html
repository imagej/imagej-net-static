<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>Architecture - ImageJ</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Architecture","wgTitle":"Architecture","wgCurRevisionId":41431,"wgRevisionId":41431,"wgArticleId":2500,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Development"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Architecture","wgRelevantArticleId":2500,"wgRequestId":"cdc96ba7e5cefd51a3d9c5b6","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgPreferredVariant":"en","fancytree_path":"/extensions/TreeAndMenu/fancytree"});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user.cssprefs":"ready","user":"ready","user.options":"loading","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","skins.erudite":"ready"});mw.loader.implement("user.options@0j3lz3q",function($,jQuery,require,module){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens@1ku9xth",function ( $, jQuery, require, module ) {
mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});/*@nomin*/;

});mw.loader.load(["mediawiki.page.startup"]);});</script>
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%252Cshared%257Cmediawiki.sectionAnchor%257Cskins.erudite&amp;only=styles&amp;skin=erudite.css"/>
<script async="" src="load.php%3Fdebug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=erudite"></script>
<link rel="stylesheet" href="extensions/TreeAndMenu/fancytree/fancytree.css"/><link rel="stylesheet" href="extensions/TreeAndMenu/suckerfish/suckerfish.css"/>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=erudite.css"/>
<meta name="generator" content="MediaWiki 1.28.0"/>
<meta name="description" content="This page describes the technical structure of SciJava and ImageJ projects. For maximum benefit, we suggest readers familiarize themselves with Maven, Git and GitHub before reading the sections here."/>
<link rel="shortcut icon" href="skins/ij2.ico"/>

<script type="text/javascript" src="extensions/SyntaxHighlighter/syntaxhighlighter/scripts/shCore.js"></script>
<script type="text/javascript" src="extensions/SyntaxHighlighter/syntaxhighlighter/scripts/shBrushXml.js"></script>
<script type="text/javascript">
SyntaxHighlighter.all();
</script>
<link rel="stylesheet" type="text/css" media="screen" href="extensions/SyntaxHighlighter/syntaxhighlighter/styles/shCoreMinit.css" />

	<meta property="og:type" content="article"/>

	<meta property="og:site_name" content="ImageJ"/>

	<meta property="og:title" content="Architecture"/>

	<meta property="og:description" content="This page describes the technical structure of SciJava and ImageJ projects. For maximum benefit, we suggest readers familiarize themselves with Maven, Git and GitHub before reading the sections here."/>


<meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Architecture rootpage-Architecture skin-erudite action-view">
		<div class="mw-jump">
			<a href="Reproducible.html#bodyContent">Skip to content</a>, 			<a href="Reproducible.html#search">Skip to search</a>
		</div>

		<div id="top-wrap" role="banner">
			<h1><a href="Welcome" title="ImageJ" rel="home">ImageJ</a></h1>
			<div id="tagline">From ImageJ</div>

			<a id="menubutton" href="Reproducible.html#menu">Menu</a>
			<div id="nav" role="navigation">
			<ul id='menu'>
<li id="menu-item-n-About"><a href="ImageJ">About</a></li>
<li id="menu-item-n-Downloads"><a href="Downloads">Downloads</a></li>
<li id="menu-item-n-Learn"><a href="Learn">Learn</a></li>
<li id="menu-item-n-Develop"><a href="Development">Develop</a></li>
<li id="menu-item-n-News"><a href="News">News</a></li>
<li id="menu-item-n-Events"><a href="Events">Events</a></li>
<li id="menu-item-n-Help"><a href="Help">Help</a></li>
</ul>
			</div>
		</div>

		<div id="mw-js-message"></div>
		
		<div id="main" role="main">
			<div id="nav-meta">
			<span id="ca-nstab-main" class="selected"><a href="Reproducible.html" title="View the content page [c]" accesskey="c">Page</a></span><span class="meta-sep">|</span><span id="ca-talk" class="new"><a href="index.php?title=Talk:Architecture&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page [t]" accesskey="t">Discussion</a></span><span class="meta-sep">|</span><span id="ca-viewsource"><a href="index.php?title=Architecture&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span><span class="meta-sep">|</span><span id="ca-history"><a href="index.php?title=Architecture&amp;action=history" title="Past revisions of this page [h]" accesskey="h">History</a></span><span class="meta-sep">|</span>			</div>

			<div id="bodyContent">
				<h1>Architecture</h1>
				
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div style="overflow:hidden"><table class="metadata plainlinks ambox ambox-notice">
<tr>
<td class="ambox-image">
<p><a href="File:Information-sign.png" class="image"><img alt="Information-sign.png" src="_images/2/24/Information-sign.png" width="40" height="40" /></a>
</p>
</td>
<td> This page describes the <i>technical</i> structure of <a href="SciJava" title="SciJava">SciJava</a> and <a href="ImageJ" title="ImageJ">ImageJ</a> projects.
<ul><li> For information on the <i>social</i> structure, see <a href="Governance" title="Governance">Governance</a>.</li>
<li> For information on the <i>legal</i> structure, see <a href="Licensing" title="Licensing">Licensing</a>. </td></li></ul>
<p><br />
</p>
</tr>
</table></div>
<p><br />
</p>
<table class="infobox" cellspacing="5" style="text-align: left; float: right; border: 1px solid #a0a0a0; font-size: 80%;">
<tr>
<th colspan="2" style="font-size: 130%;">  Development
</th></tr>
<tr>
<td>
</td></tr>
<tr>
<td>
<table class="infobox mw-collapsible" cellspacing="5" data-collapsetext="-" data-expandtext="+" style="width: 100%; text-align: left; border-top: 1px solid #336699; border-right: none; border-left: none; border-bottom: none;">
<tr>
<th>  Topics
</th></tr>


<tr>
<td>  <a href="Development" title="Development">Overview</a>
</td></tr>
<tr>
<td>  <a href="Philosophy" title="Philosophy">Philosophy</a>
</td></tr>
<tr>
<td>  <strong class="selflink">Architecture</strong>
</td></tr>
<tr>
<td>  <a href="Source_code" title="Source code">Source code</a>
</td></tr>
<tr>
<td>  <a href="Project_management" title="Project management">Project management</a>
</td></tr>
<tr>
<td>  <a href="Coding_style" title="Coding style">Coding style</a>
</td></tr>
<tr>
<td>  <a href="Debugging" title="Debugging">Debugging</a>
</td></tr></table>
</td></tr>
<tr>
<td>
<table class="infobox mw-collapsible mw-collapsed" cellspacing="5" data-collapsetext="-" data-expandtext="+" style="width: 100%; text-align: left; border-top: 1px solid #336699; border-right: none; border-left: none; border-bottom: none;">
<tr>
<th>  Tools
</th></tr>


<tr>
<td>  <a href="GitHub" title="GitHub">GitHub</a>
</td></tr>
<tr>
<td>  <a href="Git" title="Git">Git</a>
</td></tr>
<tr>
<td>  <a href="Maven" title="Maven">Maven</a>
</td></tr>
<tr>
<td>  <a href="IDEs" title="IDEs">IDEs</a>
</td></tr>
<tr>
<td>  <a href="Travis" title="Travis">Travis</a>
</td></tr>
<tr>
<td>  <a href="AppVeyor" title="AppVeyor">AppVeyor</a>
</td></tr>
<tr>
<td>  <a href="Dotfiles" title="Dotfiles">Dotfiles</a>
</td></tr></table>
</td></tr>
<tr>
<td>
<table class="infobox mw-collapsible mw-collapsed" cellspacing="5" data-collapsetext="-" data-expandtext="+" style="width: 100%; text-align: left; border-top: 1px solid #336699; border-right: none; border-left: none; border-bottom: none;">
<tr>
<th>  Guides
</th></tr>


<tr>
<td>  <a href="Writing_plugins" title="Writing plugins">Writing plugins</a>
</td></tr>
<tr>
<td>  <a href="ImageJ_Ops" title="ImageJ Ops">ImageJ Ops</a>
</td></tr>
<tr>
<td>  <a href="How_to_contribute_to_an_existing_plugin_or_library" title="How to contribute to an existing plugin or library">Contributing to a plugin</a>
</td></tr>
<tr>
<td>  <a href="Distribution" title="Distribution">Distributing your plugins</a>
</td></tr>
<tr>
<td>  <a href="Development_Lifecycle" title="Development Lifecycle">Development lifecycle</a>
</td></tr>
<tr>
<td>  <a href="Building_a_POM" title="Building a POM">Building a POM</a>
<hr />
</td></tr>
<tr>
<td>  <a href="Developing_ImageJ_in_Eclipse" title="Developing ImageJ in Eclipse">Developing with Eclipse</a>
</td></tr>
<tr>
<td>  <a href="Debugging_Exercises" title="Debugging Exercises">Hands-on debugging</a>
</td></tr>
<tr>
<td>  <a href="Adding_new_ops" title="Adding new ops">Adding new ops</a>
</td></tr>
<tr>
<td>  <a href="Adding_new_formats" title="Adding new formats">Adding new formats</a>
</td></tr>
<tr>
<td>  <a href="Developing_using_native_libraries" title="Developing using native libraries">Using native libraries</a>
</td></tr>
<tr>
<td>  <a href="Tips_for_developers" title="Tips for developers">Tips for developers</a>
</td></tr>
<tr>
<td>  <a href="Tips_for_C%2B%2B_developers" title="Tips for C++ developers">Tips for C++ developers</a>
</td></tr>
<tr>
<td>  <a href="Introduction_into_Developing_Plugins" class="mw-redirect" title="Introduction into Developing Plugins">ImageJ 1.x plugins</a>
</td></tr>
<tr>
<td>  <a href="Versioning" title="Versioning">Versioning</a>
</td></tr>
<tr>
<td>  <a href="Logging" title="Logging">Logging</a>
</td></tr>
<tr>
<td>  <a href="Uber-JAR" title="Uber-JAR">Uber-JARs</a>
</td></tr></table>
</td></tr></table>
<p>This page describes the technical structure of <a href="SciJava" title="SciJava">SciJava</a> and <a href="ImageJ" title="ImageJ">ImageJ</a> projects. For maximum benefit, we suggest readers familiarize themselves with <a href="Maven" title="Maven">Maven</a>, <a href="Git" title="Git">Git</a> and <a href="GitHub" title="GitHub">GitHub</a> before reading the sections here.
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="Reproducible.html#Definitions"><span class="tocnumber">1</span> <span class="toctext">Definitions</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="Reproducible.html#SciJava_project_structure"><span class="tocnumber">2</span> <span class="toctext">SciJava project structure</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="Reproducible.html#Organizational_structure"><span class="tocnumber">2.1</span> <span class="toctext">Organizational structure</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="Reproducible.html#Git_repositories"><span class="tocnumber">2.2</span> <span class="toctext">Git repositories</span></a>
<ul>
<li class="toclevel-3 tocsection-5"><a href="Reproducible.html#Why_separate_Git_repositories.3F"><span class="tocnumber">2.2.1</span> <span class="toctext">Why separate Git repositories?</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-6"><a href="Reproducible.html#Maven_component_structure"><span class="tocnumber">2.3</span> <span class="toctext">Maven component structure</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="Reproducible.html#Bill_of_Materials"><span class="tocnumber">2.4</span> <span class="toctext">Bill of Materials</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="Reproducible.html#Core_libraries"><span class="tocnumber">2.5</span> <span class="toctext">Core libraries</span></a>
<ul>
<li class="toclevel-3 tocsection-9"><a href="Reproducible.html#Modularity"><span class="tocnumber">2.5.1</span> <span class="toctext">Modularity</span></a></li>
<li class="toclevel-3 tocsection-10"><a href="Reproducible.html#Extensibility"><span class="tocnumber">2.5.2</span> <span class="toctext">Extensibility</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-11"><a href="Reproducible.html#Reproducible_builds"><span class="tocnumber">3</span> <span class="toctext">Reproducible builds</span></a>
<ul>
<li class="toclevel-2 tocsection-12"><a href="Reproducible.html#Advantages_of_reproducible_builds"><span class="tocnumber">3.1</span> <span class="toctext">Advantages of reproducible builds</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="Reproducible.html#How_SciJava_achieves_reproducible_builds"><span class="tocnumber">3.2</span> <span class="toctext">How SciJava achieves reproducible builds</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="Reproducible.html#Using_snapshot_couplings_during_development"><span class="tocnumber">3.3</span> <span class="toctext">Using snapshot couplings during development</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-15"><a href="Reproducible.html#Versioning"><span class="tocnumber">4</span> <span class="toctext">Versioning</span></a></li>
</ul>
</div>

<h1><span class="mw-headline" id="Definitions">Definitions</span></h1>
<p>Throughout this article, and elsewhere on this wiki, we use the following terms:
</p>
<ul><li> A software <b>component</b> is a program, such as a <a href="Plugin" class="mw-redirect" title="Plugin">plugin</a>, or a <a href="http://en.wikipedia.org/wiki/Library_(computing)" class="extiw" title="wikipedia:Library (computing)">library</a> of reusable functions. Components are typically designed to work together, and combined to form a <a href="http://en.wikipedia.org/wiki/Application_software" class="extiw" title="wikipedia:Application software">software application</a> such as <a href="ImageJ" title="ImageJ">ImageJ</a>. In <a href="Maven" title="Maven">Maven</a> terms, a component is a single <i>artifact</i>, typically a <a rel="nofollow" class="external text" href="https://en.wikipedia.org/wiki/JAR_(file_format)">JAR file</a>.</li>
<li> A software <b>project</b> is a more general term referring to either a single component or a <i>collection</i> of related components. For example, the phrase "ImageJ project" refers to several components including <a href="ImageJ_Common" title="ImageJ Common">ImageJ Common</a>, <a href="ImageJ_Ops" title="ImageJ Ops">ImageJ Ops</a>, <a href="ImageJ_Legacy" class="mw-redirect" title="ImageJ Legacy">ImageJ Legacy</a> and the <a href="ImageJ_Updater" class="mw-redirect" title="ImageJ Updater">ImageJ Updater</a>.</li>
<li> The <b>SciJava component collection</b> is the set of all components managed by the <code>pom-scijava</code> Bill of Materials. Such <b>SciJava components</b> reside across several different architectural layers. See "Bill of Materials" below for details.</li>
<li> <b>SciJava core components</b> are SciJava components of the SciJava component layer itself. See "Organizational structure" below.</li>
<li> The <b>ImageJ software stack</b> is the set of components upon which <a href="ImageJ" title="ImageJ">ImageJ</a> is built. It includes components from the <a href="SciJava" title="SciJava">SciJava</a>, <a href="ImgLib2" title="ImgLib2">ImgLib2</a>, <a href="ImageJ" title="ImageJ">ImageJ</a> and <a href="SCIFIO" title="SCIFIO">SCIFIO</a> foundational layers; see "Organizational structure" and "Core libraries" below for details.</li></ul>
<h1><span class="mw-headline" id="SciJava_project_structure">SciJava project structure</span></h1>
<p>The <a href="ImageJ" title="ImageJ">ImageJ</a> project, and related projects in the <a href="SciJava" title="SciJava">SciJava</a> software ecosystem, are carefully structured to foster <a href="Extensibility" class="mw-redirect" title="Extensibility">extensibility</a>.
</p>
<h2><span class="mw-headline" id="Organizational_structure">Organizational structure</span></h2>
<p>There are four organizations on <a rel="nofollow" class="external text" href="https://github.com/">GitHub</a> which form the backbone of the <a href="SciJava" title="SciJava">SciJava</a> ecosystem:
</p>
<ul><li> <a rel="nofollow" class="external text" href="https://github.com/scijava">scijava</a> - for <a href="SciJava" title="SciJava">SciJava</a> core components: general-purpose, non-image-specific libraries.</li>
<li> <a rel="nofollow" class="external text" href="https://github.com/imglib">imglib</a> - for <a href="ImgLib2" title="ImgLib2">ImgLib2</a> components: flexible N-dimensional image processing.</li>
<li> <a rel="nofollow" class="external text" href="https://github.com/imagej">imagej</a> - for <a href="ImageJ" title="ImageJ">ImageJ</a> components: metadata-rich image library and application.</li>
<li> <a rel="nofollow" class="external text" href="https://github.com/scifio">scifio</a> - for <a href="SCIFIO" title="SCIFIO">SCIFIO</a> components: scientific image I/O and file formats.</li></ul>
<p>Each organization contains several related components under its respective umbrella: a core library (see below) and several extensions. In social terms, each organization represents a collection of conceptually related components developed by a distinct <a href="Contributors" title="Contributors">team of developers</a>.
</p><p>Additional organizations can further extend this structure. For example, the <a href="Fiji" title="Fiji">Fiji</a> project has several organizations as follows:
</p>
<ul><li> <a rel="nofollow" class="external text" href="https://github.com/fiji">fiji</a> - for <a href="Fiji" title="Fiji">Fiji</a> components</li>
<li> <a rel="nofollow" class="external text" href="https://github.com/bigdataviewer">bigdataviewer</a> - for <a href="BigDataViewer" title="BigDataViewer">BigDataViewer</a> components</li>
<li> <a rel="nofollow" class="external text" href="https://github.com/trakem2">trakem2</a> - for <a href="TrakEM2" title="TrakEM2">TrakEM2</a> components</li></ul>
<p>Furthermore, many groups maintain their own GitHub organizations with components built on SciJava et al. Here are a few examples:
</p>
<ul><li> <a href="LOCI" title="LOCI">LOCI</a> – <a rel="nofollow" class="external text" href="https://github.com/uw-loci">uw-loci</a></li>
<li> <a href="FLIMJ" title="FLIMJ">FLIMJ</a> – <a rel="nofollow" class="external text" href="https://github.com/flimlib">flimlib</a></li>
<li> <a href="DAIS" title="DAIS">DAIS</a> – <a rel="nofollow" class="external text" href="https://github.com/TrnDy">TrnDy</a></li>
<li> <a href="User:Jug" title="User:Jug">Florian Jug</a> – <a rel="nofollow" class="external text" href="https://github.com/juglab">juglab</a></li>
<li> <a href="User:Saalfeld" class="mw-redirect" title="User:Saalfeld">Stephan Saalfeld</a> – <a rel="nofollow" class="external text" href="https://github.com/saalfeldlab">saalfeldlab</a></li>
<li> <a href="User:StephanP" title="User:StephanP">Stephan Preibisch</a> – <a rel="nofollow" class="external text" href="https://github.com/PreibischLab">PreibischLab</a></li>
<li> &lt;your organization here!&gt;</li></ul>
<p>The diagram on the right shows organizational relationships between SciJava software components.
</p>
<h2><span class="mw-headline" id="Git_repositories">Git repositories</span></h2>
<p>Each component is contained in its own <a href="Git" title="Git">Git</a> repository, so that interested developers can cherry-pick only those parts of interest. Version control is an indispensable tool to ensure <i>scientific reproducibility</i> (see below) by tracking known-working states of the source code, and maintain a written record of how and why the code has changed over time. For technical details, see the <a href="Git" title="Git">Git</a> section.
</p>
<h3><span class="mw-headline" id="Why_separate_Git_repositories.3F">Why separate Git repositories?</span></h3>
<p>With <a href="Maven" title="Maven">Maven</a> it is possible to create a <a rel="nofollow" class="external text" href="http://maven.apache.org/guides/mini/guide-multiple-modules.html">multi-module reactor</a> that unifies several component artifacts into a single build, typically within a single Git repository.
</p><p>While many SciJava components used to be structured this way, we found that lumping multiple components into a single Git repository with a multi-module build has disadvantages compared to separate Git repositories with single-module builds:
</p>
<ul><li> Typically, components of a multi-module project are all versioned together, but we have opted for individual <a href="Versioning" title="Versioning">versioning</a> of components, for reasons of <a href="Philosophy#Release_early.2C_release_often" title="Philosophy">rapid iteration</a>, <a href="Extensibility" class="mw-redirect" title="Extensibility">extensibility</a> and <a href="Reproducible.html#Modularity" title="Architecture">modularity</a>.</li>
<li> Individual repositories make it easier for developers to cherry-pick only those components of interest, without building the rest of the code, since dependencies are fetched on demand from remote <a href="Maven" title="Maven">Maven</a> repositories.</li>
<li> Concerns are better separated, with each component encapsulating its own codebase, issues, pull requests and technical documentation.</li>
<li> Since every component follows a consistent structure, the supporting tools (e.g., <a rel="nofollow" class="external text" href="https://github.com/scijava/scijava-scripts">these scripts</a>) are simpler to develop and maintain.</li></ul>
<p>Of course, there are downsides, too:
</p>
<ul><li> Changes affecting multiple components must be done as separate patch sets (i.e., commits or pull requests).</li>
<li> Issues relevant to multiple components must be filed separately in each issue tracker and cross-referenced.</li>
<li> It can be more difficult to locate code of interest, since the codebase is spread across so many repositories.</li></ul>
<p>As a rule of thumb, we find that multi-module <a href="Maven" title="Maven">Maven</a> projects stored within a single Git repository are a natural fit for "big bang" software which is versioned in lockstep and carefully tested before each <a href="Release" class="mw-redirect" title="Release">release</a>, whereas single-module projects stored in separate Git repositories work well for the <a href="Philosophy#Release_early.2C_release_often" title="Philosophy">RERO</a>-style <a href="Release" class="mw-redirect" title="Release">release</a> paradigm.
</p>
<h2><span class="mw-headline" id="Maven_component_structure">Maven component structure</span></h2>
<p>All components in these organizations use <a href="Maven" title="Maven">Maven</a> for <a href="Project_Management" class="mw-redirect" title="Project Management">project management</a>. Each organization has its own Maven <a rel="nofollow" class="external text" href="http://books.sonatype.com/mvnref-book/reference/pom-relationships-sect-project-relationships.html#pom-relationships-sect-more-coordinates">groupId</a>. Each component extends the <a rel="nofollow" class="external text" href="https://github.com/scijava/pom-scijava/">pom-scijava</a> <a rel="nofollow" class="external text" href="http://books.sonatype.com/mvnref-book/reference/pom-relationships-sect-project-relationships.html#pom-relationships-sect-project-inheritance">parent POM</a>, which provides sensible build defaults and compatible dependency versions (see "Bill of Materials" below).
</p>
<table class="wikitable nicetable">
<tr>
<td> <b>Logo</b>
</td>
<td> <b>Project</b>
</td>
<td> <b>Organization</b>
</td>
<td> <b>groupId</b>
</td></tr>
<tr>
<td> <a href="SciJava" title="SciJava"><img alt="Scijava-icon.png" src="_images/9/93/Scijava-icon.png" width="47" height="48" /></a>
</td>
<td> <a href="SciJava" title="SciJava">SciJava</a>
</td>
<td> <a rel="nofollow" class="external text" href="https://github.com/scijava">scijava</a>
</td>
<td> <a rel="nofollow" class="external text" href="https://maven.scijava.org/index.html#nexus-search;gav~org.scijava">org.scijava</a>
</td></tr>
<tr>
<td> <a href="ImageJ2" title="ImageJ2"><img alt="Imagej2-icon.png" src="_images/d/d1/Imagej2-icon.png" width="48" height="48" /></a>
</td>
<td> <a href="ImageJ" title="ImageJ">ImageJ</a>
</td>
<td> <a rel="nofollow" class="external text" href="https://github.com/imagej">imagej</a>
</td>
<td> <a rel="nofollow" class="external text" href="https://maven.scijava.org/index.html#nexus-search;gav~net.imagej">net.imagej</a>
</td></tr>
<tr>
<td> <a href="ImgLib2" title="ImgLib2"><img alt="Imglib2-icon.png" src="_images/0/0a/Imglib2-icon.png" width="48" height="48" /></a>
</td>
<td> <a href="ImgLib2" title="ImgLib2">ImgLib2</a>
</td>
<td> <a rel="nofollow" class="external text" href="https://github.com/imglib">imglib</a>
</td>
<td> <a rel="nofollow" class="external text" href="https://maven.scijava.org/index.html#nexus-search;gav~net.imglib2">net.imglib2</a>
</td></tr>
<tr>
<td> <a href="SCIFIO" title="SCIFIO"><img alt="Scifio-icon.png" src="_images/a/a6/Scifio-icon.png" width="40" height="48" /></a>
</td>
<td> <a href="SCIFIO" title="SCIFIO">SCIFIO</a>
</td>
<td> <a rel="nofollow" class="external text" href="https://github.com/scifio">scifio</a>
</td>
<td> <a rel="nofollow" class="external text" href="https://maven.scijava.org/index.html#nexus-search;gav~io.scif">io.scif</a>
</td></tr>
<tr>
<td rowspan="3" style="vertical-align: middle"> <a href="Fiji" title="Fiji"><img alt="Fiji-icon.png" src="_images/a/ae/Fiji-icon.png" width="48" height="48" /></a>
</td>
<td> <a href="Fiji" title="Fiji">Fiji</a>
</td>
<td> <a rel="nofollow" class="external text" href="https://github.com/fiji">fiji</a>
</td>
<td> <a rel="nofollow" class="external text" href="https://maven.scijava.org/index.html#nexus-search;gav~sc.fiji">sc.fiji</a>
</td></tr>
<tr>
<td> <a href="BigDataViewer" title="BigDataViewer">BigDataViewer</a>
</td>
<td> <a rel="nofollow" class="external text" href="https://github.com/bigdataviewer">bigdataviewer</a>
</td>
<td> <a rel="nofollow" class="external text" href="https://maven.scijava.org/index.html#nexus-search;gav~sc.fiji">sc.fiji</a>
</td></tr>
<tr>
<td> <a href="TrakEM2" title="TrakEM2">TrakEM2</a>
</td>
<td> <a rel="nofollow" class="external text" href="https://github.com/trakem2">trakem2</a>
</td>
<td> <a rel="nofollow" class="external text" href="https://maven.scijava.org/index.html#nexus-search;gav~sc.fiji">sc.fiji</a>
</td></tr></table>
<h2><span class="mw-headline" id="Bill_of_Materials">Bill of Materials</span></h2>
<p>The <code>pom-scijava</code> parent includes a <a rel="nofollow" class="external text" href="http://howtodoinjava.com/maven/maven-bom-bill-of-materials-dependency/">Bill of Materials</a> (BOM) which declares compatible versions of all components of the <b>SciJava component collection</b> in its <a rel="nofollow" class="external text" href="http://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#Dependency_Management">dependencyManagement section</a>. These versions are intended to be used together in downstream projects, preventing version skew (symptoms of which include <code>ClassNotFoundException</code> and <code>NoSuchMethodError</code>, as well as erroneous behavior in general). This BOM is especially important while some components are still in beta, since they may sometimes break <a href="Backwards_compatibility" class="mw-redirect" title="Backwards compatibility">backwards compatibility</a>.
</p>
<h2><span class="mw-headline" id="Core_libraries">Core libraries</span></h2>
<p class="error">Error: Image is invalid or non-existent.</p>
<p>The ImageJ software stack is composed of the following core libraries:
</p>
<ul><li> <a href="SciJava_Common" title="SciJava Common">SciJava Common</a> - The <a href="SciJava" title="SciJava">SciJava</a> application container and plugin framework.</li>
<li> <a href="ImgLib2" title="ImgLib2">ImgLib2</a> - The N-dimensional image data model.</li>
<li> <a href="ImageJ_Common" title="ImageJ Common">ImageJ Common</a> - Metadata-rich image data structures and SciJava extensions.</li>
<li> <a href="ImageJ_Ops" title="ImageJ Ops">ImageJ Ops</a> - The framework for reusable image processing operations.</li>
<li> <a href="SCIFIO" title="SCIFIO">SCIFIO</a> - The framework for N-dimensional image I/O.</li></ul>
<p>These libraries form the basis of ImageJ-based software.
</p><p>The dependency hierarchy of library artifacts is shown in the diagram to the right.
</p>
<h3><span class="mw-headline" id="Modularity">Modularity</span></h3>
<p>Much effort has been expended to ensure the design of these libraries provides a good <a href="http://en.wikipedia.org/wiki/Separation_of_concerns" class="extiw" title="wikipedia:Separation of concerns">separation of concerns</a>. Developers in need of specific functionality may choose to depend on only those components which are relevant, rather than needing to add a dependency to the entire ImageJ software stack.
</p><p>Along those lines, the libraries take great pains to be <b>UI agnostic</b>, with no dependencies on packages such as <code>java.awt</code> or <code>javax.swing</code>. The idea is that it should be possible to build a <a href="http://en.wikipedia.org/wiki/Graphical_user_interface" class="extiw" title="wikipedia:Graphical user interface">user interface</a> (UI) on top of these libraries, without needing to change the library code itself. We have developed several proof-of-concept UIs for ImageJ using different UI frameworks, including <a rel="nofollow" class="external text" href="https://github.com/imagej/imagej-ui-swing">Swing</a>, <a rel="nofollow" class="external text" href="https://github.com/imagej/imagej-ui-awt">AWT</a>, <a rel="nofollow" class="external text" href="https://github.com/imagej/imagej-ui-swt">Eclipse SWT</a> and <a rel="nofollow" class="external text" href="https://github.com/imagej/imagej-ui-pivot">Apache Pivot</a>.
</p>
<h3><span class="mw-headline" id="Extensibility">Extensibility</span></h3>
<p>Extensibility is <a href="ImageJ" title="ImageJ">ImageJ</a>'s greatest strength. ImageJ provides many different types of plugins, and it is possible to extend the system with your own new types of plugins. See the <a rel="nofollow" class="external text" href="https://github.com/imagej/tutorials/tree/master/maven-projects/create-a-new-plugin-type">create-a-new-plugin-type tutorial</a> for an illustration.
</p><p>The <a href="SciJava_Common" title="SciJava Common">SciJava Common</a> (SJC) library provides a plugin framework with <a href="http://en.wikipedia.org/wiki/Strong_and_weak_typing" class="extiw" title="wikipedia:Strong and weak typing">strong typing</a>, and makes extensive use of plugins itself, to allow core functionality to be <a rel="nofollow" class="external text" href="http://c2.com/cgi/wiki?SoftwareSeam">customized easily</a>. SJC has an powerful plugin discovery mechanism that finds all plugins available on the Java classpath, without knowing in advance what they are or where they are located. It works by indexing the plugins at compile time via an <a href="http://en.wikipedia.org/wiki/Java_annotation#Processing" class="extiw" title="wikipedia:Java annotation">annotation processor</a> (inspired by the <a rel="nofollow" class="external text" href="https://github.com/jglick/sezpoz">SezPoz</a> project) which writes the plugin metadata inside the JAR file (in <code>META-INF/json/org.scijava.plugin.Plugin</code>). Reading this index allows the system to discover plugin metadata at runtime very quickly <i>without</i> loading the plugin classes in advance.
</p>
<h1><span class="mw-headline" id="Reproducible_builds">Reproducible builds</span></h1>
<div style="float:right; width: 40%; border: 1px solid #ccc; padding: 15px !important; margin-top: 1em; margin-bottom: 2em; background-color: #ffefbe; -moz-border-radius: .75em; -webkit-border-radius: .75em; border-radius: .75em;-moz-box-shadow: 4px 4px 4px #CCC; -webkit-box-shadow: 4px 4px 4px #CCC; box-shadow: 4px 4px 4px #CCC;">
<p style="font-size: large; font-weight: bold; margin-top: 0; padding-top: 0">Why are reproducible builds so essential for science?</p> Arguably <b>the most important thing</b> in science is to gain insights about nature <b>that can be verified by other researchers</b>. It is this mission for which <a href="ImageJ" title="ImageJ">ImageJ</a> and <a href="Fiji" title="Fiji">Fiji</a> stand, and it is the central reason why they are <a href="Open_source" class="mw-redirect" title="Open source">open source</a>.
<p>To verify results, it is absolutely necessary to be able to reproduce results claimed in scientific articles, and in the interest of efficiency, it should be <b>easy</b> to reproduce the results, and it should <b>also</b> be easy to scrutinize the used methods—incorrect results can be artifacts of flawed algorithms, after all.
</p>
To that end, it should be obvious that researchers <b>need</b> to have the ability to inspect the exact source code corresponding to the software used to generate the results to be verified. In other words, reproducible builds are required for sound scientific research.</div>
<p>A software <i>version</i> (or <i>build</i>) is called <b>reproducible</b> if it is easy to regenerate the exact same software application from the source code.
</p><p>For example, you can refer to "ImageJ 1.49g" as a <i>reproducible build</i>, or to <i>Sholl Analysis 3.4.3</i>, while referring to "ImageJ" is irreproducible.
</p><p>It gets more subtle when making heavy use of software libraries (sometimes called <i>dependencies</i>). It is known, for example, that many plugins in the now-defunct <a href="MBF" class="mw-redirect" title="MBF">MacBiophotonics distribution of ImageJ</a> worked fine with ImageJ 1.42l, but stopped working somewhere between that version and ImageJ 1.44e. That is: referring to, say, <i>the Colocalisation Analysis plugin</i> does <b>not</b> refer to a reproducible build because it is very hard to regenerate a working Colocalisation Analysis and ImageJ 1.x version that could be used to verify previously published results.
</p>
<h2><span class="mw-headline" id="Advantages_of_reproducible_builds">Advantages of reproducible builds</span></h2>
<p>Some cardinal reasons to strive for reproducible builds are:
</p>
<ul><li> Reproducible builds are essential for the scientific method (see sidebar right).</li>
<li> It becomes possible to use a <a rel="nofollow" class="external text" href="https://www.atlassian.com/git/tutorials/comparing-workflows/feature-branch-workflow">feature branch workflow</a> development style where the <code>master</code> branch is always release ready—or even a <a href="http://en.wikipedia.org/wiki/Continuous_delivery" class="extiw" title="wikipedia:Continuous delivery">continuous delivery</a> approach.</li>
<li> <a href="Pinpoint_regressions_with_Git" title="Pinpoint regressions with Git">Debugging with git-bisect</a> becomes feasible.</li>
<li> As a consequence, it avoids <a href="http://en.wikipedia.org/wiki/Technical_debt" class="extiw" title="wikipedia:Technical debt">technical debt</a> in favor of a robust development style.</li>
<li> It attracts more developers to the project, since things "just work" out of the box.</li></ul>
<h2><span class="mw-headline" id="How_SciJava_achieves_reproducible_builds">How SciJava achieves reproducible builds</span></h2>
<p>For the reasons stated above, the SciJava software components strive for reproducible builds. The goal is to ensure that code which builds and runs today will continue to do so in exactly the same way for many years to come.
</p><p>Each component depends on release <a rel="nofollow" class="external text" href="http://books.sonatype.com/mvnref-book/reference/pom-relationships-sect-pom-syntax.html#pom-reationships-sect-versions">versions</a> of <i>all</i> its dependencies—never on <a rel="nofollow" class="external text" href="http://books.sonatype.com/mvnref-book/reference/pom-relationships-sect-pom-syntax.html#pom-relationships-sect-snapshot-versions">snapshots</a> or <a rel="nofollow" class="external text" href="http://books.sonatype.com/mvnref-book/reference/pom-relationships-sect-project-dependencies.html#pom-relationships-sect-version-ranges">version ranges</a>. A Maven snapshot is a moving target, and depending on one results in an irreproducible build. Similarly, all Maven plugins used, as well as the parent POM, are also declared at release versions. In short: all <code>&lt;version&gt;</code> tags specify release versions, never <code>SNAPSHOT</code> or <code>LATEST</code> versions. We use the <a rel="nofollow" class="external text" href="http://maven.apache.org/enforcer/maven-enforcer-plugin/">Maven Enforcer Plugin</a> to enforce this requirement (though it can be temporarily disabled by setting the <code>enforcer.skip</code> property).
</p><p>We sometimes use <code>SNAPSHOT</code> versions temporarily on topic branches. However, we always <a href="Git#Rewriting_history" title="Git">rewrite them</a> before merging to master, to purge all <code>SNAPSHOT</code> references, so that all commits in the history build reproducibly. We use SciJava's <a rel="nofollow" class="external text" href="https://github.com/scijava/scijava-scripts/blob/1386a7b0bc9e832d45f925202e1382717cf4a706/check-branch.sh">check-branch.sh</a> script to ensure all commits on a topic branch build cleanly with passing tests.
</p>
<h2><span class="mw-headline" id="Using_snapshot_couplings_during_development">Using snapshot couplings during development</span></h2>
<p>For developing several components in parallel, it is very useful to switch to <code>SNAPSHOT</code> dependency couplings e.g., to test a <a rel="nofollow" class="external text" href="https://help.github.com/articles/checking-out-pull-requests-locally/">pull request</a>.
</p><p>There are two easy ways of going about this:
</p>
<ol type="A">
<li>When a small number of snapshot couplings are needed, you can override the version property of the dependency for which you wish to use a snapshot:
<pre class="brush:xml">
&lt;properties&gt;
  &lt;scijava-common.version&gt;LATEST&lt;/scijava-common.version&gt;
  &lt;enforcer.skip&gt;true&lt;/enforcer.skip&gt; &lt;!-- ONLY while depending on a SNAPSHOT --&gt;
&lt;/properties&gt;
</pre></li>
<li>Alternately, if you wish to temporarily apply snapshot couplings en masse, you can switch on a "dev profile" (defined in the <a rel="nofollow" class="external text" href="https://github.com/scijava/pom-scijava/blob/pom-scijava-12.0.0/pom.xml#L2542-L2547"><code>pom-scijava</code> parent POM</a>) by creating one or more "dev token" files:
<ul><li> <code>~/.scijava/dev.imagej</code></li>
<li> <code>~/.scijava/dev.imglib2</code></li>
<li> <code>~/.scijava/dev.scifio</code></li>
<li> <code>~/.scijava/dev.scijava</code></li></ul>
These files need not have any content; their mere existence will trigger the dev profile associated with the named organization, causing all artifacts of that organization to become coupled as <code>SNAPSHOT</code>s.</li>
</ol>
<p>In the case of Eclipse, you may need to "Update Maven project" in order to see the snapshot couplings go into effect; the shortcut <kbd class="keyboard-key nowrap" style="border: 1px solid #aaa; -moz-border-radius: 0.2em; -webkit-border-radius: 0.2em; border-radius: 0.2em; -moz-box-shadow: 0.1em 0.2em 0.2em #ddd; -webkit-box-shadow: 0.1em 0.2em 0.2em #ddd; box-shadow: 0.1em 0.2em 0.2em #ddd; background-color: #f9f9f9; background-image: -moz-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -o-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -webkit-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: linear-gradient(&#91;&#91;:Template:Linear-gradient/legacy]], #eee, #f9f9f9, #eee); padding: 0.1em 0.3em; font-family: inherit; font-size: 0.85em;"><span class="Unicode">⎇</span> Alt</kbd>+<kbd class="keyboard-key nowrap" style="border: 1px solid #aaa; -moz-border-radius: 0.2em; -webkit-border-radius: 0.2em; border-radius: 0.2em; -moz-box-shadow: 0.1em 0.2em 0.2em #ddd; -webkit-box-shadow: 0.1em 0.2em 0.2em #ddd; box-shadow: 0.1em 0.2em 0.2em #ddd; background-color: #f9f9f9; background-image: -moz-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -o-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -webkit-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: linear-gradient(&#91;&#91;:Template:Linear-gradient/legacy]], #eee, #f9f9f9, #eee); padding: 0.1em 0.3em; font-family: inherit; font-size: 0.85em;">F5</kbd> while selecting the affected project(s) accomplishes this quickly.
</p>
<div style="overflow:hidden"><table class="metadata plainlinks ambox ambox-content">
<tr>
<td class="ambox-image">
<p><a href="File:Important-sign.png" class="image"><img alt="Important-sign.png" src="_images/f/f0/Important-sign.png" width="40" height="40" /></a>
</p>
</td>
<td> <b>Current versions of the Eclipse Maven integration (tested with Eclipse Mars) fail to correctly resolve the <code>LATEST</code> version tag to <code>SNAPSHOT</code>s. Use the command-line client instead.</b> </td>
<p><br />
</p>
</tr>
</table></div>
<p><br />
Either way, <i><b>be sure to work on a topic branch while developing code in this fashion.</b></i> You will need to clean up your Git history afterwards before merging things to the <code>master</code> branch, in order to achieve <a href="Reproducible_builds" class="mw-redirect" title="Reproducible builds">reproducible builds</a>.
</p>
<h1><span class="mw-headline" id="Versioning">Versioning</span></h1>
<p>SciJava components use the <a href="Semantic_Versioning" class="mw-redirect" title="Semantic Versioning">Semantic Versioning</a> system. This scheme communicates information about the <a href="Backwards_compatibility" class="mw-redirect" title="Backwards compatibility">backwards compatibility</a> (or lack thereof) between versions of each individual software component. In a nutshell:
</p>
<blockquote>Given a version number MAJOR.MINOR.PATCH, increment the:
<ul><li> MAJOR version when you make incompatible API changes,</li>
<li> MINOR version when you add functionality in a backwards-compatible manner, and</li>
<li> PATCH version when you make backwards-compatible bug fixes.</blockquote></li></ul>
<p>See the <a href="Versioning" title="Versioning">Versioning</a> page for a detailed discussion of SciJava versioning.
</p>
<!-- 
NewPP limit report
Cached time: 20200713073226
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.124 seconds
Real time usage: 0.124 seconds
Preprocessor visited node count: 1724/1000000
Preprocessor generated node count: 11758/1000000
Post‐expand include size: 14923/2097152 bytes
Template argument size: 6008/2097152 bytes
Highest expansion depth: 8/40
Expensive parser function count: 0/3
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%   89.427      1 - -total
 32.00%   28.614      2 - Template:Key
 27.21%   24.330      2 - Template:Key_press/core
 16.37%   14.638      3 - Template:Person
 12.84%   11.485      1 - Template:DevelopMenu
 11.21%   10.023      1 - Template:Menu
  9.85%    8.808      3 - Template:Submenu
  6.17%    5.522      5 - Template:Logo
  5.49%    4.908     31 - Template:MenuItem
  4.14%    3.704      1 - Template:Box
-->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="index.php?title=Architecture&amp;oldid=41431">http://imagej.net/index.php?title=Architecture&amp;oldid=41431</a>"</div>
							</div>

			<div id="footer">
				<p> This page was last modified on 24 January 2020, at 14:50.</p><ul><li><a href="ImageJ:Privacy_policy" title="ImageJ:Privacy policy">Privacy policy</a></li><li><a href="ImageJ:About" class="mw-redirect" title="ImageJ:About">About ImageJ</a></li><li><a href="Imprint" title="Imprint">Imprint</a></li><li><a href="index.php?title=Architecture&amp;mobileaction=toggle_view_mobile" class="noprint stopMobileRedirectToggle">Mobile view</a></li></ul>			</div>

			<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="Special:Categories" title="Special:Categories">Category</a>: <ul><li><a href="Category:Development" title="Category:Development">Development</a></li></ul></div></div>		</div>

		<div id="bottom-wrap">
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.loader.load(["ext.fancytree","ext.suckerfish","mediawiki.toc","mediawiki.action.view.postEdit","site","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","ext.SimpleTooltip"]);});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":270});});</script>
		</body>
		</html>
		
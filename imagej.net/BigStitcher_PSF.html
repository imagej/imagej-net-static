<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>BigStitcher PSF - ImageJ</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"BigStitcher_PSF","wgTitle":"BigStitcher PSF","wgCurRevisionId":37682,"wgRevisionId":37682,"wgArticleId":10394,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"BigStitcher_PSF","wgRelevantArticleId":10394,"wgRequestId":"aa40d2d923babee626344b96","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgPreferredVariant":"en","fancytree_path":"/extensions/TreeAndMenu/fancytree"});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user.cssprefs":"ready","user":"ready","user.options":"loading","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","skins.erudite":"ready"});mw.loader.implement("user.options@0j3lz3q",function($,jQuery,require,module){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens@1ku9xth",function ( $, jQuery, require, module ) {
mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});/*@nomin*/;

});mw.loader.load(["mediawiki.page.startup"]);});</script>
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%252Cshared%257Cmediawiki.sectionAnchor%257Cskins.erudite&amp;only=styles&amp;skin=erudite.css"/>
<script async="" src="load.php%3Fdebug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=erudite"></script>
<link rel="stylesheet" href="extensions/TreeAndMenu/fancytree/fancytree.css"/><link rel="stylesheet" href="extensions/TreeAndMenu/suckerfish/suckerfish.css"/>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=erudite.css"/>
<meta name="generator" content="MediaWiki 1.28.0"/>
<meta name="description" content="For deconvolution, it is necessary to have a Point spread function (PSF) for each image you want to deconvolve. An ideal PSF should represent how a point emitter smaller than the diffraction limit of your optical setup is imaged by your microscope."/>
<link rel="shortcut icon" href="skins/ij2.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="ImageJ (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="api.php?action=rsd"/>
<link rel="alternate" type="application/atom+xml" title="ImageJ Atom feed" href="index.php?title=Special:RecentChanges&amp;feed=atom"/>
	<meta property="og:type" content="article"/>

	<meta property="og:site_name" content="ImageJ"/>

	<meta property="og:title" content="BigStitcher PSF"/>

	<meta property="og:description" content="For deconvolution, it is necessary to have a Point spread function (PSF) for each image you want to deconvolve. An ideal PSF should represent how a point emitter smaller than the diffraction limit of your optical setup is imaged by your microscope."/>


<meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-BigStitcher_PSF rootpage-BigStitcher_PSF skin-erudite action-view">
		<div class="mw-jump">
			<a href="BigStitcher_PSF.html#bodyContent">Skip to content</a>, 			<a href="BigStitcher_PSF.html#search">Skip to search</a>
		</div>

		<div id="top-wrap" role="banner">
			<h1><a href="Welcome" title="ImageJ" rel="home">ImageJ</a></h1>
			<div id="tagline">From ImageJ</div>

			<a id="menubutton" href="BigStitcher_PSF.html#menu">Menu</a>
			<div id="nav" role="navigation">
			<ul id='menu'>
<li id="menu-item-n-About"><a href="ImageJ">About</a></li>
<li id="menu-item-n-Downloads"><a href="Downloads">Downloads</a></li>
<li id="menu-item-n-Learn"><a href="Learn">Learn</a></li>
<li id="menu-item-n-Develop"><a href="Development">Develop</a></li>
<li id="menu-item-n-News"><a href="News">News</a></li>
<li id="menu-item-n-Events"><a href="Events">Events</a></li>
<li id="menu-item-n-Help"><a href="Help">Help</a></li>
</ul>
			</div>
		</div>

		<div id="mw-js-message"></div>
		
		<div id="main" role="main">
			<div id="nav-meta">
			<span id="ca-nstab-main" class="selected"><a href="BigStitcher_PSF" title="View the content page [c]" accesskey="c">Page</a></span><span class="meta-sep">|</span><span id="ca-talk" class="new"><a href="index.php?title=Talk:BigStitcher_PSF&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page [t]" accesskey="t">Discussion</a></span><span class="meta-sep">|</span><span id="ca-viewsource"><a href="index.php?title=BigStitcher_PSF&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span><span class="meta-sep">|</span><span id="ca-history"><a href="index.php?title=BigStitcher_PSF&amp;action=history" title="Past revisions of this page [h]" accesskey="h">History</a></span><span class="meta-sep">|</span>			</div>

			<div id="bodyContent">
				<h1>BigStitcher PSF</h1>
				
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="BigStitcher_PSF.html#Overview"><span class="tocnumber">1</span> <span class="toctext">Overview</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="BigStitcher_PSF.html#PSF_management"><span class="tocnumber">2</span> <span class="toctext">PSF management</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="BigStitcher_PSF.html#Extracting_PSFs"><span class="tocnumber">2.1</span> <span class="toctext">Extracting PSFs</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="BigStitcher_PSF.html#Assigning_PSFs"><span class="tocnumber">2.2</span> <span class="toctext">Assigning PSFs</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="BigStitcher_PSF.html#Averaging_PSFs"><span class="tocnumber">2.3</span> <span class="toctext">Averaging PSFs</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="BigStitcher_PSF.html#Displaying_PSFs"><span class="tocnumber">2.4</span> <span class="toctext">Displaying PSFs</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Overview">Overview</span></h2>
<p>For deconvolution, it is necessary to have a <b>Point spread function (PSF)</b> for each image you want to deconvolve. An ideal PSF should represent how a point emitter smaller than the diffraction limit of your optical setup is imaged by your microscope.
</p><p>PSFs can be be calculated theoretically, but this requires exact modeling of your microscope, so it is more common to use images of sub-diffraction fluorescent beads to estimate the PSF. Since it is common to use fluorescent beads for multi-view registration, you might already have a source of PSFs in you data.
</p><p>Functions for assigning PSFs to images and managing PSFs can be found in <b>MultiView mode</b> in the right-click menu under <span><em><span style="border-bottom:1px dotted #ccc;">Processing</span>&#160;&#8250; <span style="border-bottom:1px dotted #ccc;">Point Spread Functions</span></em></span>.
</p>
<div class="center"><div class="floatnone"><a href="File:BigStitcher_psf_menu.png" class="image"><img alt="BigStitcher psf menu.png" src="_images/9/90/BigStitcher_psf_menu.png" width="500" height="176" /></a></div></div>
<h2><span class="mw-headline" id="PSF_management">PSF management</span></h2>
<h3><span class="mw-headline" id="Extracting_PSFs">Extracting PSFs</span></h3>
<p><b>Extracting</b> PSFs is the process of taking previously <a href="BigStitcher_Interest_points" title="BigStitcher Interest points">detected interest points</a> and creating PSFs from them. Clicking this menu entry will bring up the PSF extraction dialog:
</p>
<div class="center"><div class="floatnone"><a href="File:BigStitcher_psf_extraction.png" class="image"><img alt="BigStitcher psf extraction.png" src="_images/a/a7/BigStitcher_psf_extraction.png" width="500" height="434" /></a></div></div>
<p>Here, you have a few options:
</p>
<ul><li><b>Interest Points</b>: which interest points to use for PSF creation.</li>
<li><b>Use corresponding interest points</b>: check this to only use interest points that have a correspondence in another image. This only works if you have already performed <a href="BigStitcher_Registration" title="BigStitcher Registration">registration</a> with those points. This is useful to quickly exclude spurious detections, but for the best results, you might want to <a href="BigStitcher_Interest_point_management#Remove_interactively" title="BigStitcher Interest point management">manually curate a set of points that only consists of beads</a>.</li>
<li><b>Remove min intensity projection from PSF</b>: check this to remove the minimal intensity projection (thrice, in x, y and z) from the resulting averaged PSF. This should reduce background noise.</li>
<li><b>PSF size</b>: the volume (in raw image pixels) to cut around the interest points for PSF generation. The default typically works well for reasonably sampled images, but you might want to increase the size if you have oversampling.</li></ul>
<p>Click <b>OK</b> to turn the selected interest points into PSFs. This will generate a single PSF for all selected views (the interest points in each view will be averaged).
</p>
<div style="overflow:hidden"><table class="metadata plainlinks ambox ambox-notice">
<tr>
<td class="ambox-image">
<p><a href="File:Information-sign.png" class="image"><img alt="Information-sign.png" src="_images/2/24/Information-sign.png" width="40" height="40" /></a>
</p>
</td>
<td> We will save the extracted PSFs as TIFF files in your project directory once you click <b>Save</b> in the main window. This is necessary for subsequent steps such as deconvolution, so make sure to save. </td>
<p><br />
</p>
</tr>
</table></div>
<p><br />
</p>
<h3><span class="mw-headline" id="Assigning_PSFs">Assigning PSFs</span></h3>
<p>The <b>Assign PSF</b> sub-menu contains functions for assigning <b>existing PSFs</b> to the selected Images. It contains a <b>Assign from view</b> entry that allows you to quickly assign the PSF of one view to all selected views.
</p><p>It also contains an <b>Advanced...</b> option allowing for more flexible re-assignment and loading of external PSFs from files. Clicking this will bring up the following dialog:
</p>
<div class="center"><div class="floatnone"><a href="File:BigStitcher_psf_assignment_advanced.png" class="image"><img alt="BigStitcher psf assignment advanced.png" src="_images/1/1a/BigStitcher_psf_assignment_advanced.png" width="500" height="169" /></a></div></div>
<p>The options here are:
</p>
<ul><li><b>Assign existing PSF to all selected views</b>: After selecting this, you will be asked for one view in the next step. The PSF from this view will be assigned to all selected views (same as the quick assign in the menu).</li>
<li><b>Assign new PSF to all selected views</b>: After selecting this, you will be asked for a <b>PSF file</b> in the next step. The PSF in that file will be assigned to all selected views. The PSF files have to be 3D TIFF stacks with odd dimension sizes and the center of the PSF at the center of the image.</li>
<li><b>Duplicate PSFs from other channel</b>: After selecting this, you will be asked for a source and target channsel. For all selected views of the <b>target</b> channel, we will assign the PSF from the corresponding view in the <b>source</b> channel.</li>
<li><b>Duplicate PSFs from other timepoint</b>: After selecting this, you will be asked for a timepoint. For all selected views, we will select the corresponding view at the selected timepoint and copy the PSF of that view.</li></ul>
<p><br />
</p>
<h3><span class="mw-headline" id="Averaging_PSFs">Averaging PSFs</span></h3>
<p>You can use this sub-menu to replace the individual PSFs of the selected views by their average PSF or simply display the averaged PSF. The available options are:
</p>
<ul><li><b>Display only</b>: display the average PSF of the selected views as an ImageJ image.</li>
<li><b>Display only (remove Min Projections)</b>: display the average PSF of the selected views as an ImageJ image, subtract minimum intensity projections from the average (see above).</li>
<li><b>Assign to all input views</b>: average the PSFs of all selected views and assign the average PSF to all of them.</li>
<li><b>Assign to all input views (remove Min Projections)</b>: average the PSFs of all selected views and assign the average PSF to all of them, subtract minimum intensity projections from the average (see above).</li>
<li><b>Display &amp; assign to all input views</b>: average the PSFs of all selected views and assign the average PSF to all of them and also display the resulting PSF in ImageJ.</li>
<li><b>Display &amp; assign to all input views (remove Min Projections)</b>: average the PSFs of all selected views and assign the average PSF to all of them, subtract minimum intensity projections from the average (see above). Also display the resulting PSF in ImageJ.</li></ul>
<p><br />
</p>
<h3><span class="mw-headline" id="Displaying_PSFs">Displaying PSFs</span></h3>
<p>You can use the function in this sub-menu to quickly display your PSFs as ImageJ images. The available options are:
</p>
<ul><li><b>Raw PSF for each view</b>: show the raw PSF for each selected view.</li>
<li><b>Averaged PSF</b>: show averaged PSF of all selected views.</li>
<li><b>Averaged transformed PSF</b>: show averaged PSF of all selected views, with the individual PSFs transformed to world coordinates according to the registrations of the views.</li>
<li><b>Maximum Projection of averaged PSF</b>: show a Maximum intensity projection of the averaged PSF of all selected views. Note that the projection will be done <b>along the smallest (px) axis of the PSF</b>.</li>
<li><b>Maximum Projection of averaged transformed PSF</b>: show a maximum intensity projection of the averaged PSF transformed to world coordinates according to the view registrations.</li></ul>
<p>Go back to the <a href="BigStitcher#Documentation" title="BigStitcher">main page</a>
</p>
<!-- 
NewPP limit report
Cached time: 20200713064621
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.052 seconds
Real time usage: 0.054 seconds
Preprocessor visited node count: 115/1000000
Preprocessor generated node count: 795/1000000
Post‐expand include size: 1209/2097152 bytes
Template argument size: 468/2097152 bytes
Highest expansion depth: 6/40
Expensive parser function count: 0/3
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%   10.971      1 - -total
 59.69%    6.548      1 - Template:Bc
 38.74%    4.250      1 - Template:Notice
 26.58%    2.916      1 - Template:Ambox
 14.85%    1.629      1 - Template:Arrow
-->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="index.php?title=BigStitcher_PSF&amp;oldid=37682">http://imagej.net/index.php?title=BigStitcher_PSF&amp;oldid=37682</a>"</div>
							</div>

			<div id="footer">
				<p> This page was last modified on 2 May 2018, at 07:42.</p><ul><li><a href="ImageJ:Privacy_policy" title="ImageJ:Privacy policy">Privacy policy</a></li><li><a href="ImageJ:About" class="mw-redirect" title="ImageJ:About">About ImageJ</a></li><li><a href="Imprint" title="Imprint">Imprint</a></li><li><a href="index.php?title=BigStitcher_PSF&amp;mobileaction=toggle_view_mobile" class="noprint stopMobileRedirectToggle">Mobile view</a></li></ul>			</div>

			<div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>		</div>

		<div id="bottom-wrap">
		<div id="footer-wrap-inner">

		<div id="primary" class="footer">
			<ul>

			<li id="search" class="widget">
				<h3>Search</h3>
				<form action="http://imagej.net/index.php" id="searchform">
					<input type='hidden' name="title" value="Special:Search" />
					<div>
						<input name="search" placeholder="Search ImageJ" title="Search ImageJ [f]" accesskey="f" id="s"/>						<input type="submit" name="go" value="Search" title="Go to a page with this exact name if it exists" class="searchButton" id="searchsubmit"/>					</div>
				</form>
			</li>

			
						<li class="widget">
				<h3>Personal tools</h3>
				<div>
					<ul>
					<li id="pt-createaccount"><a href="index.php?title=Special:CreateAccount&amp;returnto=BigStitcher+PSF" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li><li id="pt-login"><a href="index.php?title=Special:UserLogin&amp;returnto=BigStitcher+PSF" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>					</ul>
				</div>
			</li>
			
			<li class="widget">
							</li>

			</ul>
		</div>

		<div id="secondary" class="footer">
			<ul>

			<li id="toolbox" class="widget">
				<h3>Tools</h3>
				<ul>
				<li id="t-whatlinkshere"><a href="Special:WhatLinksHere/BigStitcher_PSF" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="Special:RecentChangesLinked/BigStitcher_PSF" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="index.php?title=BigStitcher_PSF&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="index.php?title=BigStitcher_PSF&amp;oldid=37682" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="index.php?title=BigStitcher_PSF&amp;action=info" title="More information about this page">Page information</a></li>				</ul>
			</li>

			
			<li class="widget">
							</li>

			</ul>
		</div>

		<div id="ternary" class="footer">
			<ul>

			<li class="widget">
				<img id="logo" src="skins/imagej-128.png" alt=""/>			</li>

			<li class="widget">
				<h3><span class="mw-headline" id="MORE_TOOLS">MORE TOOLS</span></h3>
<ul><li> <a href="Special:ChangeUploadPassword" title="Special:ChangeUploadPassword">Set/change upload password</a></li>
<li> <a href="Special:RecentChanges" title="Special:RecentChanges">Recent changes</a></li>
<li> <a href="Special:LonelyPages" title="Special:LonelyPages">Orphaned pages</a></li></ul>
			</li>

			</ul>
		</div>
		<div style="clear: both"></div>

		</div>
		</div>

		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.loader.load(["ext.fancytree","ext.suckerfish","mediawiki.toc","mediawiki.action.view.postEdit","site","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","ext.SimpleTooltip"]);});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":278});});</script>
		</body>
		</html>
		
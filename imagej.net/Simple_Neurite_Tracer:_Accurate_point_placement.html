<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>SNT: Step-By-Step Instructions - ImageJ</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"SNT:_Step-By-Step_Instructions","wgTitle":"SNT: Step-By-Step Instructions","wgCurRevisionId":45512,"wgRevisionId":45512,"wgArticleId":10675,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["SNT","Neuroanatomy"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"SNT:_Step-By-Step_Instructions","wgRelevantArticleId":10675,"wgRequestId":"d210f0470da36dc8900f4684","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgPreferredVariant":"en","fancytree_path":"/extensions/TreeAndMenu/fancytree"});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user.cssprefs":"ready","user":"ready","user.options":"loading","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","skins.erudite":"ready"});mw.loader.implement("user.options@0j3lz3q",function($,jQuery,require,module){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens@1ku9xth",function ( $, jQuery, require, module ) {
mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});/*@nomin*/;

});mw.loader.load(["mediawiki.page.startup"]);});</script>
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%252Cshared%257Cmediawiki.sectionAnchor%257Cskins.erudite&amp;only=styles&amp;skin=erudite.css"/>
<script async="" src="load.php%3Fdebug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=erudite"></script>
<link rel="stylesheet" href="extensions/TreeAndMenu/fancytree/fancytree.css"/><link rel="stylesheet" href="extensions/TreeAndMenu/suckerfish/suckerfish.css"/>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=erudite.css"/>
<meta name="generator" content="MediaWiki 1.28.0"/>
<meta name="description" content="These instructions assume that you have read the Overview page, including starting up the plugin, enabling Cursor Auto-snapping, and Auto-tracing options. This section is also documented in a Screencast."/>
<link rel="shortcut icon" href="skins/ij2.ico"/>

<script type="text/javascript" src="extensions/SyntaxHighlighter/syntaxhighlighter/scripts/shCore.js"></script>
<script type="text/javascript" src="extensions/SyntaxHighlighter/syntaxhighlighter/scripts/shBrushJava.js"></script>
<script type="text/javascript" src="extensions/SyntaxHighlighter/syntaxhighlighter/scripts/shBrushPython.js"></script>
<script type="text/javascript">
SyntaxHighlighter.all();
</script>
<link rel="stylesheet" type="text/css" media="screen" href="extensions/SyntaxHighlighter/syntaxhighlighter/styles/shCoreMinit.css" />

	<meta property="og:type" content="article"/>

	<meta property="og:site_name" content="ImageJ"/>

	<meta property="og:title" content="SNT: Step-By-Step Instructions"/>

	<meta property="og:description" content="These instructions assume that you have read the Overview page, including starting up the plugin, enabling Cursor Auto-snapping, and Auto-tracing options. This section is also documented in a Screencast."/>


<meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-SNT_Step-By-Step_Instructions rootpage-SNT_Step-By-Step_Instructions skin-erudite action-view">
		<div class="mw-jump">
			<a href="./Simple_Neurite_Tracer:_Accurate_point_placement.html#bodyContent">Skip to content</a>, 			<a href="./Simple_Neurite_Tracer:_Accurate_point_placement.html#search">Skip to search</a>
		</div>

		<div id="top-wrap" role="banner">
			<h1><a href="Welcome" title="ImageJ" rel="home">ImageJ</a></h1>
			<div id="tagline">From ImageJ</div>

			<a id="menubutton" href="./Simple_Neurite_Tracer:_Accurate_point_placement.html#menu">Menu</a>
			<div id="nav" role="navigation">
			<ul id='menu'>
<li id="menu-item-n-About"><a href="ImageJ">About</a></li>
<li id="menu-item-n-Downloads"><a href="Downloads">Downloads</a></li>
<li id="menu-item-n-Learn"><a href="Learn">Learn</a></li>
<li id="menu-item-n-Develop"><a href="Development">Develop</a></li>
<li id="menu-item-n-News"><a href="News">News</a></li>
<li id="menu-item-n-Events"><a href="Events">Events</a></li>
<li id="menu-item-n-Help"><a href="Help">Help</a></li>
</ul>
			</div>
		</div>

		<div id="mw-js-message"></div>
		
		<div id="main" role="main">
			<div id="nav-meta">
			<span id="ca-nstab-main" class="selected"><a href="./Simple_Neurite_Tracer:_Accurate_point_placement.html" title="View the content page [c]" accesskey="c">Page</a></span><span class="meta-sep">|</span><span id="ca-talk" class="new"><a href="index.php?title=Talk:SNT:_Step-By-Step_Instructions&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page [t]" accesskey="t">Discussion</a></span><span class="meta-sep">|</span><span id="ca-viewsource"><a href="index.php?title=SNT:_Step-By-Step_Instructions&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span><span class="meta-sep">|</span><span id="ca-history"><a href="index.php?title=SNT:_Step-By-Step_Instructions&amp;action=history" title="Past revisions of this page [h]" accesskey="h">History</a></span><span class="meta-sep">|</span>			</div>

			<div id="bodyContent">
				<h1>SNT: Step-By-Step Instructions</h1>
				
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="project-info">
<span class="project-logo"><a href="SNT" title="SNT"><img class="simple-tooltip simple-tooltip-img" data-simple-tooltip="This page describes content which is part of SNT. Click the logo for details." src="_images/5/5d/SNTLogo512.png"></img></a></span></div>
<table style="width:100%; background:#F6F9ED; border:1px solid #AAA; border-collapse:collapse; clear:both; font-size:85%;">
<tr>
<td style="background:#EEF3E2"><b><a href="SNT" title="SNT">Home</a></b>
</td>
<td style="text-align:center;"> <a href="./SNT:_Manual" title="SNT: Manual">Manual</a>
</td>
<td style="text-align:center;"> <strong class="selflink">Walk-throughs</strong>
</td>
<td style="text-align:center;"> <a href="./SNT:_Screencasts" title="SNT: Screencasts">Screencasts</a>
</td>
<td style="text-align:center;"> <a href="./SNT:_Key_Shortcuts" title="SNT: Key Shortcuts">Shortcuts</a>
</td>
<td style="text-align:center;"> <a href="./SNT:_Reconstruction_Viewer" title="SNT: Reconstruction Viewer">Rec. Viewer</a>
</td>
<td style="text-align:center;"> <a href="./SNT:_Analysis" title="SNT: Analysis">Analysis</a>
</td>
<td style="text-align:center;"> <a href="./SNT:_Scripting" title="SNT: Scripting">Scripting</a>
</td>
<td style="text-align:center;"> <a href="./SNT:_Modeling" title="SNT: Modeling">Modeling</a>
</td>
<td style="text-align:center;"> <a href="./SNT:_FAQ" title="SNT: FAQ">FAQ</a>
</td></tr></table>
<div style="clear:both;"></div>
<div class="toclimit-3">
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="./Simple_Neurite_Tracer:_Accurate_point_placement.html#Tracing"><span class="tocnumber">1</span> <span class="toctext">Tracing</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="./Simple_Neurite_Tracer:_Accurate_point_placement.html#Starting_A_Path"><span class="tocnumber">1.1</span> <span class="toctext">Starting A Path</span></a>
<ul>
<li class="toclevel-3 tocsection-3"><a href="./Simple_Neurite_Tracer:_Accurate_point_placement.html#I._Pick_The_Starting_Point"><span class="tocnumber">1.1.1</span> <span class="toctext">I. Pick The Starting Point</span></a></li>
<li class="toclevel-3 tocsection-4"><a href="./Simple_Neurite_Tracer:_Accurate_point_placement.html#II._Pick_A_Subsequent_Point"><span class="tocnumber">1.1.2</span> <span class="toctext">II. Pick A Subsequent Point</span></a></li>
<li class="toclevel-3 tocsection-5"><a href="./Simple_Neurite_Tracer:_Accurate_point_placement.html#III._Confirm_The_Temporary_Segment"><span class="tocnumber">1.1.3</span> <span class="toctext">III. Confirm The Temporary Segment</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-6"><a href="./Simple_Neurite_Tracer:_Accurate_point_placement.html#Branching:_Start_A_Path_On_An_Existing_Path"><span class="tocnumber">1.2</span> <span class="toctext">Branching: Start A Path On An Existing Path</span></a>
<ul>
<li class="toclevel-3 tocsection-7"><a href="./Simple_Neurite_Tracer:_Accurate_point_placement.html#I._Select_The_Path_To_Branch_Off"><span class="tocnumber">1.2.1</span> <span class="toctext">I. Select The Path To Branch Off</span></a></li>
<li class="toclevel-3 tocsection-8"><a href="./Simple_Neurite_Tracer:_Accurate_point_placement.html#II._Select_The_Fork_Point"><span class="tocnumber">1.2.2</span> <span class="toctext">II. Select The Fork Point</span></a></li>
<li class="toclevel-3 tocsection-9"><a href="./Simple_Neurite_Tracer:_Accurate_point_placement.html#III._Extend_The_Path"><span class="tocnumber">1.2.3</span> <span class="toctext">III. Extend The Path</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-10"><a href="./Simple_Neurite_Tracer:_Accurate_point_placement.html#Joining:_End_A_Path_On_An_Existing_Path"><span class="tocnumber">1.3</span> <span class="toctext">Joining: End A Path On An Existing Path</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="./Simple_Neurite_Tracer:_Accurate_point_placement.html#Merging.2FJoining_Paths"><span class="tocnumber">1.4</span> <span class="toctext">Merging/Joining Paths</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="./Simple_Neurite_Tracer:_Accurate_point_placement.html#Tracing_in_the_Legacy_3D_Viewer"><span class="tocnumber">1.5</span> <span class="toctext">Tracing in the Legacy 3D Viewer</span></a>
<ul>
<li class="toclevel-3 tocsection-13"><a href="./Simple_Neurite_Tracer:_Accurate_point_placement.html#I.Starting_the_Viewer"><span class="tocnumber">1.5.1</span> <span class="toctext">I.Starting the Viewer</span></a></li>
<li class="toclevel-3 tocsection-14"><a href="./Simple_Neurite_Tracer:_Accurate_point_placement.html#II.Tracing_and_Navigation"><span class="tocnumber">1.5.2</span> <span class="toctext">II.Tracing and Navigation</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-15"><a href="./Simple_Neurite_Tracer:_Accurate_point_placement.html#Filling"><span class="tocnumber">2</span> <span class="toctext">Filling</span></a>
<ul>
<li class="toclevel-2 tocsection-16"><a href="./Simple_Neurite_Tracer:_Accurate_point_placement.html#I.Starting_the_Fill"><span class="tocnumber">2.1</span> <span class="toctext">I.Starting the Fill</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="./Simple_Neurite_Tracer:_Accurate_point_placement.html#II.Adjusting_the_Fill_Threshold"><span class="tocnumber">2.2</span> <span class="toctext">II.Adjusting the Fill Threshold</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="./Simple_Neurite_Tracer:_Accurate_point_placement.html#III.Completing_the_Fill"><span class="tocnumber">2.3</span> <span class="toctext">III.Completing the Fill</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-19"><a href="./Simple_Neurite_Tracer:_Accurate_point_placement.html#Generating_Filtered_Images"><span class="tocnumber">3</span> <span class="toctext">Generating <i>Filtered Images</i></span></a>
<ul>
<li class="toclevel-2 tocsection-20"><a href="./Simple_Neurite_Tracer:_Accurate_point_placement.html#A_Single_Image"><span class="tocnumber">3.1</span> <span class="toctext">A Single Image</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="./Simple_Neurite_Tracer:_Accurate_point_placement.html#Multiple_Images"><span class="tocnumber">3.2</span> <span class="toctext">Multiple Images</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-22"><a href="./Simple_Neurite_Tracer:_Accurate_point_placement.html#Accurate_Point_Placement"><span class="tocnumber">4</span> <span class="toctext">Accurate Point Placement</span></a></li>
</ul>
</div>

<h1><span class="mw-headline" id="Tracing">Tracing</span></h1>
<p>These instructions assume that you have read the <a href="./SNT:_Overview" class="mw-redirect" title="SNT: Overview">Overview</a> page, including starting up the plugin, enabling <a href="./SNT:_Overview#Auto-snapping" class="mw-redirect" title="SNT: Overview">Cursor Auto-snapping</a>, and <a href="./SNT:_Overview#Auto-tracing" class="mw-redirect" title="SNT: Overview">Auto-tracing</a> options. This section is also documented in a <a href="./SNT:_Screencasts#Introduction_To_Tracing" title="SNT: Screencasts">Screencast</a>.
</p>
<h2><span class="mw-headline" id="Starting_A_Path">Starting A Path</span></h2>
<h3><span class="mw-headline" id="I._Pick_The_Starting_Point">I. Pick The Starting Point</span></h3>
<div class="thumb tright"><div class="thumbinner" style="width:402px;"><a href="./File:Snt-cropped-before-starting-2.png" class="image"><img alt="" src="_images/6/61/Snt-cropped-before-starting-2.png" width="400" height="113" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="./File:Snt-cropped-before-starting-2.png" class="internal" title="Enlarge"></a></div>Choosing a starting point</div></div></div>
<p>You may notice that, by default, the cursor <a href="./SNT:_Overview#Auto-snapping" class="mw-redirect" title="SNT: Overview">snaps</a> to the brightest pixel in its vicinity. If you prefer to manually control the placement of nodes, feel free to toggle feature by pressing <kbd class="keyboard-key nowrap" style="border: 1px solid #aaa; -moz-border-radius: 0.2em; -webkit-border-radius: 0.2em; border-radius: 0.2em; -moz-box-shadow: 0.1em 0.2em 0.2em #ddd; -webkit-box-shadow: 0.1em 0.2em 0.2em #ddd; box-shadow: 0.1em 0.2em 0.2em #ddd; background-color: #f9f9f9; background-image: -moz-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -o-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -webkit-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: linear-gradient(&#91;&#91;:Template:Linear-gradient/legacy]], #eee, #f9f9f9, #eee); padding: 0.1em 0.3em; font-family: inherit; font-size: 0.85em;">S</kbd>. Now, to begin tracing, move through the image stack to find the start point of a path then click there with the left mouse button.
</p>
<h3><span class="mw-headline" id="II._Pick_A_Subsequent_Point">II. Pick A Subsequent Point</span></h3>
<div class="thumb tright"><div class="thumbinner" style="width:402px;"><a href="./File:Snt-cropped-after-starting-2.png" class="image"><img alt="" src="_images/b/b8/Snt-cropped-after-starting-2.png" width="400" height="118" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="./File:Snt-cropped-after-starting-2.png" class="internal" title="Enlarge"></a></div>First point of a path selected</div></div></div>
<div class="thumb tright"><div class="thumbinner" style="width:402px;"><a href="./File:Snt-cropped-mid-tracing-2.png" class="image"><img alt="" src="_images/3/3c/Snt-cropped-mid-tracing-2.png" width="400" height="120" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="./File:Snt-cropped-mid-tracing-2.png" class="internal" title="Enlarge"></a></div>A* search animated progress</div></div></div>
<p>A small circle should appear, highlighting the start of the path. Move through the stack to find a subsequent point further along the same structure to be traced (neuron, blood vessel, etc.), and click there.
</p><p>If a path between the two points cannot be found immediately, you may see the animated progress of the search. You can scroll through the stack while such a search progresses: If it appears to not be making good progress, it's probably best to press the "Cancel/Esc" button (shortcut: <kbd class="keyboard-key nowrap" style="border: 1px solid #aaa; -moz-border-radius: 0.2em; -webkit-border-radius: 0.2em; border-radius: 0.2em; -moz-box-shadow: 0.1em 0.2em 0.2em #ddd; -webkit-box-shadow: 0.1em 0.2em 0.2em #ddd; box-shadow: 0.1em 0.2em 0.2em #ddd; background-color: #f9f9f9; background-image: -moz-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -o-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -webkit-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: linear-gradient(&#91;&#91;:Template:Linear-gradient/legacy]], #eee, #f9f9f9, #eee); padding: 0.1em 0.3em; font-family: inherit; font-size: 0.85em;">C</kbd>/<kbd class="keyboard-key nowrap" style="border: 1px solid #aaa; -moz-border-radius: 0.2em; -webkit-border-radius: 0.2em; border-radius: 0.2em; -moz-box-shadow: 0.1em 0.2em 0.2em #ddd; -webkit-box-shadow: 0.1em 0.2em 0.2em #ddd; box-shadow: 0.1em 0.2em 0.2em #ddd; background-color: #f9f9f9; background-image: -moz-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -o-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -webkit-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: linear-gradient(&#91;&#91;:Template:Linear-gradient/legacy]], #eee, #f9f9f9, #eee); padding: 0.1em 0.3em; font-family: inherit; font-size: 0.85em;"><span class="Unicode">⎋</span> Esc</kbd>) and pick a point closer to the start point.
</p>
<div id="external-traces" style="float:center; border: 1px solid #ccc; padding: 5px !important; text-align:center; overflow: hidden; margin-top: 1em; margin-bottom: 2em; background-color: #ffefbe; -moz-border-radius: .75em; -webkit-border-radius: .75em; border-radius: .75em;-moz-box-shadow: 4px 4px 4px #CCC; -webkit-box-shadow: 4px 4px 4px #CCC; box-shadow: 4px 4px 4px #CCC;">
<b>Tip:</b> Increase<i>Z</i> in the <i>Cursor Auto-snapping</i> panel for automated Z-navigation on signal mouseover.</div>
<p><br />
</p>
<h3><span class="mw-headline" id="III._Confirm_The_Temporary_Segment">III. Confirm The Temporary Segment</span></h3>
<p>Once the search has reached the target point, the path is shown in cyan (to indicate that this is still a temporary path) and you are asked to confirm (by clicking "Yes" or pressing  <kbd class="keyboard-key nowrap" style="border: 1px solid #aaa; -moz-border-radius: 0.2em; -webkit-border-radius: 0.2em; border-radius: 0.2em; -moz-box-shadow: 0.1em 0.2em 0.2em #ddd; -webkit-box-shadow: 0.1em 0.2em 0.2em #ddd; box-shadow: 0.1em 0.2em 0.2em #ddd; background-color: #f9f9f9; background-image: -moz-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -o-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -webkit-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: linear-gradient(&#91;&#91;:Template:Linear-gradient/legacy]], #eee, #f9f9f9, #eee); padding: 0.1em 0.3em; font-family: inherit; font-size: 0.85em;">Y</kbd>) that this path is following the route through the image that you expect. If it is not, then click "No" <kbd class="keyboard-key nowrap" style="border: 1px solid #aaa; -moz-border-radius: 0.2em; -webkit-border-radius: 0.2em; border-radius: 0.2em; -moz-box-shadow: 0.1em 0.2em 0.2em #ddd; -webkit-box-shadow: 0.1em 0.2em 0.2em #ddd; box-shadow: 0.1em 0.2em 0.2em #ddd; background-color: #f9f9f9; background-image: -moz-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -o-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -webkit-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: linear-gradient(&#91;&#91;:Template:Linear-gradient/legacy]], #eee, #f9f9f9, #eee); padding: 0.1em 0.3em; font-family: inherit; font-size: 0.85em;">N</kbd> and you'll go back to the <a href="./Simple_Neurite_Tracer:_Accurate_point_placement.html#II._Picking_a_Subsequent_Point">previous step</a>. Assuming you confirmed the path, the confirmed path will appear in red. Now you are essentially back at <a href="./Simple_Neurite_Tracer:_Accurate_point_placement.html#II._Picking_a_Subsequent_Point">step II</a>. Normally you will go on to pick further points along the structure. However, if you have finished with that path, click "Finish Path" <kbd class="keyboard-key nowrap" style="border: 1px solid #aaa; -moz-border-radius: 0.2em; -webkit-border-radius: 0.2em; border-radius: 0.2em; -moz-box-shadow: 0.1em 0.2em 0.2em #ddd; -webkit-box-shadow: 0.1em 0.2em 0.2em #ddd; box-shadow: 0.1em 0.2em 0.2em #ddd; background-color: #f9f9f9; background-image: -moz-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -o-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -webkit-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: linear-gradient(&#91;&#91;:Template:Linear-gradient/legacy]], #eee, #f9f9f9, #eee); padding: 0.1em 0.3em; font-family: inherit; font-size: 0.85em;">F</kbd> and you will go back to <a href="./Simple_Neurite_Tracer:_Accurate_point_placement.html#I._Picking_a_Start_Point">step I</a>. If you completed that path it would be shown in magenta.
</p>
<div align="center">
<ul> 
<li style="display:inline-block;"> <div class="thumb tnone"><div class="thumbinner" style="width:402px;"><a href="./File:Snt-cropped-confirmation-2.png" class="image"><img alt="" src="_images/b/bf/Snt-cropped-confirmation-2.png" width="400" height="120" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="./File:Snt-cropped-confirmation-2.png" class="internal" title="Enlarge"></a></div>A* search completed</div></div></div> </li>
<li style="display:inline-block;"> <div class="thumb tnone"><div class="thumbinner" style="width:402px;"><a href="./File:Snt-cropped-confirmed-2.png" class="image"><img alt="" src="_images/2/21/Snt-cropped-confirmed-2.png" width="400" height="120" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="./File:Snt-cropped-confirmed-2.png" class="internal" title="Enlarge"></a></div>A confirmed segment</div></div></div> </li>
<li style="display:inline-block;"> <div class="thumb tnone"><div class="thumbinner" style="width:402px;"><a href="./File:Snt-cropped-completed-path-2.png" class="image"><img alt="" src="_images/2/21/Snt-cropped-completed-path-2.png" width="400" height="120" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="./File:Snt-cropped-completed-path-2.png" class="internal" title="Enlarge"></a></div>A completed path</div></div></div> </li>
</ul>
</div>
<p><br />
</p>
<h2><span class="mw-headline" id="Branching:_Start_A_Path_On_An_Existing_Path">Branching: Start A Path On An Existing Path</span></h2>
<h3><span class="mw-headline" id="I._Select_The_Path_To_Branch_Off">I. Select The Path To Branch Off</span></h3>
<p>To select the path you want to branch off from, you can either select it in the Path Manager, or press <kbd class="keyboard-key nowrap" style="border: 1px solid #aaa; -moz-border-radius: 0.2em; -webkit-border-radius: 0.2em; border-radius: 0.2em; -moz-box-shadow: 0.1em 0.2em 0.2em #ddd; -webkit-box-shadow: 0.1em 0.2em 0.2em #ddd; box-shadow: 0.1em 0.2em 0.2em #ddd; background-color: #f9f9f9; background-image: -moz-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -o-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -webkit-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: linear-gradient(&#91;&#91;:Template:Linear-gradient/legacy]], #eee, #f9f9f9, #eee); padding: 0.1em 0.3em; font-family: inherit; font-size: 0.85em;">G</kbd> while the mouse pointer is near the path. When the path is first selected, it will be shown in the default green color.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:602px;"><a href="./File:Snt-sb-selecting-by-G.gif" class="image"><img alt="" src="_images/6/62/Snt-sb-selecting-by-G.gif" width="600" height="201" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="./File:Snt-sb-selecting-by-G.gif" class="internal" title="Enlarge"></a></div><a href="./SNT:_Key_Shortcuts#Path_Handling" title="SNT: Key Shortcuts">Holding 'G'</a> (<i>Group paths around cursor</i>) will select the closest path to the mouse pointer</div></div></div></div>
<h3><span class="mw-headline" id="II._Select_The_Fork_Point">II. Select The Fork Point</span></h3>
<div class="thumb tright"><div class="thumbinner" style="width:402px;"><a href="./File:Snt-sb-started-branch-2.png" class="image"><img alt="" src="_images/c/c4/Snt-sb-started-branch-2.png" width="400" height="134" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="./File:Snt-sb-started-branch-2.png" class="internal" title="Enlarge"></a></div>A newly created fork point</div></div></div>
<p>To force the start of the new path to be a branch of the selected path, hold down the <kbd class="keyboard-key nowrap" style="border: 1px solid #aaa; -moz-border-radius: 0.2em; -webkit-border-radius: 0.2em; border-radius: 0.2em; -moz-box-shadow: 0.1em 0.2em 0.2em #ddd; -webkit-box-shadow: 0.1em 0.2em 0.2em #ddd; box-shadow: 0.1em 0.2em 0.2em #ddd; background-color: #f9f9f9; background-image: -moz-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -o-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -webkit-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: linear-gradient(&#91;&#91;:Template:Linear-gradient/legacy]], #eee, #f9f9f9, #eee); padding: 0.1em 0.3em; font-family: inherit; font-size: 0.85em;"><span class="Unicode">⎇</span> Alt</kbd>+<kbd class="keyboard-key nowrap" style="border: 1px solid #aaa; -moz-border-radius: 0.2em; -webkit-border-radius: 0.2em; border-radius: 0.2em; -moz-box-shadow: 0.1em 0.2em 0.2em #ddd; -webkit-box-shadow: 0.1em 0.2em 0.2em #ddd; box-shadow: 0.1em 0.2em 0.2em #ddd; background-color: #f9f9f9; background-image: -moz-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -o-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -webkit-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: linear-gradient(&#91;&#91;:Template:Linear-gradient/legacy]], #eee, #f9f9f9, #eee); padding: 0.1em 0.3em; font-family: inherit; font-size: 0.85em;"><span class="Unicode">⇧</span> Shift</kbd> keys while you move the mouse to find the branch point under the red cross-hairs, now decorated with a "Fork Point" annotation. With <kbd class="keyboard-key nowrap" style="border: 1px solid #aaa; -moz-border-radius: 0.2em; -webkit-border-radius: 0.2em; border-radius: 0.2em; -moz-box-shadow: 0.1em 0.2em 0.2em #ddd; -webkit-box-shadow: 0.1em 0.2em 0.2em #ddd; box-shadow: 0.1em 0.2em 0.2em #ddd; background-color: #f9f9f9; background-image: -moz-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -o-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -webkit-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: linear-gradient(&#91;&#91;:Template:Linear-gradient/legacy]], #eee, #f9f9f9, #eee); padding: 0.1em 0.3em; font-family: inherit; font-size: 0.85em;"><span class="Unicode">⎇</span> Alt</kbd>+<kbd class="keyboard-key nowrap" style="border: 1px solid #aaa; -moz-border-radius: 0.2em; -webkit-border-radius: 0.2em; border-radius: 0.2em; -moz-box-shadow: 0.1em 0.2em 0.2em #ddd; -webkit-box-shadow: 0.1em 0.2em 0.2em #ddd; box-shadow: 0.1em 0.2em 0.2em #ddd; background-color: #f9f9f9; background-image: -moz-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -o-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -webkit-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: linear-gradient(&#91;&#91;:Template:Linear-gradient/legacy]], #eee, #f9f9f9, #eee); padding: 0.1em 0.3em; font-family: inherit; font-size: 0.85em;"><span class="Unicode">⇧</span> Shift</kbd> held down, click with the left mouse button. Finally, release the keys. Note that it is also possible to zoom into the branch point, right-click on the image and choose <i>Fork at Nearest Node</i> from the contextual menu.
</p>
<h3><span class="mw-headline" id="III._Extend_The_Path">III. Extend The Path</span></h3>
<p>From this point on, you can carry on adding nodes to the branched path as <a href="./Simple_Neurite_Tracer:_Accurate_point_placement.html#II._Pick_A_Subsequent_Point">above</a>, i.e., Create a temporary path and confirm it. When you decide to complete the path you should see in the Path Manager that it has been recorded as a child of the existing path.
</p>
<div align="center">
<ul> 
<li style="display:inline-block;"> <div class="thumb tnone"><div class="thumbinner" style="width:402px;"><a href="./File:Snt-sb-temporary-path-2.png" class="image"><img alt="" src="_images/1/19/Snt-sb-temporary-path-2.png" width="400" height="138" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="./File:Snt-sb-temporary-path-2.png" class="internal" title="Enlarge"></a></div>1) Temporary path branching-off</div></div></div> </li>
<li style="display:inline-block;"> <div class="thumb tnone"><div class="thumbinner" style="width:402px;"><a href="./File:Snt-sb-confirmed-path-2.png" class="image"><img alt="" src="_images/6/67/Snt-sb-confirmed-path-2.png" width="400" height="138" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="./File:Snt-sb-confirmed-path-2.png" class="internal" title="Enlarge"></a></div>2) Temporary path confirmed</div></div></div> </li>
<li style="display:inline-block;"> <div class="thumb tnone"><div class="thumbinner" style="width:402px;"><a href="./File:Snt-sb-completed-branch-2.png" class="image"><img alt="" src="_images/4/4b/Snt-sb-completed-branch-2.png" width="400" height="138" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="./File:Snt-sb-completed-branch-2.png" class="internal" title="Enlarge"></a></div>3) Branched (child) path completed</div></div></div> </li>
</ul>
</div>
<h2><span class="mw-headline" id="Joining:_End_A_Path_On_An_Existing_Path">Joining: End A Path On An Existing Path</span></h2>
<table>

<tr>
<td>
<p>Supposing you want the end of a path that you're tracing to join onto an existing path, you just use the same modifier key when selecting the end point of the last part of the path. To go into that in more detail, if you're halfway through tracing a path like [1]:
</p>
</td>
<td><div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:352px;"><a href="./File:Snt-ej-cropped-half-finished-2.png" class="image"><img alt="" src="_images/7/73/Snt-ej-cropped-half-finished-2.png" width="350" height="113" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="./File:Snt-ej-cropped-half-finished-2.png" class="internal" title="Enlarge"></a></div><span style="text-align:center;font-size:90%">[1] Unfinished join segment, in red - disconnected</span></div></div></div></div>
</td></tr>
<tr>
<td>... and you want the final part of that path to join up with the existing path running from the top-left to top-right of the image. First, select that path in the path list (or using the <kbd class="keyboard-key nowrap" style="border: 1px solid #aaa; -moz-border-radius: 0.2em; -webkit-border-radius: 0.2em; border-radius: 0.2em; -moz-box-shadow: 0.1em 0.2em 0.2em #ddd; -webkit-box-shadow: 0.1em 0.2em 0.2em #ddd; box-shadow: 0.1em 0.2em 0.2em #ddd; background-color: #f9f9f9; background-image: -moz-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -o-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -webkit-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: linear-gradient(&#91;&#91;:Template:Linear-gradient/legacy]], #eee, #f9f9f9, #eee); padding: 0.1em 0.3em; font-family: inherit; font-size: 0.85em;">G</kbd> shortcut) as in [2]:
</td>
<td><div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:352px;"><a href="./File:Snt-ej-cropped-selected-destination-path-2.png" class="image"><img alt="" src="_images/c/ca/Snt-ej-cropped-selected-destination-path-2.png" width="350" height="113" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="./File:Snt-ej-cropped-selected-destination-path-2.png" class="internal" title="Enlarge"></a></div><span style="text-align:center;font-size:90%">[2] Selected path to join to, in green</span></div></div></div></div>
</td></tr>
<tr>
<td>Now hold down <kbd class="keyboard-key nowrap" style="border: 1px solid #aaa; -moz-border-radius: 0.2em; -webkit-border-radius: 0.2em; border-radius: 0.2em; -moz-box-shadow: 0.1em 0.2em 0.2em #ddd; -webkit-box-shadow: 0.1em 0.2em 0.2em #ddd; box-shadow: 0.1em 0.2em 0.2em #ddd; background-color: #f9f9f9; background-image: -moz-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -o-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -webkit-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: linear-gradient(&#91;&#91;:Template:Linear-gradient/legacy]], #eee, #f9f9f9, #eee); padding: 0.1em 0.3em; font-family: inherit; font-size: 0.85em;"><span class="Unicode">⎇</span> Alt</kbd>+<kbd class="keyboard-key nowrap" style="border: 1px solid #aaa; -moz-border-radius: 0.2em; -webkit-border-radius: 0.2em; border-radius: 0.2em; -moz-box-shadow: 0.1em 0.2em 0.2em #ddd; -webkit-box-shadow: 0.1em 0.2em 0.2em #ddd; box-shadow: 0.1em 0.2em 0.2em #ddd; background-color: #f9f9f9; background-image: -moz-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -o-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -webkit-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: linear-gradient(&#91;&#91;:Template:Linear-gradient/legacy]], #eee, #f9f9f9, #eee); padding: 0.1em 0.3em; font-family: inherit; font-size: 0.85em;"><span class="Unicode">⇧</span> Shift</kbd> to restrict the endpoint to be a "join" on that existing path. Click (while still holding down the modifier keys) to start the search for that endpoint and make it join the existing path. If the search can find a path to the end point, the result should look like [3]:
</td>
<td><div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:352px;"><a href="./File:Snt-ej-cropped-end-join-created-2.png" class="image"><img alt="" src="_images/0/09/Snt-ej-cropped-end-join-created-2.png" width="350" height="113" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="./File:Snt-ej-cropped-end-join-created-2.png" class="internal" title="Enlarge"></a></div><span style="text-align:center;font-size:90%">[3] Connected path to join, unconfirmed</span></div></div></div></div>
</td></tr>
<tr>
<td>If you're happy with the result, confirming the temporary path will automatically complete the whole path, since if you're creating an end join there cannot be any more to the path. Note that the path list indicates that this new <i>Path (1)</i> ends on the existing <i>Path (0)</i>. The result will look like [4]:
</td>
<td><div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:352px;"><a href="./File:Snt-ej-cropped-path-completed-2.png" class="image"><img alt="" src="_images/f/fc/Snt-ej-cropped-path-completed-2.png" width="350" height="114" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="./File:Snt-ej-cropped-path-completed-2.png" class="internal" title="Enlarge"></a></div><span style="text-align:center;font-size:90%">[4] Confirmed join</span></div></div></div></div>
</td></tr></table>
<h2><span class="mw-headline" id="Merging.2FJoining_Paths">Merging/Joining Paths</span></h2>
<p>Two paths can be merged or joined in <i>Edit Mode</i>. To do so:
</p>
<ol><li> Select a path and enter <i>Edit Mode</i> (by right-clicking on the image canvas to access its <a href="./SNT:_Overview#Contextual_Menu" class="mw-redirect" title="SNT: Overview">Contextual menu</a>)</li>
<li> Activate the node to be merged by hovering over it</li>
<li> Select the second path by using the <kbd class="keyboard-key nowrap" style="border: 1px solid #aaa; -moz-border-radius: 0.2em; -webkit-border-radius: 0.2em; border-radius: 0.2em; -moz-box-shadow: 0.1em 0.2em 0.2em #ddd; -webkit-box-shadow: 0.1em 0.2em 0.2em #ddd; box-shadow: 0.1em 0.2em 0.2em #ddd; background-color: #f9f9f9; background-image: -moz-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -o-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -webkit-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: linear-gradient(&#91;&#91;:Template:Linear-gradient/legacy]], #eee, #f9f9f9, #eee); padding: 0.1em 0.3em; font-family: inherit; font-size: 0.85em;">G</kbd> <a href="./SNT:_Key_Shortcuts" title="SNT: Key Shortcuts">shortcut</a> and activate the second merging node by hovering over it</li>
<li> Open the contextual menu and select the initial path from the <i>Connect To (Start Join)</i> / <i>Connect To (End Join)</i> menu.</li></ol>
<p>If both nodes are terminal, the paths are merged together. Otherwise, one path will become a child of the other.  Note that one of the nodes must be terminal, to ensure no loops are created.
</p>
<div align="center"><ul> 
<li style="display: inline-block;"> <div class="thumb tnone"><div class="thumbinner" style="width:252px;"><a href="./File:SNT-Edit-Path-Connect-To-Step-1.png" class="image"><img alt="" src="_images/5/5c/SNT-Edit-Path-Connect-To-Step-1.png" width="250" height="280" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="./File:SNT-Edit-Path-Connect-To-Step-1.png" class="internal" title="Enlarge"></a></div>1) Select parent path and activate first join node</div></div></div> </li>
<li style="display: inline-block;"> <div class="thumb tnone"><div class="thumbinner" style="width:252px;"><a href="./File:SNT-Edit-Path-Connect-To-Step-2.png" class="image"><img alt="" src="_images/a/ae/SNT-Edit-Path-Connect-To-Step-2.png" width="250" height="280" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="./File:SNT-Edit-Path-Connect-To-Step-2.png" class="internal" title="Enlarge"></a></div>2) Select child path and activate second join node</div></div></div> </li>
<li style="display: inline-block;"> <div class="thumb tnone"><div class="thumbinner" style="width:252px;"><a href="./File:SNT-Edit-Path-Connect-To-Step-3.png" class="image"><img alt="" src="_images/c/c2/SNT-Edit-Path-Connect-To-Step-3.png" width="250" height="280" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="./File:SNT-Edit-Path-Connect-To-Step-3.png" class="internal" title="Enlarge"></a></div>3) Use contextual-menu option to connect child path to parent path</div></div></div> </li>
<li style="display: inline-block;"> <div class="thumb tnone"><div class="thumbinner" style="width:252px;"><a href="./File:SNT-Edit-Path-Connect-To-Result.png" class="image"><img alt="" src="_images/a/a0/SNT-Edit-Path-Connect-To-Result.png" width="250" height="280" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="./File:SNT-Edit-Path-Connect-To-Result.png" class="internal" title="Enlarge"></a></div>4) Joined result<br />&#160;</div></div></div> </li>
</ul></div>
<h2><span class="mw-headline" id="Tracing_in_the_Legacy_3D_Viewer">Tracing in the Legacy 3D Viewer</span></h2>
<p>It remains possible to trace in the legacy 3D Viewer. 
</p>
<div class="thumb tright"><div class="thumbinner" style="width:302px;"><a href="./File:SNT-3D-Dialog.png" class="image"><img alt="SNT-3D-Dialog.png" src="_images/5/5c/SNT-3D-Dialog.png" width="300" height="148" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="./File:SNT-3D-Dialog.png" class="internal" title="Enlarge"></a></div></div></div></div>
<h3><span class="mw-headline" id="I.Starting_the_Viewer">I.Starting the Viewer</span></h3>
<p>To open the viewer, select the <i>3D</i> menu tab in the SNT dialog and look for <i>Legacy 3D Viewer</i>. You will see 3 parameters:
</p>
<div class="thumb tright"><div class="thumbinner" style="width:302px;"><a href="./File:SNT-Image-Resampling-Factor.png" class="image"><img alt="SNT-Image-Resampling-Factor.png" src="_images/9/91/SNT-Image-Resampling-Factor.png" width="300" height="120" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="./File:SNT-Image-Resampling-Factor.png" class="internal" title="Enlarge"></a></div></div></div></div>
<ul><li> Select <i>New with image</i> from the <i>Viewer</i> drop-down menu (selecting <i>New without image</i> would only allow you to look at reconstructions without the underlying signal). Note that you can recycle existing viewers you may have open by choosing their window titles from the drop-down menu.</li>
<li> Select the preferred rendering style from the <i>Mode</i> drop-down menu.</li>
<li> Once you <i>Apply</i> the viewer choice, a prompt will appear asking you to choose the resampling factor for the image. Then, the viewer window will appear with the currently open image.</li></ul>
<div class="thumb tright"><div class="thumbinner" style="width:302px;"><a href="./File:SNT-Legacy-3D-Viewer.png" class="image"><img alt="" src="_images/2/26/SNT-Legacy-3D-Viewer.png" width="300" height="300" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="./File:SNT-Legacy-3D-Viewer.png" class="internal" title="Enlarge"></a></div>3D viewer showing OP_1.tif</div></div></div>
<h3><span class="mw-headline" id="II.Tracing_and_Navigation">II.Tracing and Navigation</span></h3>
<ul><li> <b>Selecting points for tracing</b>  Select the <i>Wand tool</i> (<kbd class="keyboard-key nowrap" style="border: 1px solid #aaa; -moz-border-radius: 0.2em; -webkit-border-radius: 0.2em; border-radius: 0.2em; -moz-box-shadow: 0.1em 0.2em 0.2em #ddd; -webkit-box-shadow: 0.1em 0.2em 0.2em #ddd; box-shadow: 0.1em 0.2em 0.2em #ddd; background-color: #f9f9f9; background-image: -moz-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -o-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -webkit-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: linear-gradient(&#91;&#91;:Template:Linear-gradient/legacy]], #eee, #f9f9f9, #eee); padding: 0.1em 0.3em; font-family: inherit; font-size: 0.85em;">W</kbd> <a href="./SNT:_Key_Shortcuts#Legacy_3D_Viewer" title="SNT: Key Shortcuts">shortcut</a>) in the main ImageJ toolbar and click over the region you want to trace. Tracing works the same way as in the 2.5D view, i.e., click somewhere in the image to create a starting point, then click further along the structure of interest to find a path between the two points, then confirm or deny the temporary segment as described <a href="./Simple_Neurite_Tracer:_Accurate_point_placement.html#Tracing">above</a>. Similarly, branching occurs as <a href="./Simple_Neurite_Tracer:_Accurate_point_placement.html#Branching:_Start_A_Path_On_An_Existing_Path">described for 2D canvas(es)</a>, by holding the <kbd class="keyboard-key nowrap" style="border: 1px solid #aaa; -moz-border-radius: 0.2em; -webkit-border-radius: 0.2em; border-radius: 0.2em; -moz-box-shadow: 0.1em 0.2em 0.2em #ddd; -webkit-box-shadow: 0.1em 0.2em 0.2em #ddd; box-shadow: 0.1em 0.2em 0.2em #ddd; background-color: #f9f9f9; background-image: -moz-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -o-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -webkit-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: linear-gradient(&#91;&#91;:Template:Linear-gradient/legacy]], #eee, #f9f9f9, #eee); padding: 0.1em 0.3em; font-family: inherit; font-size: 0.85em;"><span class="Unicode">⎇</span> Alt</kbd>+<kbd class="keyboard-key nowrap" style="border: 1px solid #aaa; -moz-border-radius: 0.2em; -webkit-border-radius: 0.2em; border-radius: 0.2em; -moz-box-shadow: 0.1em 0.2em 0.2em #ddd; -webkit-box-shadow: 0.1em 0.2em 0.2em #ddd; box-shadow: 0.1em 0.2em 0.2em #ddd; background-color: #f9f9f9; background-image: -moz-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -o-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -webkit-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: linear-gradient(&#91;&#91;:Template:Linear-gradient/legacy]], #eee, #f9f9f9, #eee); padding: 0.1em 0.3em; font-family: inherit; font-size: 0.85em;"><span class="Unicode">⇧</span> Shift</kbd> modifier.</li>
<li> <b>Rotation</b>  Either use the <i>Hand tool</i> (<kbd class="keyboard-key nowrap" style="border: 1px solid #aaa; -moz-border-radius: 0.2em; -webkit-border-radius: 0.2em; border-radius: 0.2em; -moz-box-shadow: 0.1em 0.2em 0.2em #ddd; -webkit-box-shadow: 0.1em 0.2em 0.2em #ddd; box-shadow: 0.1em 0.2em 0.2em #ddd; background-color: #f9f9f9; background-image: -moz-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -o-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -webkit-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: linear-gradient(&#91;&#91;:Template:Linear-gradient/legacy]], #eee, #f9f9f9, #eee); padding: 0.1em 0.3em; font-family: inherit; font-size: 0.85em;">H</kbd> <a href="./SNT:_Key_Shortcuts#Legacy_3D_Viewer" title="SNT: Key Shortcuts">shortcut</a>)  tool and left-click while dragging the mouse or drag mouse while holding the scroll wheel.</li>
<li> <b>Translation</b> Hold <kbd class="keyboard-key nowrap" style="border: 1px solid #aaa; -moz-border-radius: 0.2em; -webkit-border-radius: 0.2em; border-radius: 0.2em; -moz-box-shadow: 0.1em 0.2em 0.2em #ddd; -webkit-box-shadow: 0.1em 0.2em 0.2em #ddd; box-shadow: 0.1em 0.2em 0.2em #ddd; background-color: #f9f9f9; background-image: -moz-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -o-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -webkit-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: linear-gradient(&#91;&#91;:Template:Linear-gradient/legacy]], #eee, #f9f9f9, #eee); padding: 0.1em 0.3em; font-family: inherit; font-size: 0.85em;"><span class="Unicode">⇧</span> Shift</kbd> and the scroll wheel while dragging the mouse. </li>
<li> <b>Adjusting zoom depth</b> Scroll the mouse wheel.</li></ul>
<p>Once you have selected each of these tools (Wand and Hand) once, you should be able to switch between them by pressing the <kbd class="keyboard-key nowrap" style="border: 1px solid #aaa; -moz-border-radius: 0.2em; -webkit-border-radius: 0.2em; border-radius: 0.2em; -moz-box-shadow: 0.1em 0.2em 0.2em #ddd; -webkit-box-shadow: 0.1em 0.2em 0.2em #ddd; box-shadow: 0.1em 0.2em 0.2em #ddd; background-color: #f9f9f9; background-image: -moz-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -o-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -webkit-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: linear-gradient(&#91;&#91;:Template:Linear-gradient/legacy]], #eee, #f9f9f9, #eee); padding: 0.1em 0.3em; font-family: inherit; font-size: 0.85em;"><span class="Unicode">⎋</span> Esc</kbd> key. See <a href="./SNT:_Key_Shortcuts#Legacy_3D_Viewer" title="SNT: Key Shortcuts">Key Shortcuts</a> for the list of all supported shortcuts.
</p>
<div class="center"><div class="floatnone"><div class="MediaTransformError" style="width: 585px; height: 0px; display:inline-block;">Error creating thumbnail: Unable to save thumbnail to destination</div></div></div>
<h1><span class="mw-headline" id="Filling">Filling</span></h1>
<p>There is a simple facility in this plugin for "filling out" paths to volumes. This is not particularly sophisticated, but often good enough for a rough visualization of the shape of a neuron beyond what can be seen from the traced path.
</p>
<h3><span class="mw-headline" id="I.Starting_the_Fill">I.Starting the Fill</span></h3>
<p>First, select the one or more paths that you want to fill out from in the Path Manager and select "Fill -&gt; Fill Out..." in the Path Manager menu options. The selected paths are shown in green so that you can check that you're starting from the right ones. After a couple of seconds if you scroll through the stack you should be able to see a thick green surround the path:
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:402px;"><a href="./File:Snt-initial-filling-2.png" class="image"><img alt="" src="_images/c/ca/Snt-initial-filling-2.png" width="400" height="325" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="./File:Snt-initial-filling-2.png" class="internal" title="Enlarge"></a></div>A few seconds after selecting "Fill Out..." with 1 path selected</div></div></div></div>
<p><br />
The filler continues to explore the image starting from the path until you click "Pause" or "Stop" in the dialog. However, the fill which is shown only includes those points up to a certain threshold distance from the path. (Note that in this section "distance" doesn't mean a real physical distance, but a measure which takes into account the intensity values of the pixels which must be passed through when moving away from the path.) Information about the current threshold and the progress of the search is shown in the dialog.
</p>
<div class="thumb tright"><div class="thumbinner" style="width:275px;"><div class="MediaTransformError" style="width: 273px; height: 0px; display:inline-block;">Error creating thumbnail: Unable to save thumbnail to destination</div>  <div class="thumbcaption"><div class="magnify"><a href="./File:Snt-filling-statistics-2.png" class="internal" title="Enlarge"></a></div>The filling-related part of the dialog.</div></div></div>
<p>The "Cursor position:" state under "Search Status" is updated as you move your mouse over the image. If the point under the mouse has been reached by the search then it will show you that point's distance from the path. Otherwise, it will read "Not reached by search yet". Two lines above, the "Current threshold distance:" shows your current threshold distance: so if this is set to 0.2 then that means that all points less than 0.2 from the path are included in the fill (and shown in green in the image.) The "Max. explored distance:" state under this line shows the maximum distance from the path that has been completely explored.
</p>
<h3><span class="mw-headline" id="II.Adjusting_the_Fill_Threshold">II.Adjusting the Fill Threshold</span></h3>
<p>You can change the fill threshold in one of three ways:
</p>
<ul><li> Clicking on a point in the image that has been reached by the search (This is the most intuitive way of altering the threshold). It may be helpful to disable the "Enable Snapping within: XY-Z" feature for the cursor while doing this.</li>
<li> Manually changing the threshold in the "Specify manually:" input box and clicking the "Apply" button beside it.</li>
<li> Clicking the "Use explored maximum" button below the threshold input box and click "Apply", which sets the threshold to the maximum explored distance (the value shown in "Max. explored distance:" under the "Search Status" dialog).</li></ul>
<p>Anyway, assuming that you want to use the first of these approaches, you should use the approach described below. It is difficult to set the threshold accurately from the image unless you zoom in, so first zoom on part of the path that you want to set the threshold for.
</p><p>Since the solid green fill obscures the intensity value of the points in the fill, I suggest that you switch to the semi-transparent view of the fill at this stage by selecting the "Transparent overlay" option in the "Rendering Options" dialog. Note that this may slow down filling.
</p><p>As you can see in the middle image, the threshold is set too far from the path, since there are many completely dark points under the green fill, as well as points on different paths than those of interest. Experiment with clicking on different points closer to the path in order to adjust the threshold until you are happy with it. You might end up with something like the rightmost image:
</p>
<div align="center">
<ul> 
<li style="display:inline-block;"> <div class="thumb tnone"><div class="thumbinner" style="width:252px;"><a href="./File:Snt-zoomed-filling-2.png" class="image"><img alt="" src="_images/d/de/Snt-zoomed-filling-2.png" width="250" height="280" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="./File:Snt-zoomed-filling-2.png" class="internal" title="Enlarge"></a></div>Fill, opaque</div></div></div> </li>
<li style="display:inline-block;"> <div class="thumb tnone"><div class="thumbinner" style="width:252px;"><a href="./File:Snt-transparent-filling-2.png" class="image"><img alt="" src="_images/1/12/Snt-transparent-filling-2.png" width="250" height="281" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="./File:Snt-transparent-filling-2.png" class="internal" title="Enlarge"></a></div>Fill, with "Transparent overlay" on</div></div></div> </li>
<li style="display:inline-block;"> <div class="thumb tnone"><div class="thumbinner" style="width:252px;"><a href="./File:Snt-refined-filling-2.png" class="image"><img alt="" src="_images/b/b3/Snt-refined-filling-2.png" width="250" height="280" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="./File:Snt-refined-filling-2.png" class="internal" title="Enlarge"></a></div>Fill, refined</div></div></div> </li>
</ul>
</div>
<div style="clear:both;"></div>
<p><br />
</p>
<h3><span class="mw-headline" id="III.Completing_the_Fill">III.Completing the Fill</span></h3>
<p>If you are happy with this, then you might as well click "Pause" so that your computer isn't spending all its CPU on continuing to explore the image. Then you can either: 
</p>
<ul><li> Save the fill (which will add it to the fill list) by clicking "Stash Progress". </li>
<li> Discard the fill by either clicking "Stop" while filling is in progress or, if you stashed the fill, select it in the fill list and click "Delete Fill(s)". </li>
<li> Use the "Image Stack..." button to view the same image stack, but with only the points in that fill preserved. You can choose either a grayscale image or a binary mask. One reason why you might want to do this is that you can then smooth that image and use the <a href="3D_Viewer" title="3D Viewer">3D Viewer</a> to do a surface rendering of the neuron. Perhaps then you could overlay that onto a volume rendering of the complete image (see available <a href="Simple_Neurite_Tracer#Tutorials" class="mw-redirect" title="Simple Neurite Tracer">tutorials</a>). Or, you could save those fill stacks for each of the neurons you fill and then combine them in ImageJ using "RGB Merge".</li></ul>
<p>The image stack you would get from the image used in this example might look something like this:
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:502px;"><a href="./File:Snt-filling-viewed-2.png" class="image"><img alt="" src="_images/d/d1/Snt-filling-viewed-2.png" width="500" height="280" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="./File:Snt-filling-viewed-2.png" class="internal" title="Enlarge"></a></div>Having selected the "Image Stack... -&gt; As Grayscale Image..." option</div></div></div></div>
<h1><span class="mw-headline" id="Generating_Filtered_Images">Generating <i>Filtered Images</i></span></h1>
<p>This section describes how to generate <a href="./SNT:_Overview#Tracing_on_Filtered_Image" class="mw-redirect" title="SNT: Overview">Filtered Images</a> outside SNT. Note that the filtering used in this walk-through (<i><a href="Frangi" title="Frangi">Frangi</a> Vesselness</i>) is already supported directly by SNT. This tutorial will assume you need to perform the filtering with adjusted parameters.
</p>
<h4><span class="mw-headline" id="A_Single_Image">A Single Image</span></h4>
<p>To process a single image with the Frangi Vesselness filter, pause SNT, and select <span><em><span style="border-bottom:1px dotted #ccc;"> Process </span>&#160;&#8250; <span style="border-bottom:1px dotted #ccc;"> Filters </span>&#160;&#8250; <span style="border-bottom:1px dotted #ccc;"> Frangi Vesselness</span></em></span>. By way of example, let's say you need to enhance strucutres at two scales: twice the x voxel separation and five times that value. We apply a Gaussian convolution at each scale. Assuming your image has isotropic resolution with pixel width = pixel height = voxel depth = 1, the parameters would be:
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:300px;"><div class="MediaTransformError" style="width: 298px; height: 0px; display:inline-block;">Error creating thumbnail: Unable to save thumbnail to destination</div>  <div class="thumbcaption"><div class="magnify"><a href="./File:Frangi-parameters.png" class="internal" title="Enlarge"></a></div></div></div></div></div>
<div id="image-spacing" style="float:center; border: 1px solid #ccc; padding: 5px !important; text-align:center; overflow: hidden; margin-top: 1em; margin-bottom: 2em; background-color: #ffefbe; -moz-border-radius: .75em; -webkit-border-radius: .75em; border-radius: .75em;-moz-box-shadow: 4px 4px 4px #CCC; -webkit-box-shadow: 4px 4px 4px #CCC; box-shadow: 4px 4px 4px #CCC;">
<b>Tip:</b> To get the spatial calibration for your image, go to <span><em><span style="border-bottom:1px dotted #ccc;">Image</span>&#160;&#8250; <span style="border-bottom:1px dotted #ccc;">Properties...</span></em></span> (<kbd class="keyboard-key nowrap" style="border: 1px solid #aaa; -moz-border-radius: 0.2em; -webkit-border-radius: 0.2em; border-radius: 0.2em; -moz-box-shadow: 0.1em 0.2em 0.2em #ddd; -webkit-box-shadow: 0.1em 0.2em 0.2em #ddd; box-shadow: 0.1em 0.2em 0.2em #ddd; background-color: #f9f9f9; background-image: -moz-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -o-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -webkit-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: linear-gradient(&#91;&#91;:Template:Linear-gradient/legacy]], #eee, #f9f9f9, #eee); padding: 0.1em 0.3em; font-family: inherit; font-size: 0.85em;"><span class="Unicode">^</span> Ctrl</kbd>+<kbd class="keyboard-key nowrap" style="border: 1px solid #aaa; -moz-border-radius: 0.2em; -webkit-border-radius: 0.2em; border-radius: 0.2em; -moz-box-shadow: 0.1em 0.2em 0.2em #ddd; -webkit-box-shadow: 0.1em 0.2em 0.2em #ddd; box-shadow: 0.1em 0.2em 0.2em #ddd; background-color: #f9f9f9; background-image: -moz-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -o-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -webkit-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: linear-gradient(&#91;&#91;:Template:Linear-gradient/legacy]], #eee, #f9f9f9, #eee); padding: 0.1em 0.3em; font-family: inherit; font-size: 0.85em;"><span class="Unicode">⇧</span> Shift</kbd>+<kbd class="keyboard-key nowrap" style="border: 1px solid #aaa; -moz-border-radius: 0.2em; -webkit-border-radius: 0.2em; border-radius: 0.2em; -moz-box-shadow: 0.1em 0.2em 0.2em #ddd; -webkit-box-shadow: 0.1em 0.2em 0.2em #ddd; box-shadow: 0.1em 0.2em 0.2em #ddd; background-color: #f9f9f9; background-image: -moz-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -o-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -webkit-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: linear-gradient(&#91;&#91;:Template:Linear-gradient/legacy]], #eee, #f9f9f9, #eee); padding: 0.1em 0.3em; font-family: inherit; font-size: 0.85em;">P</kbd>) in the main Fiji dialog.</div>
<p><br />
Save the result using <span><em><span style="border-bottom:1px dotted #ccc;"> File </span>&#160;&#8250; <span style="border-bottom:1px dotted #ccc;"> Save As</span>&#160;&#8250; <span style="border-bottom:1px dotted #ccc;">Tiff...</span></em></span> ("test-filtered.tif", for example). Then, in SNT's dialog look for the "Tracing on Secondary Image" widget in the <i>Main</i> tab. Click the file folder button to specify the secondary image. Next, toggle the "Trace on Secondary Image" checkbox (you can do so using <kbd class="keyboard-key nowrap" style="border: 1px solid #aaa; -moz-border-radius: 0.2em; -webkit-border-radius: 0.2em; border-radius: 0.2em; -moz-box-shadow: 0.1em 0.2em 0.2em #ddd; -webkit-box-shadow: 0.1em 0.2em 0.2em #ddd; box-shadow: 0.1em 0.2em 0.2em #ddd; background-color: #f9f9f9; background-image: -moz-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -o-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -webkit-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: linear-gradient(&#91;&#91;:Template:Linear-gradient/legacy]], #eee, #f9f9f9, #eee); padding: 0.1em 0.3em; font-family: inherit; font-size: 0.85em;">I</kbd>. Now the pathfinding will occur on the secondary image. To view a MIP of the secondary image "over" the original image during tracing, toggle the "Render in overlay at X% opacity" checkbox.
</p>
<div align="center">
<ul> 
<li style="display:inline-block;"> <div class="thumb tnone"><div class="thumbinner" style="width:302px;"><a href="./File:Filtered-image-load.png" class="image"><img alt="" src="_images/d/d8/Filtered-image-load.png" width="300" height="78" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="./File:Filtered-image-load.png" class="internal" title="Enlarge"></a></div>Step 1</div></div></div> </li>
<li style="display:inline-block;"> <div class="thumb tnone"><div class="thumbinner" style="width:302px;"><a href="./File:Filtered-image-toggle.png" class="image"><img alt="" src="_images/f/fc/Filtered-image-toggle.png" width="300" height="104" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="./File:Filtered-image-toggle.png" class="internal" title="Enlarge"></a></div>Step 2</div></div></div> </li>
</ul>
</div>
<p>To display the image in a separate window, from the SNT dialog use <span><em><span style="border-bottom:1px dotted #ccc;">Show Cached Image</span></em></span> from the <i>gear</i> menu or <span><em><span style="border-bottom:1px dotted #ccc;"> View </span>&#160;&#8250; <span style="border-bottom:1px dotted #ccc;"> Show Cached <i>Secondary Image</i></span></em></span>.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:402px;"><a href="./File:Display-filtered-image.png" class="image"><img alt="" src="_images/0/04/Display-filtered-image.png" width="400" height="400" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="./File:Display-filtered-image.png" class="internal" title="Enlarge"></a></div>Secondary Image MIP</div></div></div></div>
<h4><span class="mw-headline" id="Multiple_Images">Multiple Images</span></h4>
<p>The easiest way to preprocess multiple images is to record a macro for processing a single image, then wrap it in a loop to iterate over all files in a directory. For example, using IJ1 macro language:
</p>
<pre class="brush:java">
d = getDirectory("Select a directory");
files = getFileList(d);
 
extension = ".tif";
 
for( i = 0; i &lt; files.length; ++i ) {
    filename = files[i];
    if( endsWith(filename,extension) ) {
        l = lengthOf(filename);
        el = lengthOf(extension);
        basename = substring(filename,0,l-el);
        expected_window_name = "result";
        output_filename = d + File.separator + basename + ".tubes.tif";
        open(filename);
        run("Frangi Vesselness"); // arguments can be specified here
        selectWindow(expected_window_name);
        saveAs("Tiff", output_filename);
    }
}
</pre>
<p>The same process can be accomplished more completely in a script using <a href="ImageJ_Ops" title="ImageJ Ops">ImageJ Ops</a>. For example, in Jython:
</p>
<pre class="brush:python">
# @ImageJ ij
# @String(value="&lt;HTML&gt;This script applies the Frangi Vesselness filter to all TIFF images in a directory.&lt;br&gt;Only 2D or 3D grayscale images are supported. Processing log is shown in Console.", visibility="MESSAGE") msg
# @File(label="Directory containing your images", style="directory") input_dir
# @String(label="Consider only filenames containing",description="Clear field for no filtering",value="") name_filter
# @boolean(label="Include subdirectories") recursive
# @float(label="Size of structures to be filtered (spatially calibrated units)",description="The filter kernel will be determined from the average voxel size") scale
# @LogService log
# @StatusService status
# @UIService uiservice

"""
file: Filter_Multiple_Images.py
author: Tiago Ferreira, Cameron Arshadi
info: Bulk filtering of image files using Frangi Vesselness
"""

from net.imagej.axis import Axes

import os


def get_image_files(directory, filtering_string, extension):
    """Returns a list containing the paths of files in the specified
       directory. The list will only include files with the supplied
       extension whose filename contains the specified string."""
    files = []
    for (dirpath, dirnames, filenames) in os.walk(directory):
        for f in filenames:
            if os.path.basename(f).startswith('.'):
                continue
            if filtering_string in f and f.lower().endswith(extension):
                files.append(os.path.join(dirpath, f))
        if not recursive:
            break  # do not process subdirectories

    return files


def run():
    # First check that scale parameter is &gt; 0, exiting if not
    if scale &lt;= 0:
        log.error('Please select a value &gt; 0 for the scale parameter. Exiting...')
        return

    # Get all files with specified name filter and extension in the input directory
    d = str(input_dir)
    extension = ".tif"
    files = get_image_files(d, name_filter, extension)
    if not files or len(files) == 0:
        uiservice.showDialog("No files matched the specified criteria", "Error")
        return

    processed = 0
    skipped = 0
    for f in files:

        basename = os.path.basename(f)
        msg = 'Processing file&#160;%s:&#160;%s...'&#160;% (processed + skipped + 1, basename)
        status.showStatus(msg)
        log.info(msg)

        # Load the input image
        input_image = ij.io().open(f)

        # Verify that the image is 2D/3D and grayscale, skipping it if not
        num_dimensions = input_image.numDimensions()
        if num_dimensions &gt; 3 or int(input_image.getChannels()) &gt; 1:
            log.error('Could not process&#160;%s...Only 2D/3D grayscale images are supported'&#160;% basename)
            skipped += 1
            continue

        # Convert input image to float, since we are dealing with derivatives
        float_input = ij.op().run("convert.float32", input_image)

        # Obtain spatial calibration of the image
        x_spacing = float_input.averageScale(0)
        y_spacing = float_input.averageScale(1)
        spacing = [x_spacing, y_spacing]

        if num_dimensions == 3 and float_input.axis(2).type() == Axes.Z:
            z_spacing = float_input.averageScale(2)
            spacing.append(z_spacing)

        # Create placeholder image for the output then run the Frangi Vesselness op
        output = ij.op().run("create.img", float_input)
        pixel_scale = scale / (sum(spacing) / len(spacing))  # average voxel size: convert scale to pixel units
        ij.op().run("frangiVesselness", output, float_input, spacing, pixel_scale)

        # Save the result using the same basename as the image, adding "[Frangi].tif"
        # For example, the output for "OP_1.tif" would be named "OP_1[Frangi].tif"
        l = len(f)
        el = len(extension)
        output_filepath = f[0:l - el] + "[Frangi].tif"
        ij.io().save(output, output_filepath)

        processed += 1

    log.info('Done.&#160;%s file(s) processed.&#160;%s file(s) skipped...'&#160;% (processed, skipped))


run()
</pre>
<h1><span class="mw-headline" id="Accurate_Point_Placement">Accurate Point Placement</span></h1>
<p>This section describes methods to increase the accuracy of node placement.
</p>
<table>

<tr>
<td>Accurate node placement requires <i>XY</i>, <i>ZY</i> and <i>XZ</i> views to be visible. You can do so at <a href="./SNT:_Overview#Startup_Prompt" class="mw-redirect" title="SNT: Overview">startup</a>, by making sure that <i>Default: XY, ZY and XZ views</i> is selected, or by clicking in <i>Display ZY/XZ Views</i> in the <a href="./SNT:_Overview#Options_Tab" class="mw-redirect" title="SNT: Overview">Options tab</a> if you have already started SNT.
</td>
<td><div class="MediaTransformError" style="width: 349px; height: 0px; display:inline-block;">Error creating thumbnail: Unable to save thumbnail to destination</div>
</td></tr>
<tr>
<td>Find the approximate location of your start point by moving your mouse in the XY window, holding down <kbd class="keyboard-key nowrap" style="border: 1px solid #aaa; -moz-border-radius: 0.2em; -webkit-border-radius: 0.2em; border-radius: 0.2em; -moz-box-shadow: 0.1em 0.2em 0.2em #ddd; -webkit-box-shadow: 0.1em 0.2em 0.2em #ddd; box-shadow: 0.1em 0.2em 0.2em #ddd; background-color: #f9f9f9; background-image: -moz-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -o-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -webkit-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: linear-gradient(&#91;&#91;:Template:Linear-gradient/legacy]], #eee, #f9f9f9, #eee); padding: 0.1em 0.3em; font-family: inherit; font-size: 0.85em;"><span class="Unicode">⇧</span> Shift</kbd> to synchronize the view in the other panes. At this point, you should enable cursor <a href="./SNT:_Overview#Cursor_Auto-snapping" class="mw-redirect" title="SNT: Overview">auto-snapping</a> in the <a href="./SNT:_Overview#Main_Tab" class="mw-redirect" title="SNT: Overview">Main tab</a> using suitable parameters for your image.
</td>
<td><a href="./File:SNT-Accurate-Point-Placement-Walkthrough-Updated-1.png" class="image"><img alt="SNT-Accurate-Point-Placement-Walkthrough-Updated-1.png" src="_images/0/0a/SNT-Accurate-Point-Placement-Walkthrough-Updated-1.png" width="350" height="367" /></a>
</td></tr>
<tr>
<td>When you press <kbd class="keyboard-key nowrap" style="border: 1px solid #aaa; -moz-border-radius: 0.2em; -webkit-border-radius: 0.2em; border-radius: 0.2em; -moz-box-shadow: 0.1em 0.2em 0.2em #ddd; -webkit-box-shadow: 0.1em 0.2em 0.2em #ddd; box-shadow: 0.1em 0.2em 0.2em #ddd; background-color: #f9f9f9; background-image: -moz-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -o-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -webkit-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: linear-gradient(&#91;&#91;:Template:Linear-gradient/legacy]], #eee, #f9f9f9, #eee); padding: 0.1em 0.3em; font-family: inherit; font-size: 0.85em;">+</kbd> to zoom in, all the panes will zoom in on the point that the crosshair is over, so each time you press <kbd class="keyboard-key nowrap" style="border: 1px solid #aaa; -moz-border-radius: 0.2em; -webkit-border-radius: 0.2em; border-radius: 0.2em; -moz-box-shadow: 0.1em 0.2em 0.2em #ddd; -webkit-box-shadow: 0.1em 0.2em 0.2em #ddd; box-shadow: 0.1em 0.2em 0.2em #ddd; background-color: #f9f9f9; background-image: -moz-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -o-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -webkit-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: linear-gradient(&#91;&#91;:Template:Linear-gradient/legacy]], #eee, #f9f9f9, #eee); padding: 0.1em 0.3em; font-family: inherit; font-size: 0.85em;">+</kbd>, make sure you move your mouse pointer so that it's still over the structure of interest. You may want to adjust in the <a href="./SNT:_Overview#Views" class="mw-redirect" title="SNT: Overview">Views</a> widget (<a href="./SNT:_Overview#Options_Tab" class="mw-redirect" title="SNT: Overview">Options tab</a>)  whether all views should zoom synchronously.<br />
<p>At this point, you should adjust a suitable <a href="./SNT:_Overview#Cursor_Auto-snapping" class="mw-redirect" title="SNT: Overview">snapping neighborhood</a> both in 2D (XY) and 3D (Z). Note that when Z-snapping is enabled, all views become synchronized,
</p>
</td>
<td><a href="./File:SNT-Accurate-Point-Placement-Walkthrough-Updated-2.png" class="image"><img alt="SNT-Accurate-Point-Placement-Walkthrough-Updated-2.png" src="_images/a/aa/SNT-Accurate-Point-Placement-Walkthrough-Updated-2.png" width="350" height="357" /></a>
</td></tr>
<tr>
<td>Locate the center of the structure to be clicked on. If <a href="./SNT:_Overview#Cursor_Auto-snapping" class="mw-redirect" title="SNT: Overview">cursor auto-snapping</a> is enabled, simply mouse over the structure, otherwise, try moving the mouse and scroll wheel in each of the panes (holding down <kbd class="keyboard-key nowrap" style="border: 1px solid #aaa; -moz-border-radius: 0.2em; -webkit-border-radius: 0.2em; border-radius: 0.2em; -moz-box-shadow: 0.1em 0.2em 0.2em #ddd; -webkit-box-shadow: 0.1em 0.2em 0.2em #ddd; box-shadow: 0.1em 0.2em 0.2em #ddd; background-color: #f9f9f9; background-image: -moz-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -o-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -webkit-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: linear-gradient(&#91;&#91;:Template:Linear-gradient/legacy]], #eee, #f9f9f9, #eee); padding: 0.1em 0.3em; font-family: inherit; font-size: 0.85em;"><span class="Unicode">⇧</span> Shift</kbd> so synchronize the views in all three panes). Note that you can toggle the cursor auto-snapping feature at will, by pressing the <a href="./SNT:_Key_Shortcuts" title="SNT: Key Shortcuts">shortcut</a> <kbd class="keyboard-key nowrap" style="border: 1px solid #aaa; -moz-border-radius: 0.2em; -webkit-border-radius: 0.2em; border-radius: 0.2em; -moz-box-shadow: 0.1em 0.2em 0.2em #ddd; -webkit-box-shadow: 0.1em 0.2em 0.2em #ddd; box-shadow: 0.1em 0.2em 0.2em #ddd; background-color: #f9f9f9; background-image: -moz-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -o-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -webkit-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: linear-gradient(&#91;&#91;:Template:Linear-gradient/legacy]], #eee, #f9f9f9, #eee); padding: 0.1em 0.3em; font-family: inherit; font-size: 0.85em;">S</kbd>. Also, note that you can "click" on the <a href="./SNT:_Key_Shortcuts#Tracing" title="SNT: Key Shortcuts">brightest voxel</a> of a voxel column, by pressing <kbd class="keyboard-key nowrap" style="border: 1px solid #aaa; -moz-border-radius: 0.2em; -webkit-border-radius: 0.2em; border-radius: 0.2em; -moz-box-shadow: 0.1em 0.2em 0.2em #ddd; -webkit-box-shadow: 0.1em 0.2em 0.2em #ddd; box-shadow: 0.1em 0.2em 0.2em #ddd; background-color: #f9f9f9; background-image: -moz-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -o-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -webkit-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: linear-gradient(&#91;&#91;:Template:Linear-gradient/legacy]], #eee, #f9f9f9, #eee); padding: 0.1em 0.3em; font-family: inherit; font-size: 0.85em;">M</kbd>.
<p>When you're happy with the point under the crosshairs, left-click to start the path:
</p>
</td>
<td><a href="./File:SNT-Accurate-Point-Placement-Walkthrough-Updated-3.png" class="image"><img alt="SNT-Accurate-Point-Placement-Walkthrough-Updated-3.png" src="_images/9/93/SNT-Accurate-Point-Placement-Walkthrough-Updated-3.png" width="350" height="357" /></a>
</td></tr>
<tr>
<td>Zoom out again with the <kbd class="keyboard-key nowrap" style="border: 1px solid #aaa; -moz-border-radius: 0.2em; -webkit-border-radius: 0.2em; border-radius: 0.2em; -moz-box-shadow: 0.1em 0.2em 0.2em #ddd; -webkit-box-shadow: 0.1em 0.2em 0.2em #ddd; box-shadow: 0.1em 0.2em 0.2em #ddd; background-color: #f9f9f9; background-image: -moz-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -o-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -webkit-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: linear-gradient(&#91;&#91;:Template:Linear-gradient/legacy]], #eee, #f9f9f9, #eee); padding: 0.1em 0.3em; font-family: inherit; font-size: 0.85em;">-</kbd> key, and similarly zoom in on the next point you want to be on your path to place it precisely:
</td>
<td><a href="./File:SNT-Accurate-Point-Placement-Walkthrough-Updated-4.png" class="image"><img alt="SNT-Accurate-Point-Placement-Walkthrough-Updated-4.png" src="_images/2/29/SNT-Accurate-Point-Placement-Walkthrough-Updated-4.png" width="350" height="328" /></a>
</td></tr>
<tr>
<td>The path along the neuron may not follow the center line perfectly:
</td>
<td><a href="./File:SNT-Accurate-Point-Placement-Walkthrough-Updated-5.png" class="image"><img alt="SNT-Accurate-Point-Placement-Walkthrough-Updated-5.png" src="_images/1/14/SNT-Accurate-Point-Placement-Walkthrough-Updated-5.png" width="350" height="328" /></a>
</td></tr>
<tr>
<td>... but you can later improve that with the <span><em><span style="border-bottom:1px dotted #ccc;">Refine/Fit</span>&#160;&#8250; <span style="border-bottom:1px dotted #ccc;">Fit Path...</span></em></span> option in the <a href="./SNT:_Overview#Path_Manager" class="mw-redirect" title="SNT: Overview">Path Manager</a>, which tries to align the path to the midline of the structure to sub-voxel accuracy:
</td>
<td><a href="./File:SNT-Accurate-Point-Placement-Walkthrough-Updated-6.png" class="image"><img alt="SNT-Accurate-Point-Placement-Walkthrough-Updated-6.png" src="_images/0/00/SNT-Accurate-Point-Placement-Walkthrough-Updated-6.png" width="350" height="392" /></a>
</td></tr>
</table>
<p><br />
</p>
<div class="project-info">
<span class="project-logo"><a href="SNT" title="SNT"><img class="simple-tooltip simple-tooltip-img" data-simple-tooltip="This page describes content which is part of SNT. Click the logo for details." src="_images/5/5d/SNTLogo512.png"></img></a></span></div>
<table style="width:100%; background:#F6F9ED; border:1px solid #AAA; border-collapse:collapse; clear:both; font-size:85%;">
<tr>
<td style="background:#EEF3E2"><b><a href="SNT" title="SNT">Home</a></b>
</td>
<td style="text-align:center;"> <a href="./SNT:_Manual" title="SNT: Manual">Manual</a>
</td>
<td style="text-align:center;"> <strong class="selflink">Walk-throughs</strong>
</td>
<td style="text-align:center;"> <a href="./SNT:_Screencasts" title="SNT: Screencasts">Screencasts</a>
</td>
<td style="text-align:center;"> <a href="./SNT:_Key_Shortcuts" title="SNT: Key Shortcuts">Shortcuts</a>
</td>
<td style="text-align:center;"> <a href="./SNT:_Reconstruction_Viewer" title="SNT: Reconstruction Viewer">Rec. Viewer</a>
</td>
<td style="text-align:center;"> <a href="./SNT:_Analysis" title="SNT: Analysis">Analysis</a>
</td>
<td style="text-align:center;"> <a href="./SNT:_Scripting" title="SNT: Scripting">Scripting</a>
</td>
<td style="text-align:center;"> <a href="./SNT:_Modeling" title="SNT: Modeling">Modeling</a>
</td>
<td style="text-align:center;"> <a href="./SNT:_FAQ" title="SNT: FAQ">FAQ</a>
</td></tr></table>
<div style="clear:both;"></div>
<p><br />
</p>
</div>

<!-- 
NewPP limit report
Cached time: 20200713073414
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.316 seconds
Real time usage: 0.318 seconds
Preprocessor visited node count: 11643/1000000
Preprocessor generated node count: 7842/1000000
Post‐expand include size: 71762/2097152 bytes
Template argument size: 8045/2097152 bytes
Highest expansion depth: 7/40
Expensive parser function count: 0/3
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%  242.711      1 - -total
 93.30%  226.451     28 - Template:Key
 84.28%  204.549     32 - Template:Key_press/core
  8.19%   19.879      2 - Template:Tip
  4.17%   10.133     34 - Template:Box-shadow
  3.58%    8.697     32 - Template:Linear-gradient
  3.22%    7.825      6 - Template:Bc
  1.62%    3.942     34 - Template:Border-radius
  1.45%    3.511      2 - Template:SNTNavBar
  0.85%    2.054      7 - Template:Arrow
-->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="index.php?title=SNT:_Step-By-Step_Instructions&amp;oldid=45512">http://imagej.net/index.php?title=SNT:_Step-By-Step_Instructions&amp;oldid=45512</a>"</div>
							</div>

			<div id="footer">
				<p> This page was last modified on 23 May 2020, at 12:54.</p><ul><li><a href="./ImageJ:Privacy_policy" title="ImageJ:Privacy policy">Privacy policy</a></li><li><a href="./ImageJ:About" class="mw-redirect" title="ImageJ:About">About ImageJ</a></li><li><a href="Imprint" title="Imprint">Imprint</a></li><li><a href="index.php?title=SNT:_Step-By-Step_Instructions&amp;mobileaction=toggle_view_mobile" class="noprint stopMobileRedirectToggle">Mobile view</a></li></ul>			</div>

			<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="./Special:Categories" title="Special:Categories">Categories</a>: <ul><li><a href="index.php?title=Category:SNT&amp;action=edit&amp;redlink=1" class="new" title="Category:SNT (page does not exist)">SNT</a></li><li><a href="./Category:Neuroanatomy" title="Category:Neuroanatomy">Neuroanatomy</a></li></ul></div></div>		</div>

		<div id="bottom-wrap">
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.loader.load(["ext.fancytree","ext.suckerfish","mediawiki.toc","mediawiki.action.view.postEdit","site","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","ext.SimpleTooltip"]);});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":464});});</script>
		</body>
		</html>
		